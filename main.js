!function(){"use strict";function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(e)}function e(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,r(o.key),o)}}function r(e){var r=function(e,r){if("object"!==t(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,"string");if("object"!==t(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===t(r)?r:String(r)}var n=function(){function t(e){var n,o,i,a=this,u=e.popupSelector;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,i=function(t){"Escape"===t.key&&a.close()},(o=r(o="_handleEscClose"))in n?Object.defineProperty(n,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[o]=i,this._popupElement=document.querySelector(u)}var n,o;return n=t,(o=[{key:"open",value:function(){this._popupElement.classList.add("modal_opened"),document.addEventListener("keydown",this._handleEscClose)}},{key:"close",value:function(){this._popupElement.classList.remove("modal_opened"),document.removeEventListener("keydown",this._handleEscClose)}},{key:"setEventListeners",value:function(){var t=this;this._popupElement.addEventListener("click",(function(e){(e.target.classList.contains("modal")||e.target.classList.contains("modal__close"))&&t.close()}))}}])&&e(n.prototype,o),Object.defineProperty(n,"prototype",{writable:!1}),t}();function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function i(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function a(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,i=function(t,e){if("object"!==o(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===o(i)?i:String(i)),n)}var i}function u(){return u="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=c(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},u.apply(this,arguments)}function l(t,e){return l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},l(t,e)}function c(t){return c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},c(t)}var s=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&l(t,e)}(p,t);var e,r,n,s,f=(n=p,s=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=c(n);if(s){var r=c(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===o(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function p(t,e){var r,n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,p),(r=f.call(this,{popupSelector:t}))._handleFormSubmit=e,r._popupForm=r._popupElement.querySelector(".modal__form"),r._inputEls=function(t){if(Array.isArray(t))return i(t)}(n=r._popupForm.querySelectorAll(".modal__input"))||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(n)||function(t,e){if(t){if("string"==typeof t)return i(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?i(t,e):void 0}}(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),r}return e=p,(r=[{key:"close",value:function(){this._popupForm.reset(),u(c(p.prototype),"close",this).call(this)}},{key:"_getInputValues",value:function(){var t={};return this._inputEls.forEach((function(e){t[e.name]=e.value})),t}},{key:"setEventListeners",value:function(){var t=this;this._popupForm.addEventListener("submit",(function(e){e.preventDefault(),t._handleFormSubmit(t._getInputValues())})),u(c(p.prototype),"setEventListeners",this).call(this)}},{key:"getForm",value:function(){return this._popupForm}}])&&a(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),p}(n);function f(t){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},f(t)}function p(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==f(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==f(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===f(o)?o:String(o)),n)}var o}function y(){return y="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=m(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},y.apply(this,arguments)}function d(t,e){return d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},d(t,e)}function m(t){return m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},m(t)}var h=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&d(t,e)}(a,t);var e,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=m(n);if(o){var r=m(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===f(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function a(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(e=i.call(this,{popupSelector:t}))._popupImage=e._popupElement.querySelector(".modal__image"),e._popupTitle=e._popupElement.querySelector(".modal__preview-title"),e}return e=a,(r=[{key:"open",value:function(t,e){this._popupImage.src=t,this._popupImage.alt="A photo of ".concat(e),this._popupTitle.textContent="".concat(e),y(m(a.prototype),"open",this).call(this)}}])&&p(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),a}(n);function v(t){return v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},v(t)}function b(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==v(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==v(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===v(o)?o:String(o)),n)}var o}function _(){return _="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=g(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},_.apply(this,arguments)}function S(t,e){return S=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},S(t,e)}function g(t){return g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},g(t)}var E=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&S(t,e)}(a,t);var e,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=g(n);if(o){var r=g(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===v(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function a(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(e=i.call(this,{popupSelector:t}))._formEl=e._popupElement.querySelector(".modal__form"),e}return e=a,(r=[{key:"setEventListeners",value:function(){var t=this;this._formEl.addEventListener("submit",(function(e){e.preventDefault(),t._handleFormSubmit()})),_(g(a.prototype),"setEventListeners",this).call(this)}},{key:"setSubmitAction",value:function(t){this._handleFormSubmit=t}}])&&b(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),a}(n);function w(t){return w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},w(t)}function k(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function j(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==w(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==w(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===w(o)?o:String(o)),n)}var o}var O=function(){function t(e,r){var n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._inputSelector=e.inputSelector,this._submitButtonSelector=e.submitButtonSelector,this._inactiveButtonClass=e.inactiveButtonClass,this._inputErrorClass=e.inputErrorClass,this._errorClass=e.errorClass,this._formEl=document.querySelector(r),this._submitButtons=this._formEl.querySelector(this._submitButtonSelector),this._inputEls=function(t){if(Array.isArray(t))return k(t)}(n=this._formEl.querySelectorAll(this._inputSelector))||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(n)||function(t,e){if(t){if("string"==typeof t)return k(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?k(t,e):void 0}}(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var e,r;return e=t,(r=[{key:"_checkInputValidity",value:function(t){if(!t.validity.valid)return this._showInputError(t);this._hideInputError(t)}},{key:"_showInputError",value:function(t){var e=this._formEl.querySelector("#".concat(t.id,"-error"));t.classList.add(this._inputErrorClass),e.textContent=t.validationMessage,e.classList.add(this._errorClass)}},{key:"_hideInputError",value:function(t){var e=this._formEl.querySelector("#".concat(t.id,"-error"));t.classList.remove(this._inputErrorClass),e.textContent="",e.classList.remove(this._errorClass)}},{key:"_hasInvalidInput",value:function(t){return!t.every((function(t){return t.validity.valid}))}},{key:"toggleButtonState",value:function(){if(this._hasInvalidInput(this._inputEls))return this._submitButtons.classList.add(this._inactiveButtonClass),void(this._submitButtons.disabled=!0);this._submitButtons.classList.remove(this._inactiveButtonClass),this._submitButtons.disabled=!1}},{key:"_setEventListeners",value:function(){var t=this;this._inputEls.forEach((function(e){e.addEventListener("input",(function(r){t._checkInputValidity(e),t.toggleButtonState()}))}))}},{key:"enableValidation",value:function(){this._formEl.addEventListener("submit",(function(t){t.preventDefault()})),this._setEventListeners()}}])&&j(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}(),P=O;function C(t){return C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},C(t)}function L(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==C(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==C(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===C(o)?o:String(o)),n)}var o}var I=function(){function t(e,r,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._titleEl=document.querySelector(e),this._descriptionEl=document.querySelector(r),this._avatarEl=document.querySelector(n)}var e,r;return e=t,(r=[{key:"getUserInfo",value:function(){return{title:this._titleEl.textContent,description:this._descriptionEl.textContent}}},{key:"setUserInfo",value:function(t,e){this._titleEl.textContent=t,this._descriptionEl.textContent=e}},{key:"setAvatar",value:function(t){this._avatarEl.src=t}}])&&L(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function B(t){return B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},B(t)}function T(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==B(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==B(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===B(o)?o:String(o)),n)}var o}var R=function(){function t(e,r){var n=e.items,o=e.renderer;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._items=n,this._renderer=o,this._container=document.querySelector(r)}var e,r;return e=t,(r=[{key:"renderItems",value:function(){var t=this;this._items.forEach((function(e){t._renderer(e)}))}},{key:"addItem",value:function(t){this._container.prepend(t)}}])&&T(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function q(t){return q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},q(t)}function A(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,U(n.key),n)}}function M(t,e,r){return(e=U(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function U(t){var e=function(t,e){if("object"!==q(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==q(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===q(e)?e:String(e)}var D=function(){function t(e,r,n,o,i){var a=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),M(this,"handleLike",(function(){a._likeButton.classList.toggle("card__like-button_active")})),M(this,"handleDelete",(function(){a._element.remove(),a._element=null})),this._name=e.name,this._link=e.link,this._id=e._id,this._isLiked=e.isLiked,this._handleImageClick=n,this._handleDeleteClick=o,this._handleLikeClick=i,this._cardSelector=r}var e,r;return e=t,(r=[{key:"_getTemplate",value:function(){return document.querySelector(this._cardSelector).content.firstElementChild.cloneNode(!0)}},{key:"isLiked",value:function(){return this._isLiked}},{key:"updateLikeView",value:function(){this._isLiked?this._likeButton.classList.add("card__like-button_active"):this._likeButton.classList.remove("card__like-button_active")}},{key:"_setEventListeners",value:function(){var t=this;this._cardTrash.addEventListener("click",(function(){t._handleDeleteClick(t)})),this._likeButton.addEventListener("click",(function(){t._handleLikeClick(t)})),this._cardImageEl.addEventListener("click",(function(){t._handleImageClick({name:t._name,link:t._link})}))}},{key:"generateCard",value:function(){return this._element=this._getTemplate(),this._likeButton=this._element.querySelector(".card__like-button"),this._removeButton=this._element.querySelector(".card__button-remove"),this._cardImageEl=this._element.querySelector(".card__image"),this._setEventListeners(),this._cardImageEl.src=this._link,this._cardImageEl.alt="Photo of ".concat(this._name),this._element.querySelector(".card__label-title").textContent=this._name,this.updateLikeView(),this._element}}])&&A(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}(),x=D;function F(t){return F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},F(t)}function N(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==F(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==F(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===F(o)?o:String(o)),n)}var o}var V,J=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._headers=e.headers,this.baseUrl=e.baseUrl}var e,r;return e=t,(r=[{key:"_checkResponse",value:function(t){return t.ok?t.json():Promise.reject("Error ".concat(t.status))}},{key:"getInitialCards",value:function(){return fetch(this.baseUrl+"/cards",{headers:this._headers}).then(this._checkResponse)}},{key:"loadInfo",value:function(){return fetch(this.baseUrl+"/users/me",{method:"GET",cohort:"group-42",headers:this._headers}).then(this._checkResponse)}},{key:"editProfile",value:function(t,e){return fetch(this.baseUrl+"/users/me",{method:"PATCH",headers:this._headers,body:JSON.stringify({name:t,about:e})}).then(this._checkResponse)}},{key:"addNewCard",value:function(t){return fetch(this.baseUrl+"/cards",{method:"POST",headers:this._headers,body:JSON.stringify({name:t.name,link:t.link})}).then(this._checkResponse)}},{key:"deleteCard",value:function(t){return fetch(this.baseUrl+"/cards/".concat(t),{method:"DELETE",headers:this._headers,body:JSON.stringify({_id:t})}).then(this._checkResponse)}},{key:"updateLike",value:function(t,e){return fetch(this.baseUrl+"/cards/".concat(t,"/likes"),{method:e?"DELETE":"PUT",headers:this._headers}).then(this._checkResponse)}},{key:"updateAvatar",value:function(t){return fetch(this.baseUrl+"/users/me/avatar",{method:"PATCH",headers:this._headers,body:JSON.stringify({avatar:t})}).then(this._checkResponse)}}])&&N(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}(),H={inputSelector:".modal__input",submitButtonSelector:".modal__button",inactiveButtonClass:"modal__button_disabled",inputErrorClass:"modal__input_type_error",errorClass:"modal__error"},$={profileEditButton:document.querySelector("#profile-edit-button"),profileEditModal:"#profile-edit-modal",profileTitleInput:document.querySelector("#profile-title-input"),profileDescriptionInput:document.querySelector("#profile-description-input"),profileEditForm:document.querySelector("#edit-card-form"),profileAddForm:document.querySelector("#add-card-form"),profileImage:document.querySelector(".profile__avatar"),addNewModalCard:"#add-card-modal",cardListEl:document.querySelector(".cards__list"),profileAddButton:document.querySelector(".profile__plus-button"),deleteCard:"#delete-modal",avatarInput:document.querySelector("#avatar-url-input"),avatarModal:"#avatar-modal",avatarModalButton:document.querySelector("#avatar-modal-button"),addModalButton:document.querySelector(".modal__button"),editModalButton:document.querySelector("#edit-button")},z=new J({baseUrl:"https://around-api.en.tripleten-services.com/v1",headers:{authorization:"f00dbe4d-3bcf-40e3-a46f-9e1ed8206bd5","Content-Type":"application/json"}});z.getInitialCards().then((function(t){(V=new R({items:t,renderer:function(t){W(t)}},"cards__list")).renderItems(),console.log(t)})).catch(console.error),z.loadInfo().then((function(t){console.log(t),ot.setUserInfo(t.name,t.about),ot.setAvatar(t.avatar)})).catch(console.error);var G=new h("#modal-preview");function K(t,e){t.textContent=e}function Q(t){G.open(t)}function W(t){var e=new x(t,"#card-template",Q,Y,Z);V.addItem(e.generateCard())}G.setEventListeners();var X=new E($.deleteCard);function Y(t){X.open(),X.setSubmitAction((function(){z.deleteCard(t._id).then((function(){X.close(),t.handleDelete()})).catch(console.error)}))}function Z(t){z.updateLike(t._id,t.isLiked()).then((function(){t.handleLike(),console.log(t)})).catch(console.error)}X.setEventListeners();var tt=new P(H,$.addNewModalCard);tt.enableValidation(),new P(H,$.profileEditModal).enableValidation(),new P(H,$.avatarModal).enableValidation();var et=new s($.addNewModalCard,(function(t){K($.addModalButton,"Saving..."),z.addNewCard(t).then((function(t){console.log(t),W(t),$.addNewModalCard.reset(),tt.toggleButtonState(),et.close()})).catch(console.error).finally((function(){K($.addModalButton,"Save")}))}));et.setEventListeners(),$.profileAddButton.addEventListener("click",(function(){et.open()}));var rt=new s($.profileEditModal,(function(t){K($.editModalButton,"Saving..."),z.editProfile(t.title,t.description).then((function(t){ot.setUserInfo(t.name,t.about),console.log(t),rt.close()})).catch(console.error).finally((function(){K($.editModalButton,"Save")}))}));rt.setEventListeners(),$.profileEditButton.addEventListener("click",(function(){var t;t=ot.getUserInfo(),$.profileTitleInput.value=t.name,$.profileDescriptionInput.value=t.description,rt.open()}));var nt=new s($.avatarModal,(function(t){K($.avatarModalButton,"Saving..."),z.updateAvatar(t.link).then((function(t){ot.setAvatar(t.avatar),console.log(t),nt.close()})).catch(console.error).finally((function(){K($.avatarModalButton,"Save")}))}));nt.setEventListeners(),$.profileImage.addEventListener("click",(function(){nt.open()}));var ot=new I(".profile__title",".profile__description",".profile__avatar")}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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VUMsa0JBQWtCekksaUJBQWlCLFNBQVMsV0FUdEQsSUFDUTRMLElBQU94QixHQUFTeUIsY0FDdEJyRCxFQUFVRyxrQkFBa0I5SSxNQUFRK0wsRUFBS25LLEtBQ3pDK0csRUFBVUksd0JBQXdCL0ksTUFBUStMLEVBQUtqSCxZQUMvQytHLEdBQVVmLE1BT1osSUFJQSxJQUFNdEIsR0FBYyxJQUFJN0ksRUFDdEJnSSxFQUFVYSxhQWFaLFNBQWdDL0gsR0FDOUJrSixFQUFjaEMsRUFBVWMsa0JBQW1CLGFBQzNDRyxFQUNHcUMsYUFBYXhLLEVBQVlTLE1BQ3pCZ0csTUFBSyxTQUFDUCxHQUNMNEMsR0FBU0UsVUFBVTlDLEVBQUk1QyxRQUN2Qm1GLFFBQVFDLElBQUl4QyxHQUNaNkIsR0FBWTdKLE9BQ2QsSUFDQ3lLLE1BQU1GLFFBQVFHLE9BQ2R1QixTQUFRLFdBQ1BqQixFQUFjaEMsRUFBVWMsa0JBQW1CLE9BQzdDLEdBQ0osSUF2QkFELEdBQVkwQixvQkFNWnZDLEVBQVVPLGFBQWEvSSxpQkFBaUIsU0FBUyxXQUgvQ3FKLEdBQVlzQixNQUtkLElBbUJBLElBQU1QLEdBQVcsSUFBSWpHLEVBQ25CLGtCQUNBLHdCQUNBLG1CIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcHJhY3RpY3VtLy4vc3JjL2NvbXBvbmVudHMvUG9wdXAuanMiLCJ3ZWJwYWNrOi8vcHJhY3RpY3VtLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qcyIsIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZS5qcyIsIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhEZWxldGUuanMiLCJ3ZWJwYWNrOi8vcHJhY3RpY3VtLy4vc3JjL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qcyIsIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvY29tcG9uZW50cy9Vc2VySW5mby5qcyIsIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvY29tcG9uZW50cy9TZWN0aW9uLmpzIiwid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy9jb21wb25lbnRzL0NhcmQuanMiLCJ3ZWJwYWNrOi8vcHJhY3RpY3VtLy4vc3JjL3BhZ2VzL2luZGV4LmpzIiwid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy9jb21wb25lbnRzL0FwaS5qcyIsIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvdXRpbHMvY29uc3RhbnRzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwIHtcclxuICAgIGNvbnN0cnVjdG9yKHsgcG9wdXBTZWxlY3RvciB9KSAge1xyXG4gICAgdGhpcy5fcG9wdXBFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihwb3B1cFNlbGVjdG9yKTtcclxuICAgIH0gXHJcbiAgICBcclxuICAgIG9wZW4oKSB7XHJcbiAgICAgICAgLy9vcGVuIHBvcHVwc1xyXG4gICAgICAgIHRoaXMuX3BvcHVwRWxlbWVudC5jbGFzc0xpc3QuYWRkKFwibW9kYWxfb3BlbmVkXCIpO1xyXG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIHRoaXMuX2hhbmRsZUVzY0Nsb3NlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICBjbG9zZSgpIHtcclxuICAgICAgICAvL2Nsb3NlIHBvcHVwc1xyXG4gICAgICAgICAgICB0aGlzLl9wb3B1cEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShcIm1vZGFsX29wZW5lZFwiKTtcclxuICAgICAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgdGhpcy5faGFuZGxlRXNjQ2xvc2UpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgIF9oYW5kbGVFc2NDbG9zZSA9IChlKSA9PiB7XHJcbiAgICAgICAgLy9saXN0ZW5zIGZvciBlc2MgYnV0dG9uXHJcbiAgICAgICAgICBpZiAoZS5rZXkgPT09IFwiRXNjYXBlXCIpIHtcclxuICAgICAgICAgICAgdGhpcy5jbG9zZSgpO1xyXG4gICAgICAgICAgfSAgICAgIFxyXG4gICAgICAgIH07XHJcblxyXG4gICAgc2V0RXZlbnRMaXN0ZW5lcnMoKXtcclxuICAgICAgICAvL3NldHMgbGlzdGVuZXJzXHJcbiAgICAgICAgdGhpcy5fcG9wdXBFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZXZ0KSA9PntcclxuICAgICAgICAgICAgaWYgKFxyXG4gICAgICAgICAgICAgIGV2dC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKFwibW9kYWxcIikgfHxcclxuICAgICAgICAgICAgICBldnQudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucyhcIm1vZGFsX19jbG9zZVwiKVxyXG4gICAgICAgICAgICApIHtcclxuICAgICAgICAgICAgICB0aGlzLmNsb3NlKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbn1cclxuXHJcbiIsImltcG9ydCBQb3B1cCBmcm9tIFwiLi9Qb3B1cC5qc1wiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoRm9ybSBleHRlbmRzIFBvcHVwIHtcclxuICAgIGNvbnN0cnVjdG9yIChwb3B1cFNlbGVjdG9yLCBoYW5kbGVGb3JtU3VibWl0KSB7XHJcbiAgICAgICAgc3VwZXIoeyBwb3B1cFNlbGVjdG9yIH0pO1xyXG4gICAgICAgIHRoaXMuX2hhbmRsZUZvcm1TdWJtaXQgPSBoYW5kbGVGb3JtU3VibWl0O1xyXG4gICAgICAgIHRoaXMuX3BvcHVwRm9ybSA9IHRoaXMuX3BvcHVwRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19mb3JtXCIpXHJcbiAgICAgICAgdGhpcy5faW5wdXRFbHMgPSBbLi4udGhpcy5fcG9wdXBGb3JtLnF1ZXJ5U2VsZWN0b3JBbGwoXCIubW9kYWxfX2lucHV0XCIpXTtcclxuICAgIH1cclxuXHJcbiAgICBjbG9zZSgpIHtcclxuICAgICAgICB0aGlzLl9wb3B1cEZvcm0ucmVzZXQoKTtcclxuICAgICAgICBzdXBlci5jbG9zZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIF9nZXRJbnB1dFZhbHVlcygpIHtcclxuICAgICAgICBjb25zdCBpbnB1dFZhbHVlcyA9IHt9O1xyXG4gICAgICAgIHRoaXMuX2lucHV0RWxzLmZvckVhY2goKGlucHV0RWwpID0+IHtcclxuICAgICAgICAgIGlucHV0VmFsdWVzW2lucHV0RWwubmFtZV0gPSBpbnB1dEVsLnZhbHVlO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiBpbnB1dFZhbHVlcztcclxuICAgICAgfVxyXG5cclxuICAgIHNldEV2ZW50TGlzdGVuZXJzKCl7XHJcbiAgICAgICAgdGhpcy5fcG9wdXBGb3JtLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgKGV2dCkgPT4ge1xyXG4gICAgICAgICAgICBldnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgdGhpcy5faGFuZGxlRm9ybVN1Ym1pdCh0aGlzLl9nZXRJbnB1dFZhbHVlcygpKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBzdXBlci5zZXRFdmVudExpc3RlbmVycygpO1xyXG4gICAgfVxyXG5cclxuICAgIGdldEZvcm0oKXtcclxuICAgICAgICByZXR1cm4gdGhpcy5fcG9wdXBGb3JtO1xyXG4gICAgfVxyXG5cclxufVxyXG4iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXAuanNcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aEltYWdlIGV4dGVuZHMgUG9wdXAge1xyXG4gICAgY29uc3RydWN0b3IocG9wdXBTZWxlY3Rvcikge1xyXG4gICAgICAgIHN1cGVyKHsgcG9wdXBTZWxlY3RvciB9KTtcclxuICAgICAgICB0aGlzLl9wb3B1cEltYWdlID0gdGhpcy5fcG9wdXBFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2ltYWdlXCIpO1xyXG4gICAgICAgIHRoaXMuX3BvcHVwVGl0bGUgPSB0aGlzLl9wb3B1cEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fcHJldmlldy10aXRsZVwiKTtcclxuICAgIH1cclxuXHJcbiAgICBvcGVuKCBsaW5rLCBuYW1lICl7XHJcbiAgICAgICAgdGhpcy5fcG9wdXBJbWFnZS5zcmMgPSBsaW5rO1xyXG4gICAgICAgIHRoaXMuX3BvcHVwSW1hZ2UuYWx0ID0gYEEgcGhvdG8gb2YgJHtuYW1lfWA7XHJcbiAgICAgICAgdGhpcy5fcG9wdXBUaXRsZS50ZXh0Q29udGVudCA9IGAke25hbWV9YDtcclxuICAgICAgICBzdXBlci5vcGVuKCk7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXAuanNcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aERlbGV0ZSBleHRlbmRzIFBvcHVwIHtcclxuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yKSB7XHJcbiAgICBzdXBlcih7IHBvcHVwU2VsZWN0b3IgfSk7XHJcbiAgICB0aGlzLl9mb3JtRWwgPSB0aGlzLl9wb3B1cEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fZm9ybVwiKTtcclxuICB9XHJcblxyXG4gIFxyXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgdGhpcy5fZm9ybUVsLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgKGUpID0+IHtcclxuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICB0aGlzLl9oYW5kbGVGb3JtU3VibWl0KCk7XHJcbiAgICB9KTtcclxuICAgIHN1cGVyLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcbiAgfVxyXG5cclxuICBzZXRTdWJtaXRBY3Rpb24oaGFuZGxlRm9ybVN1Ym1pdCkge1xyXG4gICAgdGhpcy5faGFuZGxlRm9ybVN1Ym1pdCA9IGhhbmRsZUZvcm1TdWJtaXQ7XHJcbiAgfVxyXG59IiwiY2xhc3MgRm9ybVZhbGlkYXRvciB7XHJcbiAgICBjb25zdHJ1Y3RvciggdmFsaWRhdGlvblNldHRpbmdzLCBmb3JtU2VsZWN0b3IgKSB7XHJcbiAgICAgIHRoaXMuX2lucHV0U2VsZWN0b3IgPSB2YWxpZGF0aW9uU2V0dGluZ3MuaW5wdXRTZWxlY3RvcjtcclxuICAgICAgdGhpcy5fc3VibWl0QnV0dG9uU2VsZWN0b3IgPSB2YWxpZGF0aW9uU2V0dGluZ3Muc3VibWl0QnV0dG9uU2VsZWN0b3I7XHJcbiAgICAgIHRoaXMuX2luYWN0aXZlQnV0dG9uQ2xhc3MgPSB2YWxpZGF0aW9uU2V0dGluZ3MuaW5hY3RpdmVCdXR0b25DbGFzcztcclxuICAgICAgdGhpcy5faW5wdXRFcnJvckNsYXNzID0gdmFsaWRhdGlvblNldHRpbmdzLmlucHV0RXJyb3JDbGFzcztcclxuICAgICAgdGhpcy5fZXJyb3JDbGFzcyA9IHZhbGlkYXRpb25TZXR0aW5ncy5lcnJvckNsYXNzO1xyXG4gICAgICB0aGlzLl9mb3JtRWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCBmb3JtU2VsZWN0b3IgKTtcclxuICAgICAgdGhpcy5fc3VibWl0QnV0dG9ucyA9IHRoaXMuX2Zvcm1FbC5xdWVyeVNlbGVjdG9yKHRoaXMuX3N1Ym1pdEJ1dHRvblNlbGVjdG9yKTtcclxuICAgICAgdGhpcy5faW5wdXRFbHMgPSBbLi4udGhpcy5fZm9ybUVsLnF1ZXJ5U2VsZWN0b3JBbGwodGhpcy5faW5wdXRTZWxlY3RvcildO1xyXG4gICAgfVxyXG4gIFxyXG4gICAgX2NoZWNrSW5wdXRWYWxpZGl0eShpbnB1dEVsKSB7XHJcbiAgICAgIGlmICghaW5wdXRFbC52YWxpZGl0eS52YWxpZCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9zaG93SW5wdXRFcnJvcihpbnB1dEVsKTtcclxuICAgICAgfVxyXG4gICAgICB0aGlzLl9oaWRlSW5wdXRFcnJvcihpbnB1dEVsKTtcclxuICAgIH1cclxuICBcclxuICAgIF9zaG93SW5wdXRFcnJvcihpbnB1dCkge1xyXG4gICAgICBjb25zdCBlcnJvck1lc3NhZ2VFbCA9IHRoaXMuX2Zvcm1FbC5xdWVyeVNlbGVjdG9yKGAjJHtpbnB1dC5pZH0tZXJyb3JgKTtcclxuICAgICAgaW5wdXQuY2xhc3NMaXN0LmFkZCh0aGlzLl9pbnB1dEVycm9yQ2xhc3MpO1xyXG4gICAgICBlcnJvck1lc3NhZ2VFbC50ZXh0Q29udGVudCA9IGlucHV0LnZhbGlkYXRpb25NZXNzYWdlO1xyXG4gICAgICBlcnJvck1lc3NhZ2VFbC5jbGFzc0xpc3QuYWRkKHRoaXMuX2Vycm9yQ2xhc3MpO1xyXG4gICAgfVxyXG4gIFxyXG4gICAgX2hpZGVJbnB1dEVycm9yKGlucHV0KSB7XHJcbiAgICAgIGNvbnN0IGVycm9yTWVzc2FnZUVsID0gdGhpcy5fZm9ybUVsLnF1ZXJ5U2VsZWN0b3IoYCMke2lucHV0LmlkfS1lcnJvcmApO1xyXG4gICAgICBpbnB1dC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2lucHV0RXJyb3JDbGFzcyk7XHJcbiAgICAgIGVycm9yTWVzc2FnZUVsLnRleHRDb250ZW50ID0gXCJcIjtcclxuICAgICAgZXJyb3JNZXNzYWdlRWwuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9lcnJvckNsYXNzKTtcclxuICAgIH1cclxuICBcclxuICAgIF9oYXNJbnZhbGlkSW5wdXQoaW5wdXRMaXN0KSB7XHJcbiAgICAgIHJldHVybiAhaW5wdXRMaXN0LmV2ZXJ5KChpbnB1dEVsKSA9PiBpbnB1dEVsLnZhbGlkaXR5LnZhbGlkKTtcclxuICAgIH1cclxuICBcclxuICAgIHRvZ2dsZUJ1dHRvblN0YXRlKCkge1xyXG4gICAgICBpZiAodGhpcy5faGFzSW52YWxpZElucHV0KHRoaXMuX2lucHV0RWxzKSkge1xyXG4gICAgICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbnMuY2xhc3NMaXN0LmFkZCh0aGlzLl9pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcclxuICAgICAgICB0aGlzLl9zdWJtaXRCdXR0b25zLmRpc2FibGVkID0gdHJ1ZTtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuICAgICAgdGhpcy5fc3VibWl0QnV0dG9ucy5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2luYWN0aXZlQnV0dG9uQ2xhc3MpO1xyXG4gICAgICB0aGlzLl9zdWJtaXRCdXR0b25zLmRpc2FibGVkID0gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgXHJcbiAgICBfc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICAgIHRoaXMuX2lucHV0RWxzLmZvckVhY2goKGlucHV0RWwpID0+IHtcclxuICAgICAgICBpbnB1dEVsLmFkZEV2ZW50TGlzdGVuZXIoXCJpbnB1dFwiLCAoZSkgPT4ge1xyXG4gICAgICAgICAgdGhpcy5fY2hlY2tJbnB1dFZhbGlkaXR5KGlucHV0RWwpO1xyXG4gICAgICAgICAgdGhpcy50b2dnbGVCdXR0b25TdGF0ZSgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuICBcclxuICAgIGVuYWJsZVZhbGlkYXRpb24oKSB7XHJcbiAgICAgIHRoaXMuX2Zvcm1FbC5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIChlKSA9PiB7XHJcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICB9KTtcclxuICAgICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuICAgIH1cclxuICB9XHJcbiAgZXhwb3J0IGRlZmF1bHQgRm9ybVZhbGlkYXRvcjtcclxuXHJcbiIsImV4cG9ydCBjbGFzcyBVc2VySW5mbyB7XHJcbiAgICBjb25zdHJ1Y3Rvcih0aXRsZVNlbGVjdG9yLCBkZXNjcmlwdGlvblNlbGVjdG9yLCBhdmF0YXJTZWxlY3Rvcikge1xyXG4gICAgICAgIHRoaXMuX3RpdGxlRWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRpdGxlU2VsZWN0b3IpO1xyXG4gICAgICAgIHRoaXMuX2Rlc2NyaXB0aW9uRWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGRlc2NyaXB0aW9uU2VsZWN0b3IpO1xyXG4gICAgICAgIHRoaXMuX2F2YXRhckVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihhdmF0YXJTZWxlY3Rvcik7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0VXNlckluZm8oKSB7XHJcbiAgICAgICAgY29uc3QgdXNlckluZm8gPSB7XHJcbiAgICAgICAgICAgIHRpdGxlOiB0aGlzLl90aXRsZUVsLnRleHRDb250ZW50LFxyXG4gICAgICAgICAgICBkZXNjcmlwdGlvbjogdGhpcy5fZGVzY3JpcHRpb25FbC50ZXh0Q29udGVudCxcclxuICAgICAgICB9O1xyXG4gICAgICAgIHJldHVybiB1c2VySW5mbztcclxuICAgIH1cclxuXHJcbiAgICBzZXRVc2VySW5mbyh0aXRsZSwgZGVzY3JpcHRpb24pIHtcclxuICAgICAgICB0aGlzLl90aXRsZUVsLnRleHRDb250ZW50ID0gdGl0bGU7XHJcbiAgICAgICAgdGhpcy5fZGVzY3JpcHRpb25FbC50ZXh0Q29udGVudCA9IGRlc2NyaXB0aW9uO1xyXG4gICAgfVxyXG5cclxuICAgIHNldEF2YXRhcihhdmF0YXIpIHtcclxuICAgICAgICB0aGlzLl9hdmF0YXJFbC5zcmMgPSBhdmF0YXI7XHJcbiAgICB9XHJcblxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBVc2VySW5mbzsiLCJjbGFzcyBTZWN0aW9uIHtcclxuICBjb25zdHJ1Y3Rvcih7IGl0ZW1zLCByZW5kZXJlciB9LCBjb250YWluZXJTZWxlY3Rvcikge1xyXG4gICAgdGhpcy5faXRlbXMgPSBpdGVtcztcclxuICAgIHRoaXMuX3JlbmRlcmVyID0gcmVuZGVyZXI7XHJcbiAgICB0aGlzLl9jb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGNvbnRhaW5lclNlbGVjdG9yKTtcclxuICB9XHJcblxyXG4gIHJlbmRlckl0ZW1zKCkge1xyXG4gICAgdGhpcy5faXRlbXMuZm9yRWFjaCgoaXRlbSkgPT4ge1xyXG4gICAgICB0aGlzLl9yZW5kZXJlcihpdGVtKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgYWRkSXRlbShlbGVtZW50KSB7XHJcbiAgICB0aGlzLl9jb250YWluZXIucHJlcGVuZChlbGVtZW50KTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IFNlY3Rpb247IiwiY2xhc3MgQ2FyZCB7XHJcbiAgY29uc3RydWN0b3IoXHJcbiAgICBkYXRhLFxyXG4gICAgY2FyZFNlbGVjdG9yLFxyXG4gICAgaGFuZGxlSW1hZ2VDbGljayxcclxuICAgIGhhbmRsZURlbGV0ZUNsaWNrLFxyXG4gICAgaGFuZGxlTGlrZUNsaWNrXHJcbiAgKSB7XHJcbiAgICB0aGlzLl9uYW1lID0gZGF0YS5uYW1lO1xyXG4gICAgdGhpcy5fbGluayA9IGRhdGEubGluaztcclxuICAgIHRoaXMuX2lkID0gZGF0YS5faWQ7XHJcbiAgICB0aGlzLl9pc0xpa2VkID0gZGF0YS5pc0xpa2VkO1xyXG4gICAgdGhpcy5faGFuZGxlSW1hZ2VDbGljayA9IGhhbmRsZUltYWdlQ2xpY2s7XHJcbiAgICB0aGlzLl9oYW5kbGVEZWxldGVDbGljayA9IGhhbmRsZURlbGV0ZUNsaWNrO1xyXG4gICAgdGhpcy5faGFuZGxlTGlrZUNsaWNrID0gaGFuZGxlTGlrZUNsaWNrO1xyXG5cclxuICAgIHRoaXMuX2NhcmRTZWxlY3RvciA9IGNhcmRTZWxlY3RvcjtcclxuICB9XHJcblxyXG4gIF9nZXRUZW1wbGF0ZSgpIHtcclxuICAgIGNvbnN0IGNhcmRFbGVtZW50ID0gZG9jdW1lbnRcclxuICAgICAgLnF1ZXJ5U2VsZWN0b3IodGhpcy5fY2FyZFNlbGVjdG9yKVxyXG4gICAgICAuY29udGVudC5maXJzdEVsZW1lbnRDaGlsZC5jbG9uZU5vZGUodHJ1ZSk7XHJcblxyXG4gICAgcmV0dXJuIGNhcmRFbGVtZW50O1xyXG4gIH1cclxuXHJcbiAgaXNMaWtlZCgpIHtcclxuICAgIHJldHVybiB0aGlzLl9pc0xpa2VkO1xyXG4gIH1cclxuXHJcbiAgaGFuZGxlTGlrZSA9ICgpID0+IHtcclxuICAgIHRoaXMuX2xpa2VCdXR0b24uY2xhc3NMaXN0LnRvZ2dsZShcImNhcmRfX2xpa2UtYnV0dG9uX2FjdGl2ZVwiKTtcclxuICB9O1xyXG5cclxuICBoYW5kbGVEZWxldGUgPSAoKSA9PiB7XHJcbiAgICB0aGlzLl9lbGVtZW50LnJlbW92ZSgpO1xyXG4gICAgdGhpcy5fZWxlbWVudCA9IG51bGw7XHJcbiAgfTtcclxuXHJcbiAgdXBkYXRlTGlrZVZpZXcoKSB7XHJcbiAgICBpZiAodGhpcy5faXNMaWtlZCkge1xyXG4gICAgICB0aGlzLl9saWtlQnV0dG9uLmNsYXNzTGlzdC5hZGQoXCJjYXJkX19saWtlLWJ1dHRvbl9hY3RpdmVcIik7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLl9saWtlQnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoXCJjYXJkX19saWtlLWJ1dHRvbl9hY3RpdmVcIik7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBfc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICB0aGlzLl9jYXJkVHJhc2guYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgICAgdGhpcy5faGFuZGxlRGVsZXRlQ2xpY2sodGhpcyk7XHJcbiAgICB9KTtcclxuICAgIHRoaXMuX2xpa2VCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgICAgdGhpcy5faGFuZGxlTGlrZUNsaWNrKHRoaXMpO1xyXG4gICAgfSk7XHJcbiAgICB0aGlzLl9jYXJkSW1hZ2VFbC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgICB0aGlzLl9oYW5kbGVJbWFnZUNsaWNrKHsgbmFtZTogdGhpcy5fbmFtZSwgbGluazogdGhpcy5fbGluayB9KTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgZ2VuZXJhdGVDYXJkKCkge1xyXG4gICAgdGhpcy5fZWxlbWVudCA9IHRoaXMuX2dldFRlbXBsYXRlKCk7XHJcbiAgICB0aGlzLl9saWtlQnV0dG9uID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2xpa2UtYnV0dG9uXCIpO1xyXG4gICAgdGhpcy5fcmVtb3ZlQnV0dG9uID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2J1dHRvbi1yZW1vdmVcIik7XHJcbiAgICB0aGlzLl9jYXJkSW1hZ2VFbCA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX19pbWFnZVwiKTtcclxuXHJcbiAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xyXG5cclxuICAgIHRoaXMuX2NhcmRJbWFnZUVsLnNyYyA9IHRoaXMuX2xpbms7XHJcbiAgICB0aGlzLl9jYXJkSW1hZ2VFbC5hbHQgPSBgUGhvdG8gb2YgJHt0aGlzLl9uYW1lfWA7XHJcbiAgICB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9fbGFiZWwtdGl0bGVcIikudGV4dENvbnRlbnQgPVxyXG4gICAgICB0aGlzLl9uYW1lO1xyXG5cclxuICAgIHRoaXMudXBkYXRlTGlrZVZpZXcoKTtcclxuXHJcbiAgICByZXR1cm4gdGhpcy5fZWxlbWVudDtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IENhcmQ7XHJcbiIsImltcG9ydCBQb3B1cFdpdGhGb3JtIGZyb20gXCIuLi9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanNcIjtcclxuaW1wb3J0IFBvcHVwV2l0aEltYWdlIGZyb20gXCIuLi9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzXCI7XHJcbmltcG9ydCBQb3B1cFdpdGhEZWxldGUgZnJvbSBcIi4uL2NvbXBvbmVudHMvUG9wdXBXaXRoRGVsZXRlLmpzXCI7XHJcbmltcG9ydCBGb3JtVmFsaWRhdG9yIGZyb20gXCIuLi9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanNcIjtcclxuaW1wb3J0IFVzZXJJbmZvIGZyb20gXCIuLi9jb21wb25lbnRzL1VzZXJJbmZvLmpzXCI7XHJcbmltcG9ydCBTZWN0aW9uIGZyb20gXCIuLi9jb21wb25lbnRzL1NlY3Rpb24uanNcIjtcclxuaW1wb3J0IENhcmQgZnJvbSBcIi4uL2NvbXBvbmVudHMvQ2FyZC5qc1wiO1xyXG5pbXBvcnQgQXBpIGZyb20gXCIuLi9jb21wb25lbnRzL0FwaS5qc1wiO1xyXG5pbXBvcnQgXCIuL2luZGV4LmNzc1wiO1xyXG5pbXBvcnQgeyB2YWxpZGF0aW9uU2V0dGluZ3MsIHZhcmlhYmxlcyB9IGZyb20gXCIuLi91dGlscy9jb25zdGFudHMuanNcIjtcclxuXHJcbi8vIEFQSVxyXG5cclxuY29uc3QgYXBpID0gbmV3IEFwaSh7XHJcbiAgYmFzZVVybDogXCJodHRwczovL2Fyb3VuZC1hcGkuZW4udHJpcGxldGVuLXNlcnZpY2VzLmNvbS92MVwiLFxyXG4gIGhlYWRlcnM6IHtcclxuICAgIGF1dGhvcml6YXRpb246IFwiZjAwZGJlNGQtM2JjZi00MGUzLWE0NmYtOWUxZWQ4MjA2YmQ1XCIsXHJcbiAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcclxuICB9LFxyXG59KTtcclxuXHJcbi8vIFNFQ1RJT05cclxuXHJcbmxldCBzZWN0aW9uO1xyXG5cclxuYXBpXHJcbiAgLmdldEluaXRpYWxDYXJkcygpXHJcbiAgLnRoZW4oKHJlcykgPT4ge1xyXG4gICAgc2VjdGlvbiA9IG5ldyBTZWN0aW9uKFxyXG4gICAgICB7XHJcbiAgICAgICAgaXRlbXM6IHJlcyxcclxuICAgICAgICByZW5kZXJlcjogKGNhcmREYXRhKSA9PiB7XHJcbiAgICAgICAgICBjcmVhdGVDYXJkKGNhcmREYXRhKTtcclxuICAgICAgICB9LFxyXG4gICAgICB9LFxyXG4gICAgICBcImNhcmRzX19saXN0XCJcclxuICAgICk7XHJcbiAgICBzZWN0aW9uLnJlbmRlckl0ZW1zKCk7XHJcbiAgICBjb25zb2xlLmxvZyhyZXMpO1xyXG4gIH0pXHJcbiAgLmNhdGNoKGNvbnNvbGUuZXJyb3IpO1xyXG5cclxuYXBpXHJcbiAgLmxvYWRJbmZvKClcclxuICAudGhlbigocmVzKSA9PiB7XHJcbiAgICBjb25zb2xlLmxvZyhyZXMpO1xyXG4gICAgdXNlckluZm8uc2V0VXNlckluZm8ocmVzLm5hbWUsIHJlcy5hYm91dCk7XHJcbiAgICB1c2VySW5mby5zZXRBdmF0YXIocmVzLmF2YXRhcik7XHJcbiAgfSlcclxuICAuY2F0Y2goY29uc29sZS5lcnJvcik7XHJcblxyXG4vLyBQT1BVUCBXSVRIIElNQUdFXHJcblxyXG5jb25zdCBwb3B1cFdpdGhJbWFnZSA9IG5ldyBQb3B1cFdpdGhJbWFnZShcclxuICBcIiNtb2RhbC1wcmV2aWV3XCIpO1xyXG5wb3B1cFdpdGhJbWFnZS5zZXRFdmVudExpc3RlbmVycygpO1xyXG5cclxuLy8gU0FWRSBCVVRUT04gVEVYVCBDSEFOR0UgRlVOQ1RJT04gRk9SIEZPUk1TXHJcblxyXG5mdW5jdGlvbiBzZXRCdXR0b25UZXh0KGJ1dHRvbiwgdGV4dCkge1xyXG4gIGJ1dHRvbi50ZXh0Q29udGVudCA9IHRleHQ7XHJcbn1cclxuXHJcbi8vIENBUkRcclxuXHJcbmZ1bmN0aW9uIGhhbmRsZUltYWdlQ2xpY2soY2FyZERhdGEpIHtcclxuICBwb3B1cFdpdGhJbWFnZS5vcGVuKGNhcmREYXRhKTtcclxufVxyXG5cclxuZnVuY3Rpb24gY3JlYXRlQ2FyZChjYXJkRGF0YSkge1xyXG4gIGNvbnN0IGNhcmQgPSBuZXcgQ2FyZChcclxuICAgIGNhcmREYXRhLFxyXG4gICAgXCIjY2FyZC10ZW1wbGF0ZVwiLFxyXG4gICAgaGFuZGxlSW1hZ2VDbGljayxcclxuICAgIGhhbmRsZURlbGV0ZUNsaWNrLFxyXG4gICAgaGFuZGxlTGlrZUNsaWNrXHJcbiAgKTtcclxuICBzZWN0aW9uLmFkZEl0ZW0oY2FyZC5nZW5lcmF0ZUNhcmQoKSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGhhbmRsZUFkZENhcmRTdWJtaXQoaW5wdXRWYWx1ZXMpIHtcclxuICBzZXRCdXR0b25UZXh0KHZhcmlhYmxlcy5hZGRNb2RhbEJ1dHRvbiwgXCJTYXZpbmcuLi5cIik7XHJcbiAgYXBpXHJcbiAgICAuYWRkTmV3Q2FyZChpbnB1dFZhbHVlcylcclxuICAgIC50aGVuKChyZXMpID0+IHtcclxuICAgICAgY29uc29sZS5sb2cocmVzKTtcclxuICAgICAgLy8gY3JlYXRlIGEgbmV3IGNhcmRcclxuICAgICAgY3JlYXRlQ2FyZChyZXMpO1xyXG4gICAgICAvLyByZW5kZXIgaXRcclxuICAgICAgdmFyaWFibGVzLmFkZE5ld01vZGFsQ2FyZC5yZXNldCgpO1xyXG4gICAgICAvLyB0b2dnbGUgYnV0dG9uIHN0YXRlXHJcbiAgICAgIGFkZEZvcm1WYWxpZGF0b3IudG9nZ2xlQnV0dG9uU3RhdGUoKTtcclxuICAgICAgLy8gY2xvc2UgbW9kYWxcclxuICAgICAgYWRkUG9wdXAuY2xvc2UoKTtcclxuICAgIH0pXHJcbiAgICAuY2F0Y2goY29uc29sZS5lcnJvcilcclxuICAgIC5maW5hbGx5KCgpID0+IHtcclxuICAgICAgc2V0QnV0dG9uVGV4dCh2YXJpYWJsZXMuYWRkTW9kYWxCdXR0b24sIFwiU2F2ZVwiKTtcclxuICAgIH0pO1xyXG59XHJcblxyXG4vLyBIQU5ETEUgREVMRVRFIE1PREFMXHJcblxyXG5jb25zdCBkZWxldGVNb2RhbCA9IG5ldyBQb3B1cFdpdGhEZWxldGUoXHJcbiAgdmFyaWFibGVzLmRlbGV0ZUNhcmQpO1xyXG5kZWxldGVNb2RhbC5zZXRFdmVudExpc3RlbmVycygpO1xyXG5cclxuZnVuY3Rpb24gaGFuZGxlRGVsZXRlQ2xpY2soY2FyZCkge1xyXG4gIC8vIG9wZW4gdGhlIG1vZGFsXHJcbiAgZGVsZXRlTW9kYWwub3BlbigpO1xyXG4gIC8vIHNldCB0aGUgc3VibWl0IGFjdGlvblxyXG4gIGRlbGV0ZU1vZGFsLnNldFN1Ym1pdEFjdGlvbigoKSA9PiB7XHJcbiAgICBhcGlcclxuICAgICAgLmRlbGV0ZUNhcmQoY2FyZC5faWQpXHJcbiAgICAgIC50aGVuKCgpID0+IHtcclxuICAgICAgICBkZWxldGVNb2RhbC5jbG9zZSgpO1xyXG4gICAgICAgIGNhcmQuaGFuZGxlRGVsZXRlKCk7XHJcbiAgICAgIH0pXHJcbiAgICAgIC5jYXRjaChjb25zb2xlLmVycm9yKTtcclxuICB9KTtcclxufVxyXG5cclxuLy8gQ0FSRCBMSUtFXHJcblxyXG5mdW5jdGlvbiBoYW5kbGVMaWtlQ2xpY2soY2FyZCkge1xyXG4gIGFwaVxyXG4gICAgLnVwZGF0ZUxpa2UoY2FyZC5faWQsIGNhcmQuaXNMaWtlZCgpKVxyXG4gICAgLnRoZW4oKCkgPT4ge1xyXG4gICAgICBjYXJkLmhhbmRsZUxpa2UoKTtcclxuICAgICAgY29uc29sZS5sb2coY2FyZCk7XHJcbiAgICB9KVxyXG4gICAgLmNhdGNoKGNvbnNvbGUuZXJyb3IpO1xyXG59XHJcblxyXG4vLyBGT1JNIFZBTElEQVRPUlxyXG5cclxuY29uc3QgYWRkRm9ybVZhbGlkYXRvciA9IG5ldyBGb3JtVmFsaWRhdG9yKFxyXG4gIHZhbGlkYXRpb25TZXR0aW5ncyxcclxuICB2YXJpYWJsZXMuYWRkTmV3TW9kYWxDYXJkKTtcclxuYWRkRm9ybVZhbGlkYXRvci5lbmFibGVWYWxpZGF0aW9uKCk7XHJcblxyXG5jb25zdCBlZGl0Rm9ybVZhbGlkYXRvciA9IG5ldyBGb3JtVmFsaWRhdG9yKFxyXG4gIHZhbGlkYXRpb25TZXR0aW5ncywgXHJcbiAgdmFyaWFibGVzLnByb2ZpbGVFZGl0TW9kYWwpO1xyXG5lZGl0Rm9ybVZhbGlkYXRvci5lbmFibGVWYWxpZGF0aW9uKCk7XHJcblxyXG5jb25zdCBhdmF0YXJGb3JtVmFsaWRhdG9yID0gbmV3IEZvcm1WYWxpZGF0b3IoXHJcbiAgdmFsaWRhdGlvblNldHRpbmdzLCBcclxuICB2YXJpYWJsZXMuYXZhdGFyTW9kYWwpO1xyXG5hdmF0YXJGb3JtVmFsaWRhdG9yLmVuYWJsZVZhbGlkYXRpb24oKTtcclxuXHJcbi8vIEFERCBGT1JNXHJcblxyXG5jb25zdCBhZGRQb3B1cCA9IG5ldyBQb3B1cFdpdGhGb3JtKFxyXG4gIHZhcmlhYmxlcy5hZGROZXdNb2RhbENhcmQsIFxyXG4gIGhhbmRsZUFkZENhcmRTdWJtaXQpO1xyXG5cclxuZnVuY3Rpb24gb3BlbkFkZEZvcm0oKSB7XHJcbiAgYWRkUG9wdXAub3BlbigpO1xyXG59XHJcblxyXG5hZGRQb3B1cC5zZXRFdmVudExpc3RlbmVycygpO1xyXG5cclxudmFyaWFibGVzLnByb2ZpbGVBZGRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcclxuICBcImNsaWNrXCIsICgpID0+IG9wZW5BZGRGb3JtKCkpO1xyXG5cclxuLy8gRURJVCBGT1JNXHJcblxyXG5jb25zdCBlZGl0UG9wdXAgPSBuZXcgUG9wdXBXaXRoRm9ybShcclxuICB2YXJpYWJsZXMucHJvZmlsZUVkaXRNb2RhbCxcclxuICBoYW5kbGVFZGl0Rm9ybVN1Ym1pdFxyXG4pO1xyXG5cclxuZnVuY3Rpb24gb3BlbkVkaXRGb3JtKCkge1xyXG4gIGNvbnN0IHVzZXIgPSB1c2VySW5mby5nZXRVc2VySW5mbygpO1xyXG4gIHZhcmlhYmxlcy5wcm9maWxlVGl0bGVJbnB1dC52YWx1ZSA9IHVzZXIubmFtZTtcclxuICB2YXJpYWJsZXMucHJvZmlsZURlc2NyaXB0aW9uSW5wdXQudmFsdWUgPSB1c2VyLmRlc2NyaXB0aW9uO1xyXG4gIGVkaXRQb3B1cC5vcGVuKCk7XHJcbn1cclxuXHJcbmVkaXRQb3B1cC5zZXRFdmVudExpc3RlbmVycygpO1xyXG5cclxudmFyaWFibGVzLnByb2ZpbGVFZGl0QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgb3BlbkVkaXRGb3JtKCk7XHJcbn0pO1xyXG5cclxuLy8gQVZBVEFSIEZPUk1cclxuXHJcbmNvbnN0IGF2YXRhck1vZGFsID0gbmV3IFBvcHVwV2l0aEZvcm0oXHJcbiAgdmFyaWFibGVzLmF2YXRhck1vZGFsLFxyXG4gIGhhbmRsZUF2YXRhckZvcm1TdWJtaXRcclxuKTtcclxuYXZhdGFyTW9kYWwuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuXHJcbmZ1bmN0aW9uIG9wZW5BdmF0YXJGb3JtKCkge1xyXG4gIGF2YXRhck1vZGFsLm9wZW4oKTtcclxufVxyXG5cclxudmFyaWFibGVzLnByb2ZpbGVJbWFnZS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gIG9wZW5BdmF0YXJGb3JtKCk7XHJcbn0pO1xyXG5cclxuZnVuY3Rpb24gaGFuZGxlQXZhdGFyRm9ybVN1Ym1pdChpbnB1dFZhbHVlcykge1xyXG4gIHNldEJ1dHRvblRleHQodmFyaWFibGVzLmF2YXRhck1vZGFsQnV0dG9uLCBcIlNhdmluZy4uLlwiKTtcclxuICBhcGlcclxuICAgIC51cGRhdGVBdmF0YXIoaW5wdXRWYWx1ZXMubGluaylcclxuICAgIC50aGVuKChyZXMpID0+IHtcclxuICAgICAgdXNlckluZm8uc2V0QXZhdGFyKHJlcy5hdmF0YXIpO1xyXG4gICAgICBjb25zb2xlLmxvZyhyZXMpO1xyXG4gICAgICBhdmF0YXJNb2RhbC5jbG9zZSgpO1xyXG4gICAgfSlcclxuICAgIC5jYXRjaChjb25zb2xlLmVycm9yKVxyXG4gICAgLmZpbmFsbHkoKCkgPT4ge1xyXG4gICAgICBzZXRCdXR0b25UZXh0KHZhcmlhYmxlcy5hdmF0YXJNb2RhbEJ1dHRvbiwgXCJTYXZlXCIpO1xyXG4gICAgfSk7XHJcbn1cclxuXHJcbi8vIFVTRVIgSU5GT1xyXG5cclxuY29uc3QgdXNlckluZm8gPSBuZXcgVXNlckluZm8oXHJcbiAgXCIucHJvZmlsZV9fdGl0bGVcIixcclxuICBcIi5wcm9maWxlX19kZXNjcmlwdGlvblwiLFxyXG4gIFwiLnByb2ZpbGVfX2F2YXRhclwiXHJcbik7XHJcblxyXG5mdW5jdGlvbiBoYW5kbGVFZGl0Rm9ybVN1Ym1pdChpbnB1dFZhbHVlcykge1xyXG4gIHNldEJ1dHRvblRleHQodmFyaWFibGVzLmVkaXRNb2RhbEJ1dHRvbiwgXCJTYXZpbmcuLi5cIik7XHJcbiAgYXBpXHJcbiAgICAuZWRpdFByb2ZpbGUoaW5wdXRWYWx1ZXMudGl0bGUsIGlucHV0VmFsdWVzLmRlc2NyaXB0aW9uKVxyXG4gICAgLnRoZW4oKHJlcykgPT4ge1xyXG4gICAgICB1c2VySW5mby5zZXRVc2VySW5mbyhyZXMubmFtZSwgcmVzLmFib3V0KTtcclxuICAgICAgY29uc29sZS5sb2cocmVzKTtcclxuICAgICAgZWRpdFBvcHVwLmNsb3NlKCk7XHJcbiAgICB9KVxyXG4gICAgLmNhdGNoKGNvbnNvbGUuZXJyb3IpXHJcbiAgICAuZmluYWxseSgoKSA9PiB7XHJcbiAgICAgIHNldEJ1dHRvblRleHQodmFyaWFibGVzLmVkaXRNb2RhbEJ1dHRvbiwgXCJTYXZlXCIpO1xyXG4gICAgfSk7XHJcbn1cclxuXHJcbiIsImNsYXNzIEFwaSB7XHJcbiAgY29uc3RydWN0b3Iob3B0aW9ucykge1xyXG4gICAgLy8gY29uc3RydWN0b3IgYm9keVxyXG4gICAgdGhpcy5faGVhZGVycyA9IG9wdGlvbnMuaGVhZGVycztcclxuICAgIHRoaXMuYmFzZVVybCA9IG9wdGlvbnMuYmFzZVVybDtcclxuICB9XHJcblxyXG4gIF9jaGVja1Jlc3BvbnNlKHJlcykge1xyXG4gICAgaWYgKHJlcy5vaykge1xyXG4gICAgICByZXR1cm4gcmVzLmpzb24oKTtcclxuICAgIH1cclxuICAgIHJldHVybiBQcm9taXNlLnJlamVjdChgRXJyb3IgJHtyZXMuc3RhdHVzfWApO1xyXG4gIH1cclxuXHJcbiAgZ2V0SW5pdGlhbENhcmRzKCkge1xyXG4gICAgcmV0dXJuIGZldGNoKHRoaXMuYmFzZVVybCArIFwiL2NhcmRzXCIsIHtcclxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgIH0pLnRoZW4odGhpcy5fY2hlY2tSZXNwb25zZSk7XHJcbiAgfVxyXG5cclxuICAvLyBvdGhlciBtZXRob2RzIGZvciB3b3JraW5nIHdpdGggdGhlIEFQSVxyXG5cclxuICBsb2FkSW5mbygpIHtcclxuICAgIHJldHVybiBmZXRjaCh0aGlzLmJhc2VVcmwgKyBcIi91c2Vycy9tZVwiLCB7XHJcbiAgICAgIG1ldGhvZDogXCJHRVRcIixcclxuICAgICAgY29ob3J0OiBcImdyb3VwLTQyXCIsXHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICB9KS50aGVuKHRoaXMuX2NoZWNrUmVzcG9uc2UpO1xyXG4gIH1cclxuXHJcbiAgZWRpdFByb2ZpbGUobmFtZSwgYWJvdXQpIHtcclxuICAgIHJldHVybiBmZXRjaCh0aGlzLmJhc2VVcmwgKyBcIi91c2Vycy9tZVwiLCB7XHJcbiAgICAgIG1ldGhvZDogXCJQQVRDSFwiLFxyXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgbmFtZTogbmFtZSxcclxuICAgICAgICBhYm91dDogYWJvdXQsXHJcbiAgICAgIH0pLFxyXG4gICAgfSkudGhlbih0aGlzLl9jaGVja1Jlc3BvbnNlKTtcclxuICB9XHJcblxyXG4gIC8vIHBhc3MgbmFtZSBhbmQgbGluayBhcyBhcmd1bWVudFxyXG4gIGFkZE5ld0NhcmQoZGF0YSkge1xyXG4gICAgcmV0dXJuIGZldGNoKHRoaXMuYmFzZVVybCArIFwiL2NhcmRzXCIsIHtcclxuICAgICAgbWV0aG9kOiBcIlBPU1RcIixcclxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xyXG4gICAgICAgIG5hbWU6IGRhdGEubmFtZSxcclxuICAgICAgICBsaW5rOiBkYXRhLmxpbmssXHJcbiAgICAgIH0pLFxyXG4gICAgfSkudGhlbih0aGlzLl9jaGVja1Jlc3BvbnNlKTtcclxuICB9XHJcblxyXG4gIGRlbGV0ZUNhcmQoY2FyZElkKSB7XHJcbiAgICByZXR1cm4gZmV0Y2godGhpcy5iYXNlVXJsICsgYC9jYXJkcy8ke2NhcmRJZH1gLCB7XHJcbiAgICAgIG1ldGhvZDogXCJERUxFVEVcIixcclxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xyXG4gICAgICAgIF9pZDogY2FyZElkLFxyXG4gICAgICB9KSxcclxuICAgIH0pLnRoZW4odGhpcy5fY2hlY2tSZXNwb25zZSk7XHJcbiAgfVxyXG5cclxuICB1cGRhdGVMaWtlKGNhcmRJZCwgaXNMaWtlZCkge1xyXG4gICAgcmV0dXJuIGZldGNoKHRoaXMuYmFzZVVybCArIGAvY2FyZHMvJHtjYXJkSWR9L2xpa2VzYCwge1xyXG4gICAgICBtZXRob2Q6IGlzTGlrZWQgPyBcIkRFTEVURVwiIDogXCJQVVRcIixcclxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgIH0pLnRoZW4odGhpcy5fY2hlY2tSZXNwb25zZSk7XHJcbiAgfVxyXG5cclxuICB1cGRhdGVBdmF0YXIoYXZhdGFyKSB7XHJcbiAgICByZXR1cm4gZmV0Y2godGhpcy5iYXNlVXJsICsgXCIvdXNlcnMvbWUvYXZhdGFyXCIsIHtcclxuICAgICAgbWV0aG9kOiBcIlBBVENIXCIsXHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICBhdmF0YXI6IGF2YXRhcixcclxuICAgICAgfSksXHJcbiAgICB9KS50aGVuKHRoaXMuX2NoZWNrUmVzcG9uc2UpO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgQXBpOyIsIiAgY29uc3QgaW5pdGlhbENhcmRzID0gW1xyXG4gICAge1xyXG4gICAgICBuYW1lOiBcIllvc2VtaXRlIFZhbGxleVwiLFxyXG4gICAgICBsaW5rOiBcImh0dHBzOi8vcHJhY3RpY3VtLWNvbnRlbnQuczMudXMtd2VzdC0xLmFtYXpvbmF3cy5jb20vc29mdHdhcmUtZW5naW5lZXIvYXJvdW5kLXByb2plY3QveW9zZW1pdGUuanBnXCIsXHJcbiAgICAgIGFsdDogXCJZb3NlbWl0ZSBWYWxsZXlcIixcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgIG5hbWU6IFwiTGFrZSBMb3Vpc2VcIixcclxuICAgICAgbGluazogXCJodHRwczovL3ByYWN0aWN1bS1jb250ZW50LnMzLnVzLXdlc3QtMS5hbWF6b25hd3MuY29tL3NvZnR3YXJlLWVuZ2luZWVyL2Fyb3VuZC1wcm9qZWN0L2xha2UtbG91aXNlLmpwZ1wiLFxyXG4gICAgICBhbHQ6IFwiTGFrZSBMb3Vpc2VcIixcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgIG5hbWU6IFwiQmFsZCBNb3VudGFpbnNcIixcclxuICAgICAgbGluazogXCJodHRwczovL3ByYWN0aWN1bS1jb250ZW50LnMzLnVzLXdlc3QtMS5hbWF6b25hd3MuY29tL3NvZnR3YXJlLWVuZ2luZWVyL2Fyb3VuZC1wcm9qZWN0L2JhbGQtbW91bnRhaW5zLmpwZ1wiLFxyXG4gICAgICBhbHQ6IFwiQmFsZCBNb3VudGFpbnNcIixcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgIG5hbWU6IFwiTGF0ZW1hclwiLFxyXG4gICAgICBsaW5rOiBcImh0dHBzOi8vcHJhY3RpY3VtLWNvbnRlbnQuczMudXMtd2VzdC0xLmFtYXpvbmF3cy5jb20vc29mdHdhcmUtZW5naW5lZXIvYXJvdW5kLXByb2plY3QvbGF0ZW1hci5qcGdcIixcclxuICAgICAgYWx0OiBcIkxhdGVtYXJcIixcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgIG5hbWU6IFwiVmFub2lzZSBOYXRpb25hbCBQYXJrXCIsXHJcbiAgICAgIGxpbms6IFwiaHR0cHM6Ly9wcmFjdGljdW0tY29udGVudC5zMy51cy13ZXN0LTEuYW1hem9uYXdzLmNvbS9zb2Z0d2FyZS1lbmdpbmVlci9hcm91bmQtcHJvamVjdC92YW5vaXNlLmpwZyBcIixcclxuICAgICAgYWx0OiBcIlZhbm9pc2UgTmF0aW9uYWwgUGFya1wiLFxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgbmFtZTogXCJMYWdvIGRpIEJyYWllc1wiLFxyXG4gICAgICBsaW5rOiBcImh0dHBzOi8vcHJhY3RpY3VtLWNvbnRlbnQuczMudXMtd2VzdC0xLmFtYXpvbmF3cy5jb20vc29mdHdhcmUtZW5naW5lZXIvYXJvdW5kLXByb2plY3QvbGFnby5qcGcgIFwiLFxyXG4gICAgICBhbHQ6IFwiTGFnbyBkaSBCcmFpZXNcIixcclxuICAgIH0sXHJcbiAgXTtcclxuXHJcbiAgICBjb25zdCB2YWxpZGF0aW9uU2V0dGluZ3MgPSB7XHJcbiAgICAvLyBmb3JtU2VsZWN0b3I6IFwiLm1vZGFsX19mb3JtXCIsXHJcbiAgICBpbnB1dFNlbGVjdG9yOiBcIi5tb2RhbF9faW5wdXRcIixcclxuICAgIHN1Ym1pdEJ1dHRvblNlbGVjdG9yOiBcIi5tb2RhbF9fYnV0dG9uXCIsXHJcbiAgICBpbmFjdGl2ZUJ1dHRvbkNsYXNzOiBcIm1vZGFsX19idXR0b25fZGlzYWJsZWRcIixcclxuICAgIGlucHV0RXJyb3JDbGFzczogXCJtb2RhbF9faW5wdXRfdHlwZV9lcnJvclwiLFxyXG4gICAgZXJyb3JDbGFzczogXCJtb2RhbF9fZXJyb3JcIlxyXG4gIH07XHJcblxyXG4gIGNvbnN0IHZhcmlhYmxlcyA9IHtcclxuICAgICAgcHJvZmlsZUVkaXRCdXR0b246IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcHJvZmlsZS1lZGl0LWJ1dHRvblwiKSxcclxuICAgICAgcHJvZmlsZUVkaXRNb2RhbDogXCIjcHJvZmlsZS1lZGl0LW1vZGFsXCIsXHJcbiAgICAgIHByb2ZpbGVUaXRsZUlucHV0OiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3Byb2ZpbGUtdGl0bGUtaW5wdXRcIiksXHJcbiAgICAgIHByb2ZpbGVEZXNjcmlwdGlvbklucHV0OiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3Byb2ZpbGUtZGVzY3JpcHRpb24taW5wdXRcIiksXHJcbiAgICAgIHByb2ZpbGVFZGl0Rm9ybTogZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNlZGl0LWNhcmQtZm9ybVwiKSxcclxuICAgICAgcHJvZmlsZUFkZEZvcm06IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjYWRkLWNhcmQtZm9ybVwiKSxcclxuICAgICAgcHJvZmlsZUltYWdlOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2F2YXRhclwiKSxcclxuICAgICAgYWRkTmV3TW9kYWxDYXJkOiBcIiNhZGQtY2FyZC1tb2RhbFwiLFxyXG4gICAgICBjYXJkTGlzdEVsOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRzX19saXN0XCIpLFxyXG4gICAgICBwcm9maWxlQWRkQnV0dG9uOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX3BsdXMtYnV0dG9uXCIpLFxyXG4gICAgICBkZWxldGVDYXJkOiBcIiNkZWxldGUtbW9kYWxcIixcclxuICAgICAgYXZhdGFySW5wdXQ6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjYXZhdGFyLXVybC1pbnB1dFwiKSxcclxuICAgICAgYXZhdGFyTW9kYWw6IFwiI2F2YXRhci1tb2RhbFwiLFxyXG4gICAgICBhdmF0YXJNb2RhbEJ1dHRvbjogZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNhdmF0YXItbW9kYWwtYnV0dG9uXCIpLFxyXG4gICAgICBhZGRNb2RhbEJ1dHRvbjogZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fYnV0dG9uXCIpLFxyXG4gICAgICBlZGl0TW9kYWxCdXR0b246IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjZWRpdC1idXR0b25cIiksXHJcbiAgICB9XHJcblxyXG5cclxuZXhwb3J0IHtpbml0aWFsQ2FyZHMsIHZhbGlkYXRpb25TZXR0aW5ncywgdmFyaWFibGVzfTtcclxuXHJcbiJdLCJuYW1lcyI6WyJQb3B1cCIsIl9yZWYiLCJfdGhpcyIsInBvcHVwU2VsZWN0b3IiLCJfY2xhc3NDYWxsQ2hlY2siLCJlIiwia2V5IiwiY2xvc2UiLCJ0aGlzIiwiX3BvcHVwRWxlbWVudCIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsInZhbHVlIiwiY2xhc3NMaXN0IiwiYWRkIiwiYWRkRXZlbnRMaXN0ZW5lciIsIl9oYW5kbGVFc2NDbG9zZSIsInJlbW92ZSIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJfdGhpczIiLCJldnQiLCJ0YXJnZXQiLCJjb250YWlucyIsIlBvcHVwV2l0aEZvcm0iLCJfUG9wdXAiLCJfaW5oZXJpdHMiLCJfc3VwZXIiLCJoYW5kbGVGb3JtU3VibWl0IiwiY2FsbCIsIl9oYW5kbGVGb3JtU3VibWl0IiwiX3BvcHVwRm9ybSIsIl9pbnB1dEVscyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJyZXNldCIsIl9nZXQiLCJfZ2V0UHJvdG90eXBlT2YiLCJwcm90b3R5cGUiLCJpbnB1dFZhbHVlcyIsImZvckVhY2giLCJpbnB1dEVsIiwibmFtZSIsInByZXZlbnREZWZhdWx0IiwiX2dldElucHV0VmFsdWVzIiwiUG9wdXBXaXRoSW1hZ2UiLCJfcG9wdXBJbWFnZSIsIl9wb3B1cFRpdGxlIiwibGluayIsInNyYyIsImFsdCIsImNvbmNhdCIsInRleHRDb250ZW50IiwiUG9wdXBXaXRoRGVsZXRlIiwiX2Zvcm1FbCIsIkZvcm1WYWxpZGF0b3IiLCJ2YWxpZGF0aW9uU2V0dGluZ3MiLCJmb3JtU2VsZWN0b3IiLCJfaW5wdXRTZWxlY3RvciIsImlucHV0U2VsZWN0b3IiLCJfc3VibWl0QnV0dG9uU2VsZWN0b3IiLCJzdWJtaXRCdXR0b25TZWxlY3RvciIsIl9pbmFjdGl2ZUJ1dHRvbkNsYXNzIiwiaW5hY3RpdmVCdXR0b25DbGFzcyIsIl9pbnB1dEVycm9yQ2xhc3MiLCJpbnB1dEVycm9yQ2xhc3MiLCJfZXJyb3JDbGFzcyIsImVycm9yQ2xhc3MiLCJfc3VibWl0QnV0dG9ucyIsInZhbGlkaXR5IiwidmFsaWQiLCJfc2hvd0lucHV0RXJyb3IiLCJfaGlkZUlucHV0RXJyb3IiLCJpbnB1dCIsImVycm9yTWVzc2FnZUVsIiwiaWQiLCJ2YWxpZGF0aW9uTWVzc2FnZSIsImlucHV0TGlzdCIsImV2ZXJ5IiwiX2hhc0ludmFsaWRJbnB1dCIsImRpc2FibGVkIiwiX2NoZWNrSW5wdXRWYWxpZGl0eSIsInRvZ2dsZUJ1dHRvblN0YXRlIiwiX3NldEV2ZW50TGlzdGVuZXJzIiwiVXNlckluZm8iLCJ0aXRsZVNlbGVjdG9yIiwiZGVzY3JpcHRpb25TZWxlY3RvciIsImF2YXRhclNlbGVjdG9yIiwiX3RpdGxlRWwiLCJfZGVzY3JpcHRpb25FbCIsIl9hdmF0YXJFbCIsInRpdGxlIiwiZGVzY3JpcHRpb24iLCJhdmF0YXIiLCJTZWN0aW9uIiwiY29udGFpbmVyU2VsZWN0b3IiLCJpdGVtcyIsInJlbmRlcmVyIiwiX2l0ZW1zIiwiX3JlbmRlcmVyIiwiX2NvbnRhaW5lciIsIml0ZW0iLCJlbGVtZW50IiwicHJlcGVuZCIsIkNhcmQiLCJkYXRhIiwiY2FyZFNlbGVjdG9yIiwiaGFuZGxlSW1hZ2VDbGljayIsImhhbmRsZURlbGV0ZUNsaWNrIiwiaGFuZGxlTGlrZUNsaWNrIiwiX2RlZmluZVByb3BlcnR5IiwiX2xpa2VCdXR0b24iLCJ0b2dnbGUiLCJfZWxlbWVudCIsIl9uYW1lIiwiX2xpbmsiLCJfaWQiLCJfaXNMaWtlZCIsImlzTGlrZWQiLCJfaGFuZGxlSW1hZ2VDbGljayIsIl9oYW5kbGVEZWxldGVDbGljayIsIl9oYW5kbGVMaWtlQ2xpY2siLCJfY2FyZFNlbGVjdG9yIiwiY29udGVudCIsImZpcnN0RWxlbWVudENoaWxkIiwiY2xvbmVOb2RlIiwiX2NhcmRUcmFzaCIsIl9jYXJkSW1hZ2VFbCIsIl9nZXRUZW1wbGF0ZSIsIl9yZW1vdmVCdXR0b24iLCJ1cGRhdGVMaWtlVmlldyIsInNlY3Rpb24iLCJBcGkiLCJvcHRpb25zIiwiX2hlYWRlcnMiLCJoZWFkZXJzIiwiYmFzZVVybCIsInJlcyIsIm9rIiwianNvbiIsIlByb21pc2UiLCJyZWplY3QiLCJzdGF0dXMiLCJmZXRjaCIsInRoZW4iLCJfY2hlY2tSZXNwb25zZSIsIm1ldGhvZCIsImNvaG9ydCIsImFib3V0IiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJjYXJkSWQiLCJ2YXJpYWJsZXMiLCJwcm9maWxlRWRpdEJ1dHRvbiIsInByb2ZpbGVFZGl0TW9kYWwiLCJwcm9maWxlVGl0bGVJbnB1dCIsInByb2ZpbGVEZXNjcmlwdGlvbklucHV0IiwicHJvZmlsZUVkaXRGb3JtIiwicHJvZmlsZUFkZEZvcm0iLCJwcm9maWxlSW1hZ2UiLCJhZGROZXdNb2RhbENhcmQiLCJjYXJkTGlzdEVsIiwicHJvZmlsZUFkZEJ1dHRvbiIsImRlbGV0ZUNhcmQiLCJhdmF0YXJJbnB1dCIsImF2YXRhck1vZGFsIiwiYXZhdGFyTW9kYWxCdXR0b24iLCJhZGRNb2RhbEJ1dHRvbiIsImVkaXRNb2RhbEJ1dHRvbiIsImFwaSIsImF1dGhvcml6YXRpb24iLCJnZXRJbml0aWFsQ2FyZHMiLCJjYXJkRGF0YSIsImNyZWF0ZUNhcmQiLCJyZW5kZXJJdGVtcyIsImNvbnNvbGUiLCJsb2ciLCJjYXRjaCIsImVycm9yIiwibG9hZEluZm8iLCJ1c2VySW5mbyIsInNldFVzZXJJbmZvIiwic2V0QXZhdGFyIiwicG9wdXBXaXRoSW1hZ2UiLCJzZXRCdXR0b25UZXh0IiwiYnV0dG9uIiwidGV4dCIsIm9wZW4iLCJjYXJkIiwiYWRkSXRlbSIsImdlbmVyYXRlQ2FyZCIsInNldEV2ZW50TGlzdGVuZXJzIiwiZGVsZXRlTW9kYWwiLCJzZXRTdWJtaXRBY3Rpb24iLCJoYW5kbGVEZWxldGUiLCJ1cGRhdGVMaWtlIiwiaGFuZGxlTGlrZSIsImFkZEZvcm1WYWxpZGF0b3IiLCJlbmFibGVWYWxpZGF0aW9uIiwiYWRkUG9wdXAiLCJhZGROZXdDYXJkIiwiZmluYWxseSIsImVkaXRQb3B1cCIsImVkaXRQcm9maWxlIiwidXNlciIsImdldFVzZXJJbmZvIiwidXBkYXRlQXZhdGFyIl0sInNvdXJjZVJvb3QiOiIifQ==