!function(){"use strict";function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(e)}function e(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,r(o.key),o)}}function r(e){var r=function(e,r){if("object"!==t(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,"string");if("object"!==t(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===t(r)?r:String(r)}var n=function(){function t(e){var n,o,i,a=this,u=e.popupSelector;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,i=function(t){"Escape"===t.key&&a.close()},(o=r(o="_handleEscClose"))in n?Object.defineProperty(n,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[o]=i,this._popupElement=document.querySelector(u)}var n,o;return n=t,(o=[{key:"open",value:function(){this._popupElement.classList.add("modal_opened"),document.addEventListener("keydown",this._handleEscClose)}},{key:"close",value:function(){this._popupElement.classList.remove("modal_opened"),document.removeEventListener("keydown",this._handleEscClose)}},{key:"setEventListeners",value:function(){var t=this;this._popupElement.addEventListener("click",(function(e){(e.target===t._popupElement||e.target.classList.contains("modal__close"))&&t.close()}))}}])&&e(n.prototype,o),Object.defineProperty(n,"prototype",{writable:!1}),t}();function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function i(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function a(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,i=function(t,e){if("object"!==o(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===o(i)?i:String(i)),n)}var i}function u(){return u="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=c(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},u.apply(this,arguments)}function l(t,e){return l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},l(t,e)}function c(t){return c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},c(t)}var s=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&l(t,e)}(p,t);var e,r,n,s,f=(n=p,s=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=c(n);if(s){var r=c(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===o(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function p(t,e){var r,n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,p),(r=f.call(this,{popupSelector:t}))._handleFormSubmit=e,r._popupForm=r._popupElement.querySelector(".modal__form"),r._inputEls=function(t){if(Array.isArray(t))return i(t)}(n=r._popupForm.querySelectorAll(".modal__input"))||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(n)||function(t,e){if(t){if("string"==typeof t)return i(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?i(t,e):void 0}}(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),r}return e=p,(r=[{key:"close",value:function(){this._popupForm.reset(),u(c(p.prototype),"close",this).call(this)}},{key:"_getInputValues",value:function(){var t={};return inputs.forEach((function(e){return t[e.name]=e.value})),t}},{key:"setEventListeners",value:function(){var t=this;this._popupForm.addEventListener("submit",(function(e){e.preventDefault(),t._handleFormSubmit(t._getInputValues())})),u(c(p.prototype),"setEventListeners",this).call(this)}},{key:"getForm",value:function(){return this._popupForm}}])&&a(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),p}(n);function f(t){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},f(t)}function p(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==f(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==f(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===f(o)?o:String(o)),n)}var o}function y(){return y="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=h(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},y.apply(this,arguments)}function d(t,e){return d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},d(t,e)}function h(t){return h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},h(t)}var m=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&d(t,e)}(a,t);var e,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=h(n);if(o){var r=h(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===f(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function a(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(e=i.call(this,{popupSelector:t}))._popupImage=e._popupElement.querySelector(".modal__image-src"),e._popupTitle=e._popupElement.querySelector(".modal__preview-title"),e}return e=a,(r=[{key:"open",value:function(t,e){this._popupImage.src=t,this._popupImage.alt="A photo of ".concat(e),this._popupTitle.textContent="".concat(e),y(h(a.prototype),"open",this).call(this)}}])&&p(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),a}(n);function v(t){return v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},v(t)}function b(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==v(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==v(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===v(o)?o:String(o)),n)}var o}function _(){return _="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=g(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},_.apply(this,arguments)}function S(t,e){return S=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},S(t,e)}function g(t){return g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},g(t)}var w=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&S(t,e)}(a,t);var e,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=g(n);if(o){var r=g(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===v(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function a(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(e=i.call(this,{popupSelector:t}))._formEl=e._popupElement.querySelector(".modal__form"),e}return e=a,(r=[{key:"setEventListeners",value:function(){var t=this;this._formEl.addEventListener("submit",(function(e){e.preventDefault(),t._handleFormSubmit()})),_(g(a.prototype),"setEventListeners",this).call(this)}},{key:"setSubmitAction",value:function(t){this._handleFormSubmit=t}}])&&b(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),a}(n);function E(t){return E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},E(t)}function k(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function O(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==E(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==E(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===E(o)?o:String(o)),n)}var o}var j=function(){function t(e,r){var n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._inputSelector=r.inputSelector,this._submitButtonSelector=r.submitButtonSelector,this._inactiveButtonClass=r.inactiveButtonClass,this._inputErrorClass=r.inputErrorClass,this._errorClass=r.errorClass,this._formEl=e,this._inputEls=function(t){if(Array.isArray(t))return k(t)}(n=this._formEl.querySelectorAll("modal__input"))||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(n)||function(t,e){if(t){if("string"==typeof t)return k(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?k(t,e):void 0}}(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),this._submitButtons=this._formEl.querySelector(this._submitButtonSelector)}var e,r;return e=t,(r=[{key:"_checkInputValidity",value:function(t){if(!t.validity.valid)return this._showInputError(t);this._hideInputError(t)}},{key:"_showInputError",value:function(t){var e=this._formEl.querySelector("#".concat(t.id,"-error"));t.classList.add(this._inputErrorClass),e.textContent=t.validationMessage,e.classList.add(this._errorClass)}},{key:"_hideInputError",value:function(t){var e=this._formEl.querySelector("#".concat(t.id,"-error"));t.classList.remove(this._inputErrorClass),e.textContent="",e.classList.remove(this._errorClass)}},{key:"_hasInvalidInput",value:function(t){return!t.every((function(t){return t.validity.valid}))}},{key:"toggleButtonState",value:function(){if(this._hasInvalidInput(this._inputEls))return this._submitButtons.classList.add(this._inactiveButtonClass),void(this._submitButtons.disabled=!0);this._submitButtons.classList.remove(this._inactiveButtonClass),this._submitButtons.disabled=!1}},{key:"_setEventListeners",value:function(){var t=this;this._inputEls.forEach((function(e){e.addEventListener("input",(function(r){t._checkInputValidity(e),t.toggleButtonState()}))}))}},{key:"enableValidation",value:function(){this._formEl.addEventListener("submit",(function(t){t.preventDefault()})),this._setEventListeners()}}])&&O(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}(),P=j;function C(t){return C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},C(t)}function L(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==C(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==C(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===C(o)?o:String(o)),n)}var o}var I=function(){function t(e,r){var n=e.items,o=e.renderer;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._items=n,this._renderer=o,this._container=document.querySelector(r)}var e,r;return e=t,(r=[{key:"renderItems",value:function(){var t=this;this._items.forEach((function(e){t._renderer(e)}))}},{key:"addItem",value:function(t){this._container.prepend(t)}}])&&L(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function B(t){return B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},B(t)}function T(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,q(n.key),n)}}function R(t,e,r){return(e=q(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function q(t){var e=function(t,e){if("object"!==B(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==B(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===B(e)?e:String(e)}var A=function(){function t(e,r,n,o,i){var a=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),R(this,"handleLike",(function(){a._likeButton.classList.toggle("card__like-button_active")})),R(this,"handleDelete",(function(){a._element.remove(),a._element=null})),this._name=e.name,this._link=e.link,this._id=e._id,this._isLiked=e.isLiked,this._handleImageClick=n,this._handleDeleteClick=o,this._handleLikeClick=i,this._cardSelector=r}var e,r;return e=t,(r=[{key:"_getTemplate",value:function(){return document.querySelector(this._cardSelector).content.firstElementChild.cloneNode(!0)}},{key:"isLiked",value:function(){return this._isLiked}},{key:"updateLikeView",value:function(){this._isLiked?this._likeButton.classList.add("card__like-button_active"):this._likeButton.classList.remove("card__like-button_active")}},{key:"_setEventListeners",value:function(){var t=this;this._cardTrash.addEventListener("click",(function(){t._handleDeleteClick(t)})),this._likeButton.addEventListener("click",(function(){t._handleLikeClick(t)})),this._cardImageEl.addEventListener("click",(function(){t._handleImageClick({name:t._name,link:t._link})}))}},{key:"generateCard",value:function(){return this._element=this._getTemplate(),this._likeButton=this._element.querySelector(".card__like-button"),this._removeButton=this._element.querySelector(".card__button-remove"),this._cardImageEl=this._element.querySelector(".card__image"),this._setEventListeners(),this._cardImageEl.src=this._link,this._cardImageEl.alt="Photo of ".concat(this._name),this._element.querySelector(".card__label-title").textContent=this._name,this.updateLikeView(),this._element}}])&&T(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}(),M=A;function D(t){return D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},D(t)}function U(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==D(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==D(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===D(o)?o:String(o)),n)}var o}var x,F=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._headers=e.headers,this.baseUrl=e.baseUrl}var e,r;return e=t,(r=[{key:"_checkResponse",value:function(t){return t.ok?t.json():Promise.reject("Error ".concat(t.status))}},{key:"getInitialCards",value:function(){return fetch(this.baseUrl+"/cards",{headers:this._headers}).then(this._checkResponse)}},{key:"loadInfo",value:function(){return fetch(this.baseUrl+"/users/me",{method:"GET",cohort:"group-42",headers:this._headers}).then(this._checkResponse)}},{key:"editProfile",value:function(t,e){return fetch(this.baseUrl+"/users/me",{method:"PATCH",headers:this._headers,body:JSON.stringify({name:t,about:e})}).then(this._checkResponse)}},{key:"addNewCard",value:function(t){return fetch(this.baseUrl+"/cards",{method:"POST",headers:this._headers,body:JSON.stringify({name:t.name,link:t.link})}).then(this._checkResponse)}},{key:"deleteCard",value:function(t){return fetch(this.baseUrl+"/cards/".concat(t),{method:"DELETE",headers:this._headers,body:JSON.stringify({_id:t})}).then(this._checkResponse)}},{key:"updateLike",value:function(t,e){return fetch(this.baseUrl+"/cards/".concat(t,"/likes"),{method:e?"DELETE":"PUT",headers:this._headers}).then(this._checkResponse)}},{key:"updateAvatar",value:function(t){return fetch(this.baseUrl+"/users/me/avatar",{method:"PATCH",headers:this._headers,body:JSON.stringify({avatar:t})}).then(this._checkResponse)}}])&&U(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}(),V={inputSelector:".modal__input",submitButtonSelector:".modal__button",inactiveButtonClass:"modal__button_disabled",inputErrorClass:"modal__input_type_error",errorClass:"modal__error"},N={profileEditButton:document.querySelector("#profile-edit-button"),profileEditModal:document.querySelector("#profile-edit-modal"),profileTitleInput:document.querySelector("#profile-title-input"),profileDescriptionInput:document.querySelector("#profile-description-input"),profileImage:document.querySelector(".profile__image"),addNewModalCard:document.querySelector("#add-card-modal"),cardListEl:document.querySelector(".cards__list"),profileAddButton:document.querySelector(".profile__plus-button"),deleteModal:document.querySelector("#delete-modal"),avatarInput:document.querySelector("#avatar-url-input"),avatarModal:document.querySelector("#avatar-modal"),avatarModalButton:document.querySelector("#avatar-modal-button")},J=new F({baseUrl:"https://around-api.en.tripleten-services.com/v1",headers:{authorization:"f00dbe4d-3bcf-40e3-a46f-9e1ed8206bd5","Content-Type":"application/json"}});J.getInitialCards().then((function(t){(x=new I({items:t,renderer:function(t){G(t)}},"cards__list")).renderItems(),console.log(t)})).catch(console.error),J.loadInfo().then((function(t){console.log(t),userinfo.setUserInfo(t.name,t.about),userinfo.setAvatar(t.avatar)})).catch(console.error);var H=new m("#picture-modal");function $(t,e){t.textContent=e}function z(t){H.open(t)}function G(t){var e=new M(t,"#card-template",z,Q,W);x.addItem(e.generateCard())}H.setEventListeners();var K=new w(N.deleteCardClass);function Q(t){K.open(),K.setSubmitAction((function(){J.deleteCard(t._id).then((function(){K.close(),t.handleDelete()})).catch(console.error)}))}function W(t){J.updateLike(t._id,t.isLiked()).then((function(){t.handleLike(),console.log(t)})).catch(console.error)}K.setEventListeners();var X=new P(V,N.addNewModalCard);X.enableValidation(),new P(V,N.profileEditModal).enableValidation(),new P(V,N.avatarModal).enableValidation();var Y=new s(N.addCardClass,(function(t){$(N.addModalButton,"Saving..."),J.addNewCard(t).then((function(t){console.log(t),G(t),N.profileAddForm.reset(),X.toggleButtonState(),Y.close()})).catch(console.error).finally((function(){$(N.addModalButton,"Save")}))}));Y.setEventListeners(),N.profileAddButton.addEventListener("click",(function(){Y.open()}));var Z=new s(N.editCardClass,(function(t){$(N.editModalButton,"Saving..."),J.editProfile(t.name,t.description).then((function(t){et.setUserInfo(t.name,t.about),console.log(t),Z.close()})).catch(console.error).finally((function(){$(N.editModalButton,"Save")}))}));Z.setEventListeners(),N.profileEditButton.addEventListener("click",(function(){var t;t=et.getUserInfo(),N.nameInput.value=t.name,N.descriptionInput.value=t.description,Z.open()}));var tt=new s(N.avatarModal,(function(t){$(N.avatarModalButton,"Saving..."),J.updateAvatar(t.link).then((function(t){et.setAvatar(t.avatar),console.log(t),tt.close()})).catch(console.error).finally((function(){$(N.avatarModalButton,"Save")}))}));tt.setEventListeners(),N.avatarIcon.addEventListener("click",(function(){tt.open()}));var et=new et(".profile__title",".profile__description",".profile__avatar")}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LCJ3ZWJwYWNrOi8vcHJhY3RpY3VtLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qcyIsIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdJdGhJbWFnZS5qcyIsIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhEZWxldGUuanMiLCJ3ZWJwYWNrOi8vcHJhY3RpY3VtLy4vc3JjL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qcyIsIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvY29tcG9uZW50cy9TZWN0aW9uLmpzIiwid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy9jb21wb25lbnRzL0NhcmQuanMiLCJ3ZWJwYWNrOi8vcHJhY3RpY3VtLy4vc3JjL3BhZ2VzL2luZGV4LmpzIiwid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy9jb21wb25lbnRzL0FwaS5qcyIsIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvdXRpbHMvY29uc3RhbnRzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwIHtcclxuICAgIGNvbnN0cnVjdG9yKHsgcG9wdXBTZWxlY3RvciB9KSAge1xyXG4gICAgdGhpcy5fcG9wdXBFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihwb3B1cFNlbGVjdG9yKTtcclxuICAgIH0gXHJcbiAgICBcclxuICAgIG9wZW4oKSB7XHJcbiAgICAgICAgLy9vcGVuIHBvcHVwc1xyXG4gICAgICAgIHRoaXMuX3BvcHVwRWxlbWVudC5jbGFzc0xpc3QuYWRkKFwibW9kYWxfb3BlbmVkXCIpO1xyXG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIHRoaXMuX2hhbmRsZUVzY0Nsb3NlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICBjbG9zZSgpIHtcclxuICAgICAgICAvL2Nsb3NlIHBvcHVwc1xyXG4gICAgICAgICAgICB0aGlzLl9wb3B1cEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShcIm1vZGFsX29wZW5lZFwiKTtcclxuICAgICAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgdGhpcy5faGFuZGxlRXNjQ2xvc2UpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgIF9oYW5kbGVFc2NDbG9zZSA9IChlKSA9PiB7XHJcbiAgICAgICAgLy9saXN0ZW5zIGZvciBlc2MgYnV0dG9uXHJcbiAgICAgICAgICBpZiAoZS5rZXkgPT09IFwiRXNjYXBlXCIpIHtcclxuICAgICAgICAgICAgdGhpcy5jbG9zZSgpO1xyXG4gICAgICAgICAgfSAgICAgIFxyXG4gICAgICAgIH07XHJcblxyXG4gICAgc2V0RXZlbnRMaXN0ZW5lcnMoKXtcclxuICAgICAgICAvL3NldHMgbGlzdGVuZXJzXHJcbiAgICAgICAgdGhpcy5fcG9wdXBFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZXZ0KSA9PiB7XHJcbiAgICAgICAgICAgIGlmKFxyXG4gICAgICAgICAgICAgICAgZXZ0LnRhcmdldCA9PT0gdGhpcy5fcG9wdXBFbGVtZW50IHx8IGV2dC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKFwibW9kYWxfX2Nsb3NlXCIpXHJcbiAgICAgICAgICAgICkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jbG9zZSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG59XHJcblxyXG4iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXAuanNcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aEZvcm0gZXh0ZW5kcyBQb3B1cCB7XHJcbiAgICBjb25zdHJ1Y3RvciAocG9wdXBTZWxlY3RvciwgaGFuZGxlRm9ybVN1Ym1pdCkge1xyXG4gICAgICAgIHN1cGVyKHsgcG9wdXBTZWxlY3RvciB9KTtcclxuICAgICAgICB0aGlzLl9oYW5kbGVGb3JtU3VibWl0ID0gaGFuZGxlRm9ybVN1Ym1pdDtcclxuICAgICAgICB0aGlzLl9wb3B1cEZvcm0gPSB0aGlzLl9wb3B1cEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fZm9ybVwiKVxyXG4gICAgICAgIHRoaXMuX2lucHV0RWxzID0gWy4uLnRoaXMuX3BvcHVwRm9ybS5xdWVyeVNlbGVjdG9yQWxsKFwiLm1vZGFsX19pbnB1dFwiKV07XHJcbiAgICB9XHJcblxyXG4gICAgY2xvc2UoKSB7XHJcbiAgICAgICAgdGhpcy5fcG9wdXBGb3JtLnJlc2V0KCk7XHJcbiAgICAgICAgc3VwZXIuY2xvc2UoKTtcclxuICAgIH1cclxuXHJcbiAgICBfZ2V0SW5wdXRWYWx1ZXMoKSB7XHJcbiAgICAgICAgY29uc3QgaW5wdXRWYWx1ZXMgPSB7fTtcclxuICAgICAgICBpbnB1dHMuZm9yRWFjaCgoaW5wdXQpID0+IFxyXG4gICAgICAgICAgICAoaW5wdXRWYWx1ZXNbaW5wdXQubmFtZV0gPSBpbnB1dC52YWx1ZSkpO1xyXG4gICAgICAgICAgICByZXR1cm4gaW5wdXRWYWx1ZXM7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0RXZlbnRMaXN0ZW5lcnMoKXtcclxuICAgICAgICB0aGlzLl9wb3B1cEZvcm0uYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCAoZXZ0KSA9PiB7XHJcbiAgICAgICAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICB0aGlzLl9oYW5kbGVGb3JtU3VibWl0KHRoaXMuX2dldElucHV0VmFsdWVzKCkpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHN1cGVyLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0Rm9ybSgpe1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9wb3B1cEZvcm07XHJcbiAgICB9XHJcblxyXG59XHJcbiIsImltcG9ydCBQb3B1cCBmcm9tIFwiLi9Qb3B1cC5qc1wiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoSW1hZ2UgZXh0ZW5kcyBQb3B1cCB7XHJcbiAgICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yKSB7XHJcbiAgICAgICAgc3VwZXIoeyBwb3B1cFNlbGVjdG9yIH0pO1xyXG4gICAgICAgIHRoaXMuX3BvcHVwSW1hZ2UgPSB0aGlzLl9wb3B1cEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9faW1hZ2Utc3JjXCIpO1xyXG4gICAgICAgIHRoaXMuX3BvcHVwVGl0bGUgPSB0aGlzLl9wb3B1cEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fcHJldmlldy10aXRsZVwiKTtcclxuICAgIH1cclxuXHJcbiAgICBvcGVuKCBsaW5rLCBuYW1lICl7XHJcbiAgICAgICAgdGhpcy5fcG9wdXBJbWFnZS5zcmMgPSBsaW5rO1xyXG4gICAgICAgIHRoaXMuX3BvcHVwSW1hZ2UuYWx0ID0gYEEgcGhvdG8gb2YgJHtuYW1lfWA7XHJcbiAgICAgICAgdGhpcy5fcG9wdXBUaXRsZS50ZXh0Q29udGVudCA9IGAke25hbWV9YDtcclxuICAgICAgICBzdXBlci5vcGVuKCk7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXAuanNcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aERlbGV0ZSBleHRlbmRzIFBvcHVwIHtcclxuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yKSB7XHJcbiAgICBzdXBlcih7IHBvcHVwU2VsZWN0b3IgfSk7XHJcbiAgICB0aGlzLl9mb3JtRWwgPSB0aGlzLl9wb3B1cEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fZm9ybVwiKTtcclxuICB9XHJcblxyXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgdGhpcy5fZm9ybUVsLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgKGUpID0+IHtcclxuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICB0aGlzLl9oYW5kbGVGb3JtU3VibWl0KCk7XHJcbiAgICB9KTtcclxuICAgIHN1cGVyLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcbiAgfVxyXG5cclxuICBzZXRTdWJtaXRBY3Rpb24oaGFuZGxlRm9ybVN1Ym1pdCkge1xyXG4gICAgdGhpcy5faGFuZGxlRm9ybVN1Ym1pdCA9IGhhbmRsZUZvcm1TdWJtaXQ7XHJcbiAgfVxyXG59XHJcbiIsImNsYXNzIEZvcm1WYWxpZGF0b3Ige1xyXG4gICAgY29uc3RydWN0b3IoIGZvcm1TZWxlY3RvciwgdmFsaWRhdGlvblNldHRpbmdzICkge1xyXG4gICAgICB0aGlzLl9pbnB1dFNlbGVjdG9yID0gdmFsaWRhdGlvblNldHRpbmdzLmlucHV0U2VsZWN0b3I7XHJcbiAgICAgIHRoaXMuX3N1Ym1pdEJ1dHRvblNlbGVjdG9yID0gdmFsaWRhdGlvblNldHRpbmdzLnN1Ym1pdEJ1dHRvblNlbGVjdG9yO1xyXG4gICAgICB0aGlzLl9pbmFjdGl2ZUJ1dHRvbkNsYXNzID0gdmFsaWRhdGlvblNldHRpbmdzLmluYWN0aXZlQnV0dG9uQ2xhc3M7XHJcbiAgICAgIHRoaXMuX2lucHV0RXJyb3JDbGFzcyA9IHZhbGlkYXRpb25TZXR0aW5ncy5pbnB1dEVycm9yQ2xhc3M7XHJcbiAgICAgIHRoaXMuX2Vycm9yQ2xhc3MgPSB2YWxpZGF0aW9uU2V0dGluZ3MuZXJyb3JDbGFzcztcclxuICAgICAgdGhpcy5fZm9ybUVsID0gZm9ybVNlbGVjdG9yO1xyXG4gICAgICB0aGlzLl9pbnB1dEVscyA9IFsuLi50aGlzLl9mb3JtRWwucXVlcnlTZWxlY3RvckFsbChcIm1vZGFsX19pbnB1dFwiKV07XHJcbiAgICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbnMgPSB0aGlzLl9mb3JtRWwucXVlcnlTZWxlY3Rvcih0aGlzLl9zdWJtaXRCdXR0b25TZWxlY3Rvcik7XHJcbiAgICB9XHJcbiAgXHJcbiAgICBfY2hlY2tJbnB1dFZhbGlkaXR5KGlucHV0RWwpIHtcclxuICAgICAgaWYgKCFpbnB1dEVsLnZhbGlkaXR5LnZhbGlkKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3Nob3dJbnB1dEVycm9yKGlucHV0RWwpO1xyXG4gICAgICB9XHJcbiAgICAgIHRoaXMuX2hpZGVJbnB1dEVycm9yKGlucHV0RWwpO1xyXG4gICAgfVxyXG4gIFxyXG4gICAgX3Nob3dJbnB1dEVycm9yKGlucHV0KSB7XHJcbiAgICAgIGNvbnN0IGVycm9yTWVzc2FnZUVsID0gdGhpcy5fZm9ybUVsLnF1ZXJ5U2VsZWN0b3IoYCMke2lucHV0LmlkfS1lcnJvcmApO1xyXG4gICAgICBpbnB1dC5jbGFzc0xpc3QuYWRkKHRoaXMuX2lucHV0RXJyb3JDbGFzcyk7XHJcbiAgICAgIGVycm9yTWVzc2FnZUVsLnRleHRDb250ZW50ID0gaW5wdXQudmFsaWRhdGlvbk1lc3NhZ2U7XHJcbiAgICAgIGVycm9yTWVzc2FnZUVsLmNsYXNzTGlzdC5hZGQodGhpcy5fZXJyb3JDbGFzcyk7XHJcbiAgICB9XHJcbiAgXHJcbiAgICBfaGlkZUlucHV0RXJyb3IoaW5wdXQpIHtcclxuICAgICAgY29uc3QgZXJyb3JNZXNzYWdlRWwgPSB0aGlzLl9mb3JtRWwucXVlcnlTZWxlY3RvcihgIyR7aW5wdXQuaWR9LWVycm9yYCk7XHJcbiAgICAgIGlucHV0LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5faW5wdXRFcnJvckNsYXNzKTtcclxuICAgICAgZXJyb3JNZXNzYWdlRWwudGV4dENvbnRlbnQgPSBcIlwiO1xyXG4gICAgICBlcnJvck1lc3NhZ2VFbC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2Vycm9yQ2xhc3MpO1xyXG4gICAgfVxyXG4gIFxyXG4gICAgX2hhc0ludmFsaWRJbnB1dChpbnB1dExpc3QpIHtcclxuICAgICAgcmV0dXJuICFpbnB1dExpc3QuZXZlcnkoKGlucHV0RWwpID0+IGlucHV0RWwudmFsaWRpdHkudmFsaWQpO1xyXG4gICAgfVxyXG4gIFxyXG4gICAgdG9nZ2xlQnV0dG9uU3RhdGUoKSB7XHJcbiAgICAgIGlmICh0aGlzLl9oYXNJbnZhbGlkSW5wdXQodGhpcy5faW5wdXRFbHMpKSB7XHJcbiAgICAgICAgdGhpcy5fc3VibWl0QnV0dG9ucy5jbGFzc0xpc3QuYWRkKHRoaXMuX2luYWN0aXZlQnV0dG9uQ2xhc3MpO1xyXG4gICAgICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbnMuZGlzYWJsZWQgPSB0cnVlO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG4gICAgICB0aGlzLl9zdWJtaXRCdXR0b25zLmNsYXNzTGlzdC5yZW1vdmUodGhpcy5faW5hY3RpdmVCdXR0b25DbGFzcyk7XHJcbiAgICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbnMuZGlzYWJsZWQgPSBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICBcclxuICAgIF9zZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgICAgdGhpcy5faW5wdXRFbHMuZm9yRWFjaCgoaW5wdXRFbCkgPT4ge1xyXG4gICAgICAgIGlucHV0RWwuYWRkRXZlbnRMaXN0ZW5lcihcImlucHV0XCIsIChlKSA9PiB7XHJcbiAgICAgICAgICB0aGlzLl9jaGVja0lucHV0VmFsaWRpdHkoaW5wdXRFbCk7XHJcbiAgICAgICAgICB0aGlzLnRvZ2dsZUJ1dHRvblN0YXRlKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gIFxyXG4gICAgZW5hYmxlVmFsaWRhdGlvbigpIHtcclxuICAgICAgdGhpcy5fZm9ybUVsLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgKGUpID0+IHtcclxuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgIH0pO1xyXG4gICAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xyXG4gICAgfVxyXG4gIH1cclxuICBleHBvcnQgZGVmYXVsdCBGb3JtVmFsaWRhdG9yO1xyXG5cclxuIiwiY2xhc3MgU2VjdGlvbiB7XHJcbiAgY29uc3RydWN0b3IoeyBpdGVtcywgcmVuZGVyZXIgfSwgY29udGFpbmVyU2VsZWN0b3IpIHtcclxuICAgIHRoaXMuX2l0ZW1zID0gaXRlbXM7XHJcbiAgICB0aGlzLl9yZW5kZXJlciA9IHJlbmRlcmVyO1xyXG4gICAgdGhpcy5fY29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihjb250YWluZXJTZWxlY3Rvcik7XHJcbiAgfVxyXG5cclxuICByZW5kZXJJdGVtcygpIHtcclxuICAgIHRoaXMuX2l0ZW1zLmZvckVhY2goKGl0ZW0pID0+IHtcclxuICAgICAgdGhpcy5fcmVuZGVyZXIoaXRlbSk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGFkZEl0ZW0oZWxlbWVudCkge1xyXG4gICAgdGhpcy5fY29udGFpbmVyLnByZXBlbmQoZWxlbWVudCk7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBTZWN0aW9uOyIsIi8vIGV4cG9ydCBkZWZhdWx0IGNsYXNzIENhcmQge1xyXG4vLyAgICAgY29uc3RydWN0b3IoXHJcbi8vICAgICAgIGNhcmREYXRhLCBcclxuLy8gICAgICAgY2FyZFNlbGVjdG9yLCBcclxuLy8gICAgICAgaGFuZGxlSW1hZ2VDbGljaywgXHJcbi8vICAgICAgIGhhbmRsZURlbGV0ZUNsaWNrLCBcclxuLy8gICAgICAgaGFuZGxlTGlrZUljb25cclxuLy8gICAgICAgKSBcclxuICAgICAgXHJcbi8vICAgICAgIHtcclxuLy8gICAgICAgdGhpcy5fbmFtZSA9IGNhcmREYXRhLm5hbWU7XHJcbi8vICAgICAgIHRoaXMuX2xpbmsgPSBjYXJkRGF0YS5saW5rO1xyXG4vLyAgICAgICB0aGlzLl9jYXJkU2VsZWN0b3IgPSBjYXJkU2VsZWN0b3I7XHJcbi8vICAgICAgIHRoaXMuX2hhbmRsZURlbGV0ZUNsaWNrID0gaGFuZGxlRGVsZXRlQ2xpY2s7XHJcbi8vICAgICAgIHRoaXMuX2hhbmRsZUxpa2VJY29uID0gaGFuZGxlTGlrZUljb247XHJcbi8vICAgICAgIHRoaXMuX2hhbmRsZUltYWdlQ2xpY2sgPSBoYW5kbGVJbWFnZUNsaWNrO1xyXG4vLyAgICAgfVxyXG5cclxuLy8gICAgIF9nZXRUZW1wbGF0ZSgpIHtcclxuLy8gICAgICAgY29uc3QgY2FyZEVsZW1lbnQgPSBkb2N1bWVudFxyXG4vLyAgICAgICAgIC5xdWVyeVNlbGVjdG9yKHRoaXMuX2NhcmRTZWxlY3RvcilcclxuLy8gICAgICAgICAuY29udGVudC5maXJzdEVsZW1lbnRDaGlsZC5jbG9uZU5vZGUodHJ1ZSk7XHJcbiAgXHJcbi8vICAgICAgIHJldHVybiBjYXJkRWxlbWVudDtcclxuLy8gICAgIH1cclxuICBcclxuLy8gICAgIF9zZXRFdmVudExpc3RlbmVycygpIHtcclxuLy8gICAgICAgdGhpcy5fY2FyZEVsZW1lbnRcclxuLy8gICAgICAgLnF1ZXJ5U2VsZWN0b3IoXCJjYXJkX19idXR0b24tcmVtb3ZlXCIpXHJcbi8vICAgICAgIC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4vLyAgICAgICAgIHRoaXMuX2hhbmRsZURlbGV0ZUNsaWNrKCk7XHJcbi8vICAgICAgIH0pO1xyXG5cclxuLy8gICAgICAgdGhpcy5fY2FyZEVsZW1lbnRcclxuLy8gICAgICAgLnF1ZXJ5U2VsZWN0b3IoXCJjYXJkX19saWtlLWJ1dHRvblwiKVxyXG4vLyAgICAgICAuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuLy8gICAgICAgICB0aGlzLl9oYW5kbGVMaWtlSWNvbigpO1xyXG4vLyAgICAgICB9KTtcclxuXHJcbi8vICAgICAgIHRoaXMuX2NhcmRFbGVtZW50XHJcbi8vICAgICAgIC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2ltYWdlXCIpXHJcbi8vICAgICAgIC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4vLyAgICAgICAgIHRoaXMuX2hhbmRsZUltYWdlQ2xpY2soeyBuYW1lOiB0aGlzLl9uYW1lLCBsaW5rOiB0aGlzLl9saW5rIH0pO1xyXG4vLyAgICAgICB9KTtcclxuXHJcbi8vICAgICB9XHJcbiAgICBcclxuLy8gICAgIF9oYW5kbGVMaWtlKCkge1xyXG4vLyAgICAgICB0aGlzLl9jYXJkRWxlbWVudFxyXG4vLyAgICAgICAgIC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2xpa2UtYnV0dG9uXCIpXHJcbi8vICAgICAgICAgLmNsYXNzTGlzdC50b2dnbGUoXCJjYXJkX19saWtlLWJ1dHRvbl9hY3RpdmVcIik7XHJcbi8vICAgICB9XHJcbiAgXHJcbi8vICAgICBfaGFuZGxlRGVsZXRlKCkge1xyXG4vLyAgICAgICB0aGlzLl9jYXJkRWxlbWVudC5yZW1vdmUoKTtcclxuLy8gICAgICAgdGhpcy5fY2FyZEVsZW1lbnQgPSBudWxsO1xyXG4vLyAgICAgfVxyXG4gIFxyXG4vLyAgICAgZ2V0VmlldygpIHtcclxuLy8gICAgICAgY29uc3QgY2FyZERhdGEgPSB7IGxpbms6IHRoaXMuX2xpbmssIG5hbWU6IHRoaXMuX25hbWUgfTtcclxuLy8gICAgICAgdGhpcy5fY2FyZEVsZW1lbnQgPSB0aGlzLl9nZXRUZW1wbGF0ZSgpO1xyXG4vLyAgICAgICBjb25zdCBjYXJkSW1hZ2VFTCA9IHRoaXMuX2NhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9faW1hZ2VcIik7XHJcbi8vICAgICAgIGNhcmRJbWFnZUVMLnNyYyA9IHRoaXMuX2xpbms7XHJcbi8vICAgICAgIGNhcmRJbWFnZUVMLmFsdCA9IHRoaXMuX25hbWU7XHJcbi8vICAgICAgIGNvbnN0IGNhcmRUaXRsZUVMID0gdGhpcy5fY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX19sYWJlbC10aXRsZVwiKTtcclxuLy8gICAgICAgY2FyZFRpdGxlRUwudGV4dENvbnRlbnQgPSBjYXJkRGF0YS5uYW1lO1xyXG4gIFxyXG4vLyAgICAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xyXG4gIFxyXG4vLyAgICAgICByZXR1cm4gdGhpcy5fY2FyZEVsZW1lbnQ7XHJcbi8vICAgICB9XHJcbi8vICAgfVxyXG5cclxuY2xhc3MgQ2FyZCB7XHJcbiAgY29uc3RydWN0b3IoXHJcbiAgICBkYXRhLFxyXG4gICAgY2FyZFNlbGVjdG9yLFxyXG4gICAgaGFuZGxlSW1hZ2VDbGljayxcclxuICAgIGhhbmRsZURlbGV0ZUNsaWNrLFxyXG4gICAgaGFuZGxlTGlrZUNsaWNrXHJcbiAgKSB7XHJcbiAgICB0aGlzLl9uYW1lID0gZGF0YS5uYW1lO1xyXG4gICAgdGhpcy5fbGluayA9IGRhdGEubGluaztcclxuICAgIHRoaXMuX2lkID0gZGF0YS5faWQ7XHJcbiAgICB0aGlzLl9pc0xpa2VkID0gZGF0YS5pc0xpa2VkO1xyXG4gICAgdGhpcy5faGFuZGxlSW1hZ2VDbGljayA9IGhhbmRsZUltYWdlQ2xpY2s7XHJcbiAgICB0aGlzLl9oYW5kbGVEZWxldGVDbGljayA9IGhhbmRsZURlbGV0ZUNsaWNrO1xyXG4gICAgdGhpcy5faGFuZGxlTGlrZUNsaWNrID0gaGFuZGxlTGlrZUNsaWNrO1xyXG5cclxuICAgIHRoaXMuX2NhcmRTZWxlY3RvciA9IGNhcmRTZWxlY3RvcjtcclxuICB9XHJcblxyXG4gIF9nZXRUZW1wbGF0ZSgpIHtcclxuICAgIGNvbnN0IGNhcmRFbGVtZW50ID0gZG9jdW1lbnRcclxuICAgICAgLnF1ZXJ5U2VsZWN0b3IodGhpcy5fY2FyZFNlbGVjdG9yKVxyXG4gICAgICAuY29udGVudC5maXJzdEVsZW1lbnRDaGlsZC5jbG9uZU5vZGUodHJ1ZSk7XHJcblxyXG4gICAgcmV0dXJuIGNhcmRFbGVtZW50O1xyXG4gIH1cclxuXHJcbiAgaXNMaWtlZCgpIHtcclxuICAgIHJldHVybiB0aGlzLl9pc0xpa2VkO1xyXG4gIH1cclxuXHJcbiAgaGFuZGxlTGlrZSA9ICgpID0+IHtcclxuICAgIHRoaXMuX2xpa2VCdXR0b24uY2xhc3NMaXN0LnRvZ2dsZShcImNhcmRfX2xpa2UtYnV0dG9uX2FjdGl2ZVwiKTtcclxuICB9O1xyXG5cclxuICBoYW5kbGVEZWxldGUgPSAoKSA9PiB7XHJcbiAgICB0aGlzLl9lbGVtZW50LnJlbW92ZSgpO1xyXG4gICAgdGhpcy5fZWxlbWVudCA9IG51bGw7XHJcbiAgfTtcclxuXHJcbiAgdXBkYXRlTGlrZVZpZXcoKSB7XHJcbiAgICBpZiAodGhpcy5faXNMaWtlZCkge1xyXG4gICAgICB0aGlzLl9saWtlQnV0dG9uLmNsYXNzTGlzdC5hZGQoXCJjYXJkX19saWtlLWJ1dHRvbl9hY3RpdmVcIik7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLl9saWtlQnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoXCJjYXJkX19saWtlLWJ1dHRvbl9hY3RpdmVcIik7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBfc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICB0aGlzLl9jYXJkVHJhc2guYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgICAgdGhpcy5faGFuZGxlRGVsZXRlQ2xpY2sodGhpcyk7XHJcbiAgICB9KTtcclxuICAgIHRoaXMuX2xpa2VCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgICAgdGhpcy5faGFuZGxlTGlrZUNsaWNrKHRoaXMpO1xyXG4gICAgfSk7XHJcbiAgICB0aGlzLl9jYXJkSW1hZ2VFbC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgICB0aGlzLl9oYW5kbGVJbWFnZUNsaWNrKHsgbmFtZTogdGhpcy5fbmFtZSwgbGluazogdGhpcy5fbGluayB9KTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgZ2VuZXJhdGVDYXJkKCkge1xyXG4gICAgdGhpcy5fZWxlbWVudCA9IHRoaXMuX2dldFRlbXBsYXRlKCk7XHJcbiAgICB0aGlzLl9saWtlQnV0dG9uID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2xpa2UtYnV0dG9uXCIpO1xyXG4gICAgdGhpcy5fcmVtb3ZlQnV0dG9uID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2J1dHRvbi1yZW1vdmVcIik7XHJcbiAgICB0aGlzLl9jYXJkSW1hZ2VFbCA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX19pbWFnZVwiKTtcclxuXHJcbiAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xyXG5cclxuICAgIHRoaXMuX2NhcmRJbWFnZUVsLnNyYyA9IHRoaXMuX2xpbms7XHJcbiAgICB0aGlzLl9jYXJkSW1hZ2VFbC5hbHQgPSBgUGhvdG8gb2YgJHt0aGlzLl9uYW1lfWA7XHJcbiAgICB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9fbGFiZWwtdGl0bGVcIikudGV4dENvbnRlbnQgPVxyXG4gICAgICB0aGlzLl9uYW1lO1xyXG5cclxuICAgIHRoaXMudXBkYXRlTGlrZVZpZXcoKTtcclxuXHJcbiAgICByZXR1cm4gdGhpcy5fZWxlbWVudDtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IENhcmQ7XHJcbiIsImltcG9ydCBQb3B1cFdpdGhGb3JtIGZyb20gXCIuLi9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanNcIjtcclxuaW1wb3J0IFBvcHVwV2l0aEltYWdlIGZyb20gXCIuLi9jb21wb25lbnRzL1BvcHVwV0l0aEltYWdlLmpzXCI7XHJcbmltcG9ydCBQb3B1cFdpdGhEZWxldGUgZnJvbSBcIi4uL2NvbXBvbmVudHMvUG9wdXBXaXRoRGVsZXRlLmpzXCI7XHJcbmltcG9ydCBGb3JtVmFsaWRhdG9yIGZyb20gXCIuLi9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanNcIjtcclxuaW1wb3J0IFVzZXJJbmZvIGZyb20gXCIuLi9jb21wb25lbnRzL1VzZXJJbmZvLmpzXCI7XHJcbmltcG9ydCBTZWN0aW9uIGZyb20gXCIuLi9jb21wb25lbnRzL1NlY3Rpb24uanNcIjtcclxuaW1wb3J0IENhcmQgZnJvbSBcIi4uL2NvbXBvbmVudHMvQ2FyZC5qc1wiO1xyXG5pbXBvcnQgQXBpIGZyb20gXCIuLi9jb21wb25lbnRzL0FwaS5qc1wiO1xyXG5pbXBvcnQgXCIuL2luZGV4LmNzc1wiO1xyXG5pbXBvcnQgeyB2YWxpZGF0aW9uU2V0dGluZ3MsIHZhcmlhYmxlcyB9IGZyb20gXCIuLi91dGlscy9jb25zdGFudHMuanNcIjtcclxuXHJcbi8vIEFQSVxyXG5cclxuY29uc3QgYXBpID0gbmV3IEFwaSh7XHJcbiAgYmFzZVVybDogXCJodHRwczovL2Fyb3VuZC1hcGkuZW4udHJpcGxldGVuLXNlcnZpY2VzLmNvbS92MVwiLFxyXG4gIGhlYWRlcnM6IHtcclxuICAgIGF1dGhvcml6YXRpb246IFwiZjAwZGJlNGQtM2JjZi00MGUzLWE0NmYtOWUxZWQ4MjA2YmQ1XCIsXHJcbiAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcclxuICB9LFxyXG59KTtcclxuXHJcbi8vIFNFQ1RJT05cclxuXHJcbmxldCBzZWN0aW9uO1xyXG5cclxuYXBpXHJcbiAgLmdldEluaXRpYWxDYXJkcygpXHJcbiAgLnRoZW4oKHJlcykgPT4ge1xyXG4gICAgc2VjdGlvbiA9IG5ldyBTZWN0aW9uKFxyXG4gICAgICB7XHJcbiAgICAgICAgaXRlbXM6IHJlcyxcclxuICAgICAgICByZW5kZXJlcjogKGNhcmREYXRhKSA9PiB7XHJcbiAgICAgICAgICBjcmVhdGVDYXJkKGNhcmREYXRhKTtcclxuICAgICAgICB9LFxyXG4gICAgICB9LFxyXG4gICAgICBcImNhcmRzX19saXN0XCJcclxuICAgICk7XHJcbiAgICBzZWN0aW9uLnJlbmRlckl0ZW1zKCk7XHJcbiAgICBjb25zb2xlLmxvZyhyZXMpO1xyXG4gIH0pXHJcbiAgLmNhdGNoKGNvbnNvbGUuZXJyb3IpO1xyXG5cclxuYXBpXHJcbiAgLmxvYWRJbmZvKClcclxuICAudGhlbigocmVzKSA9PiB7XHJcbiAgICBjb25zb2xlLmxvZyhyZXMpO1xyXG4gICAgdXNlcmluZm8uc2V0VXNlckluZm8ocmVzLm5hbWUsIHJlcy5hYm91dCk7XHJcbiAgICB1c2VyaW5mby5zZXRBdmF0YXIocmVzLmF2YXRhcik7XHJcbiAgfSlcclxuICAuY2F0Y2goY29uc29sZS5lcnJvcik7XHJcblxyXG4vLyBQT1BVUCBXSVRIIElNQUdFXHJcblxyXG5jb25zdCBwb3B1cFdpdGhJbWFnZSA9IG5ldyBQb3B1cFdpdGhJbWFnZShcIiNwaWN0dXJlLW1vZGFsXCIpO1xyXG5cclxucG9wdXBXaXRoSW1hZ2Uuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuXHJcbi8vIFNBVkUgQlVUVE9OIFRFWFQgQ0hBTkdFIEZVTkNUSU9OIEZPUiBGT1JNU1xyXG5cclxuZnVuY3Rpb24gc2V0QnV0dG9uVGV4dChidXR0b24sIHRleHQpIHtcclxuICBidXR0b24udGV4dENvbnRlbnQgPSB0ZXh0O1xyXG59XHJcblxyXG4vLyBDQVJEXHJcblxyXG5mdW5jdGlvbiBoYW5kbGVJbWFnZUNsaWNrKGNhcmREYXRhKSB7XHJcbiAgcG9wdXBXaXRoSW1hZ2Uub3BlbihjYXJkRGF0YSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGNyZWF0ZUNhcmQoY2FyZERhdGEpIHtcclxuICBjb25zdCBjYXJkID0gbmV3IENhcmQoXHJcbiAgICBjYXJkRGF0YSxcclxuICAgIFwiI2NhcmQtdGVtcGxhdGVcIixcclxuICAgIGhhbmRsZUltYWdlQ2xpY2ssXHJcbiAgICBoYW5kbGVEZWxldGVDbGljayxcclxuICAgIGhhbmRsZUxpa2VDbGlja1xyXG4gICk7XHJcbiAgc2VjdGlvbi5hZGRJdGVtKGNhcmQuZ2VuZXJhdGVDYXJkKCkpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBoYW5kbGVBZGRDYXJkU3VibWl0KGlucHV0VmFsdWVzKSB7XHJcbiAgc2V0QnV0dG9uVGV4dCh2YXJpYWJsZXMuYWRkTW9kYWxCdXR0b24sIFwiU2F2aW5nLi4uXCIpO1xyXG4gIGFwaVxyXG4gICAgLmFkZE5ld0NhcmQoaW5wdXRWYWx1ZXMpXHJcbiAgICAudGhlbigocmVzKSA9PiB7XHJcbiAgICAgIGNvbnNvbGUubG9nKHJlcyk7XHJcbiAgICAgIC8vIGNyZWF0ZSBhIG5ldyBjYXJkXHJcbiAgICAgIGNyZWF0ZUNhcmQocmVzKTtcclxuICAgICAgLy8gcmVuZGVyIGl0XHJcbiAgICAgIHZhcmlhYmxlcy5wcm9maWxlQWRkRm9ybS5yZXNldCgpO1xyXG4gICAgICAvLyB0b2dnbGUgYnV0dG9uIHN0YXRlXHJcbiAgICAgIGFkZEZvcm1WYWxpZGF0b3IudG9nZ2xlQnV0dG9uU3RhdGUoKTtcclxuICAgICAgLy8gY2xvc2UgbW9kYWxcclxuICAgICAgYWRkUG9wdXAuY2xvc2UoKTtcclxuICAgIH0pXHJcbiAgICAuY2F0Y2goY29uc29sZS5lcnJvcilcclxuICAgIC5maW5hbGx5KCgpID0+IHtcclxuICAgICAgc2V0QnV0dG9uVGV4dCh2YXJpYWJsZXMuYWRkTW9kYWxCdXR0b24sIFwiU2F2ZVwiKTtcclxuICAgIH0pO1xyXG59XHJcblxyXG4vLyBIQU5ETEUgREVMRVRFIE1PREFMXHJcblxyXG5jb25zdCBkZWxldGVNb2RhbCA9IG5ldyBQb3B1cFdpdGhEZWxldGUodmFyaWFibGVzLmRlbGV0ZUNhcmRDbGFzcyk7XHJcbmRlbGV0ZU1vZGFsLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcblxyXG5mdW5jdGlvbiBoYW5kbGVEZWxldGVDbGljayhjYXJkKSB7XHJcbiAgLy8gb3BlbiB0aGUgbW9kYWxcclxuICBkZWxldGVNb2RhbC5vcGVuKCk7XHJcbiAgLy8gc2V0IHRoZSBzdWJtaXQgYWN0aW9uXHJcbiAgZGVsZXRlTW9kYWwuc2V0U3VibWl0QWN0aW9uKCgpID0+IHtcclxuICAgIGFwaVxyXG4gICAgICAuZGVsZXRlQ2FyZChjYXJkLl9pZClcclxuICAgICAgLnRoZW4oKCkgPT4ge1xyXG4gICAgICAgIGRlbGV0ZU1vZGFsLmNsb3NlKCk7XHJcbiAgICAgICAgY2FyZC5oYW5kbGVEZWxldGUoKTtcclxuICAgICAgfSlcclxuICAgICAgLmNhdGNoKGNvbnNvbGUuZXJyb3IpO1xyXG4gIH0pO1xyXG59XHJcblxyXG4vLyBDQVJEIExJS0VcclxuXHJcbmZ1bmN0aW9uIGhhbmRsZUxpa2VDbGljayhjYXJkKSB7XHJcbiAgYXBpXHJcbiAgICAudXBkYXRlTGlrZShjYXJkLl9pZCwgY2FyZC5pc0xpa2VkKCkpXHJcbiAgICAudGhlbigoKSA9PiB7XHJcbiAgICAgIGNhcmQuaGFuZGxlTGlrZSgpO1xyXG4gICAgICBjb25zb2xlLmxvZyhjYXJkKTtcclxuICAgIH0pXHJcbiAgICAuY2F0Y2goY29uc29sZS5lcnJvcik7XHJcbiAgLy8gaGFuZGxlIGNoYW5naW5nIHRoZSBidXR0b24ncyBzdGF0ZSBpbiBhIC50aGVuIGFmdGVyIHRoZSBzdWNjZXNzZnVsIHJlc3BvbnNlXHJcbn1cclxuXHJcbi8vIEZPUk0gVkFMSURBVE9SXHJcblxyXG5jb25zdCBhZGRGb3JtVmFsaWRhdG9yID0gbmV3IEZvcm1WYWxpZGF0b3IodmFsaWRhdGlvblNldHRpbmdzLCB2YXJpYWJsZXMuYWRkTmV3TW9kYWxDYXJkKTtcclxuYWRkRm9ybVZhbGlkYXRvci5lbmFibGVWYWxpZGF0aW9uKCk7XHJcblxyXG5jb25zdCBlZGl0Rm9ybVZhbGlkYXRvciA9IG5ldyBGb3JtVmFsaWRhdG9yKHZhbGlkYXRpb25TZXR0aW5ncywgdmFyaWFibGVzLnByb2ZpbGVFZGl0TW9kYWwpO1xyXG5lZGl0Rm9ybVZhbGlkYXRvci5lbmFibGVWYWxpZGF0aW9uKCk7XHJcblxyXG5jb25zdCBhdmF0YXJGb3JtVmFsaWRhdG9yID0gbmV3IEZvcm1WYWxpZGF0b3IodmFsaWRhdGlvblNldHRpbmdzLCB2YXJpYWJsZXMuYXZhdGFyTW9kYWwpO1xyXG5hdmF0YXJGb3JtVmFsaWRhdG9yLmVuYWJsZVZhbGlkYXRpb24oKTtcclxuXHJcbi8vIFBPUFVQIFdJVEggRk9STSAtIEFERCBGT1JNXHJcblxyXG5jb25zdCBhZGRQb3B1cCA9IG5ldyBQb3B1cFdpdGhGb3JtKHZhcmlhYmxlcy5hZGRDYXJkQ2xhc3MsIGhhbmRsZUFkZENhcmRTdWJtaXQpO1xyXG5cclxuZnVuY3Rpb24gb3BlbkFkZEZvcm0oKSB7XHJcbiAgYWRkUG9wdXAub3BlbigpO1xyXG59XHJcblxyXG5hZGRQb3B1cC5zZXRFdmVudExpc3RlbmVycygpO1xyXG5cclxudmFyaWFibGVzLnByb2ZpbGVBZGRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IG9wZW5BZGRGb3JtKCkpO1xyXG5cclxuLy9FRElUIEZPUk1cclxuXHJcbmNvbnN0IGVkaXRQb3B1cCA9IG5ldyBQb3B1cFdpdGhGb3JtKFxyXG4gIHZhcmlhYmxlcy5lZGl0Q2FyZENsYXNzLFxyXG4gIGhhbmRsZUVkaXRGb3JtU3VibWl0XHJcbik7XHJcblxyXG5mdW5jdGlvbiBvcGVuRWRpdEZvcm0oKSB7XHJcbiAgY29uc3QgdXNlciA9IHVzZXJJbmZvLmdldFVzZXJJbmZvKCk7XHJcbiAgdmFyaWFibGVzLm5hbWVJbnB1dC52YWx1ZSA9IHVzZXIubmFtZTtcclxuICB2YXJpYWJsZXMuZGVzY3JpcHRpb25JbnB1dC52YWx1ZSA9IHVzZXIuZGVzY3JpcHRpb247XHJcbiAgZWRpdFBvcHVwLm9wZW4oKTtcclxufVxyXG5cclxuZWRpdFBvcHVwLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcblxyXG52YXJpYWJsZXMucHJvZmlsZUVkaXRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICBvcGVuRWRpdEZvcm0oKTtcclxufSk7XHJcblxyXG4vL0FWQVRBUiBGT1JNXHJcblxyXG5jb25zdCBhdmF0YXJNb2RhbCA9IG5ldyBQb3B1cFdpdGhGb3JtKFxyXG4gIHZhcmlhYmxlcy5hdmF0YXJNb2RhbCxcclxuICBoYW5kbGVBdmF0YXJGb3JtU3VibWl0XHJcbik7XHJcbmF2YXRhck1vZGFsLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcblxyXG5mdW5jdGlvbiBvcGVuQXZhdGFyRm9ybSgpIHtcclxuICBhdmF0YXJNb2RhbC5vcGVuKCk7XHJcbn1cclxuXHJcbnZhcmlhYmxlcy5hdmF0YXJJY29uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgb3BlbkF2YXRhckZvcm0oKTtcclxufSk7XHJcblxyXG5mdW5jdGlvbiBoYW5kbGVBdmF0YXJGb3JtU3VibWl0KGlucHV0VmFsdWVzKSB7XHJcbiAgc2V0QnV0dG9uVGV4dCh2YXJpYWJsZXMuYXZhdGFyTW9kYWxCdXR0b24sIFwiU2F2aW5nLi4uXCIpO1xyXG4gIGFwaVxyXG4gICAgLnVwZGF0ZUF2YXRhcihpbnB1dFZhbHVlcy5saW5rKVxyXG4gICAgLnRoZW4oKHJlcykgPT4ge1xyXG4gICAgICB1c2VySW5mby5zZXRBdmF0YXIocmVzLmF2YXRhcik7XHJcbiAgICAgIGNvbnNvbGUubG9nKHJlcyk7XHJcbiAgICAgIGF2YXRhck1vZGFsLmNsb3NlKCk7XHJcbiAgICB9KVxyXG4gICAgLmNhdGNoKGNvbnNvbGUuZXJyb3IpXHJcbiAgICAuZmluYWxseSgoKSA9PiB7XHJcbiAgICAgIHNldEJ1dHRvblRleHQodmFyaWFibGVzLmF2YXRhck1vZGFsQnV0dG9uLCBcIlNhdmVcIik7XHJcbiAgICB9KTtcclxufVxyXG5cclxuLy8gVVNFUiBJTkZPXHJcblxyXG5jb25zdCB1c2VySW5mbyA9IG5ldyB1c2VySW5mbyhcclxuICBcIi5wcm9maWxlX190aXRsZVwiLFxyXG4gIFwiLnByb2ZpbGVfX2Rlc2NyaXB0aW9uXCIsXHJcbiAgXCIucHJvZmlsZV9fYXZhdGFyXCJcclxuKTtcclxuXHJcbmZ1bmN0aW9uIGhhbmRsZUVkaXRGb3JtU3VibWl0KGlucHV0VmFsdWVzKSB7XHJcbiAgc2V0QnV0dG9uVGV4dCh2YXJpYWJsZXMuZWRpdE1vZGFsQnV0dG9uLCBcIlNhdmluZy4uLlwiKTtcclxuICBhcGlcclxuICAgIC5lZGl0UHJvZmlsZShpbnB1dFZhbHVlcy5uYW1lLCBpbnB1dFZhbHVlcy5kZXNjcmlwdGlvbilcclxuICAgIC50aGVuKChyZXMpID0+IHtcclxuICAgICAgdXNlckluZm8uc2V0VXNlckluZm8ocmVzLm5hbWUsIHJlcy5hYm91dCk7XHJcbiAgICAgIGNvbnNvbGUubG9nKHJlcyk7XHJcbiAgICAgIGVkaXRQb3B1cC5jbG9zZSgpO1xyXG4gICAgfSlcclxuICAgIC5jYXRjaChjb25zb2xlLmVycm9yKVxyXG4gICAgLmZpbmFsbHkoKCkgPT4ge1xyXG4gICAgICBzZXRCdXR0b25UZXh0KHZhcmlhYmxlcy5lZGl0TW9kYWxCdXR0b24sIFwiU2F2ZVwiKTtcclxuICAgIH0pO1xyXG59XHJcblxyXG4iLCJjbGFzcyBBcGkge1xyXG4gIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcclxuICAgIC8vIGNvbnN0cnVjdG9yIGJvZHlcclxuICAgIHRoaXMuX2hlYWRlcnMgPSBvcHRpb25zLmhlYWRlcnM7XHJcbiAgICB0aGlzLmJhc2VVcmwgPSBvcHRpb25zLmJhc2VVcmw7XHJcbiAgfVxyXG5cclxuICBfY2hlY2tSZXNwb25zZShyZXMpIHtcclxuICAgIGlmIChyZXMub2spIHtcclxuICAgICAgcmV0dXJuIHJlcy5qc29uKCk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoYEVycm9yICR7cmVzLnN0YXR1c31gKTtcclxuICB9XHJcblxyXG4gIGdldEluaXRpYWxDYXJkcygpIHtcclxuICAgIHJldHVybiBmZXRjaCh0aGlzLmJhc2VVcmwgKyBcIi9jYXJkc1wiLCB7XHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICB9KS50aGVuKHRoaXMuX2NoZWNrUmVzcG9uc2UpO1xyXG4gIH1cclxuXHJcbiAgLy8gb3RoZXIgbWV0aG9kcyBmb3Igd29ya2luZyB3aXRoIHRoZSBBUElcclxuXHJcbiAgbG9hZEluZm8oKSB7XHJcbiAgICByZXR1cm4gZmV0Y2godGhpcy5iYXNlVXJsICsgXCIvdXNlcnMvbWVcIiwge1xyXG4gICAgICBtZXRob2Q6IFwiR0VUXCIsXHJcbiAgICAgIGNvaG9ydDogXCJncm91cC00MlwiLFxyXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgfSkudGhlbih0aGlzLl9jaGVja1Jlc3BvbnNlKTtcclxuICB9XHJcblxyXG4gIGVkaXRQcm9maWxlKG5hbWUsIGFib3V0KSB7XHJcbiAgICByZXR1cm4gZmV0Y2godGhpcy5iYXNlVXJsICsgXCIvdXNlcnMvbWVcIiwge1xyXG4gICAgICBtZXRob2Q6IFwiUEFUQ0hcIixcclxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xyXG4gICAgICAgIG5hbWU6IG5hbWUsXHJcbiAgICAgICAgYWJvdXQ6IGFib3V0LFxyXG4gICAgICB9KSxcclxuICAgIH0pLnRoZW4odGhpcy5fY2hlY2tSZXNwb25zZSk7XHJcbiAgfVxyXG5cclxuICAvLyBwYXNzIG5hbWUgYW5kIGxpbmsgYXMgYXJndW1lbnRcclxuICBhZGROZXdDYXJkKGRhdGEpIHtcclxuICAgIHJldHVybiBmZXRjaCh0aGlzLmJhc2VVcmwgKyBcIi9jYXJkc1wiLCB7XHJcbiAgICAgIG1ldGhvZDogXCJQT1NUXCIsXHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICBuYW1lOiBkYXRhLm5hbWUsXHJcbiAgICAgICAgbGluazogZGF0YS5saW5rLFxyXG4gICAgICB9KSxcclxuICAgIH0pLnRoZW4odGhpcy5fY2hlY2tSZXNwb25zZSk7XHJcbiAgfVxyXG5cclxuICBkZWxldGVDYXJkKGNhcmRJZCkge1xyXG4gICAgcmV0dXJuIGZldGNoKHRoaXMuYmFzZVVybCArIGAvY2FyZHMvJHtjYXJkSWR9YCwge1xyXG4gICAgICBtZXRob2Q6IFwiREVMRVRFXCIsXHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICBfaWQ6IGNhcmRJZCxcclxuICAgICAgfSksXHJcbiAgICB9KS50aGVuKHRoaXMuX2NoZWNrUmVzcG9uc2UpO1xyXG4gIH1cclxuXHJcbiAgdXBkYXRlTGlrZShjYXJkSWQsIGlzTGlrZWQpIHtcclxuICAgIHJldHVybiBmZXRjaCh0aGlzLmJhc2VVcmwgKyBgL2NhcmRzLyR7Y2FyZElkfS9saWtlc2AsIHtcclxuICAgICAgbWV0aG9kOiBpc0xpa2VkID8gXCJERUxFVEVcIiA6IFwiUFVUXCIsXHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICB9KS50aGVuKHRoaXMuX2NoZWNrUmVzcG9uc2UpO1xyXG4gIH1cclxuXHJcbiAgdXBkYXRlQXZhdGFyKGF2YXRhcikge1xyXG4gICAgcmV0dXJuIGZldGNoKHRoaXMuYmFzZVVybCArIFwiL3VzZXJzL21lL2F2YXRhclwiLCB7XHJcbiAgICAgIG1ldGhvZDogXCJQQVRDSFwiLFxyXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgYXZhdGFyOiBhdmF0YXIsXHJcbiAgICAgIH0pLFxyXG4gICAgfSkudGhlbih0aGlzLl9jaGVja1Jlc3BvbnNlKTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IEFwaTsiLCIgIGNvbnN0IGluaXRpYWxDYXJkcyA9IFtcclxuICAgIHtcclxuICAgICAgbmFtZTogXCJZb3NlbWl0ZSBWYWxsZXlcIixcclxuICAgICAgbGluazogXCJodHRwczovL3ByYWN0aWN1bS1jb250ZW50LnMzLnVzLXdlc3QtMS5hbWF6b25hd3MuY29tL3NvZnR3YXJlLWVuZ2luZWVyL2Fyb3VuZC1wcm9qZWN0L3lvc2VtaXRlLmpwZ1wiLFxyXG4gICAgICBhbHQ6IFwiWW9zZW1pdGUgVmFsbGV5XCIsXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICBuYW1lOiBcIkxha2UgTG91aXNlXCIsXHJcbiAgICAgIGxpbms6IFwiaHR0cHM6Ly9wcmFjdGljdW0tY29udGVudC5zMy51cy13ZXN0LTEuYW1hem9uYXdzLmNvbS9zb2Z0d2FyZS1lbmdpbmVlci9hcm91bmQtcHJvamVjdC9sYWtlLWxvdWlzZS5qcGdcIixcclxuICAgICAgYWx0OiBcIkxha2UgTG91aXNlXCIsXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICBuYW1lOiBcIkJhbGQgTW91bnRhaW5zXCIsXHJcbiAgICAgIGxpbms6IFwiaHR0cHM6Ly9wcmFjdGljdW0tY29udGVudC5zMy51cy13ZXN0LTEuYW1hem9uYXdzLmNvbS9zb2Z0d2FyZS1lbmdpbmVlci9hcm91bmQtcHJvamVjdC9iYWxkLW1vdW50YWlucy5qcGdcIixcclxuICAgICAgYWx0OiBcIkJhbGQgTW91bnRhaW5zXCIsXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICBuYW1lOiBcIkxhdGVtYXJcIixcclxuICAgICAgbGluazogXCJodHRwczovL3ByYWN0aWN1bS1jb250ZW50LnMzLnVzLXdlc3QtMS5hbWF6b25hd3MuY29tL3NvZnR3YXJlLWVuZ2luZWVyL2Fyb3VuZC1wcm9qZWN0L2xhdGVtYXIuanBnXCIsXHJcbiAgICAgIGFsdDogXCJMYXRlbWFyXCIsXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICBuYW1lOiBcIlZhbm9pc2UgTmF0aW9uYWwgUGFya1wiLFxyXG4gICAgICBsaW5rOiBcImh0dHBzOi8vcHJhY3RpY3VtLWNvbnRlbnQuczMudXMtd2VzdC0xLmFtYXpvbmF3cy5jb20vc29mdHdhcmUtZW5naW5lZXIvYXJvdW5kLXByb2plY3QvdmFub2lzZS5qcGcgXCIsXHJcbiAgICAgIGFsdDogXCJWYW5vaXNlIE5hdGlvbmFsIFBhcmtcIixcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgIG5hbWU6IFwiTGFnbyBkaSBCcmFpZXNcIixcclxuICAgICAgbGluazogXCJodHRwczovL3ByYWN0aWN1bS1jb250ZW50LnMzLnVzLXdlc3QtMS5hbWF6b25hd3MuY29tL3NvZnR3YXJlLWVuZ2luZWVyL2Fyb3VuZC1wcm9qZWN0L2xhZ28uanBnICBcIixcclxuICAgICAgYWx0OiBcIkxhZ28gZGkgQnJhaWVzXCIsXHJcbiAgICB9LFxyXG4gIF07XHJcblxyXG4gICAgY29uc3QgdmFsaWRhdGlvblNldHRpbmdzID0ge1xyXG4gICAgLy8gZm9ybVNlbGVjdG9yOiBcIi5tb2RhbF9fZm9ybVwiLFxyXG4gICAgaW5wdXRTZWxlY3RvcjogXCIubW9kYWxfX2lucHV0XCIsXHJcbiAgICBzdWJtaXRCdXR0b25TZWxlY3RvcjogXCIubW9kYWxfX2J1dHRvblwiLFxyXG4gICAgaW5hY3RpdmVCdXR0b25DbGFzczogXCJtb2RhbF9fYnV0dG9uX2Rpc2FibGVkXCIsXHJcbiAgICBpbnB1dEVycm9yQ2xhc3M6IFwibW9kYWxfX2lucHV0X3R5cGVfZXJyb3JcIixcclxuICAgIGVycm9yQ2xhc3M6IFwibW9kYWxfX2Vycm9yXCJcclxuICB9O1xyXG5cclxuICBjb25zdCB2YXJpYWJsZXMgPSB7XHJcbiAgICAgIHByb2ZpbGVFZGl0QnV0dG9uOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3Byb2ZpbGUtZWRpdC1idXR0b25cIiksXHJcbiAgICAgIHByb2ZpbGVFZGl0TW9kYWw6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcHJvZmlsZS1lZGl0LW1vZGFsXCIpLFxyXG4gICAgICBwcm9maWxlVGl0bGVJbnB1dDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNwcm9maWxlLXRpdGxlLWlucHV0XCIpLFxyXG4gICAgICBwcm9maWxlRGVzY3JpcHRpb25JbnB1dDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNwcm9maWxlLWRlc2NyaXB0aW9uLWlucHV0XCIpLFxyXG4gICAgICBwcm9maWxlSW1hZ2U6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9faW1hZ2VcIiksXHJcbiAgICAgIGFkZE5ld01vZGFsQ2FyZDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNhZGQtY2FyZC1tb2RhbFwiKSxcclxuICAgICAgY2FyZExpc3RFbDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkc19fbGlzdFwiKSxcclxuICAgICAgcHJvZmlsZUFkZEJ1dHRvbjogZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19wbHVzLWJ1dHRvblwiKSxcclxuICAgICAgZGVsZXRlTW9kYWw6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjZGVsZXRlLW1vZGFsXCIpLFxyXG4gICAgICBhdmF0YXJJbnB1dDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNhdmF0YXItdXJsLWlucHV0XCIpLFxyXG4gICAgICBhdmF0YXJNb2RhbDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNhdmF0YXItbW9kYWxcIiksXHJcbiAgICAgIGF2YXRhck1vZGFsQnV0dG9uOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2F2YXRhci1tb2RhbC1idXR0b25cIiksXHJcbiAgICBcclxuICAgIH1cclxuXHJcblxyXG5leHBvcnQge2luaXRpYWxDYXJkcywgdmFsaWRhdGlvblNldHRpbmdzLCB2YXJpYWJsZXN9O1xyXG5cclxuIl0sIm5hbWVzIjpbIlBvcHVwIiwiX3JlZiIsIl90aGlzIiwicG9wdXBTZWxlY3RvciIsIl9jbGFzc0NhbGxDaGVjayIsImUiLCJrZXkiLCJjbG9zZSIsInRoaXMiLCJfcG9wdXBFbGVtZW50IiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwidmFsdWUiLCJjbGFzc0xpc3QiLCJhZGQiLCJhZGRFdmVudExpc3RlbmVyIiwiX2hhbmRsZUVzY0Nsb3NlIiwicmVtb3ZlIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsIl90aGlzMiIsImV2dCIsInRhcmdldCIsImNvbnRhaW5zIiwiUG9wdXBXaXRoRm9ybSIsIl9Qb3B1cCIsIl9pbmhlcml0cyIsIl9zdXBlciIsImhhbmRsZUZvcm1TdWJtaXQiLCJjYWxsIiwiX2hhbmRsZUZvcm1TdWJtaXQiLCJfcG9wdXBGb3JtIiwiX2lucHV0RWxzIiwicXVlcnlTZWxlY3RvckFsbCIsInJlc2V0IiwiX2dldCIsIl9nZXRQcm90b3R5cGVPZiIsInByb3RvdHlwZSIsImlucHV0VmFsdWVzIiwiaW5wdXRzIiwiZm9yRWFjaCIsImlucHV0IiwibmFtZSIsInByZXZlbnREZWZhdWx0IiwiX2dldElucHV0VmFsdWVzIiwiUG9wdXBXaXRoSW1hZ2UiLCJfcG9wdXBJbWFnZSIsIl9wb3B1cFRpdGxlIiwibGluayIsInNyYyIsImFsdCIsImNvbmNhdCIsInRleHRDb250ZW50IiwiUG9wdXBXaXRoRGVsZXRlIiwiX2Zvcm1FbCIsIkZvcm1WYWxpZGF0b3IiLCJmb3JtU2VsZWN0b3IiLCJ2YWxpZGF0aW9uU2V0dGluZ3MiLCJfaW5wdXRTZWxlY3RvciIsImlucHV0U2VsZWN0b3IiLCJfc3VibWl0QnV0dG9uU2VsZWN0b3IiLCJzdWJtaXRCdXR0b25TZWxlY3RvciIsIl9pbmFjdGl2ZUJ1dHRvbkNsYXNzIiwiaW5hY3RpdmVCdXR0b25DbGFzcyIsIl9pbnB1dEVycm9yQ2xhc3MiLCJpbnB1dEVycm9yQ2xhc3MiLCJfZXJyb3JDbGFzcyIsImVycm9yQ2xhc3MiLCJfc3VibWl0QnV0dG9ucyIsImlucHV0RWwiLCJ2YWxpZGl0eSIsInZhbGlkIiwiX3Nob3dJbnB1dEVycm9yIiwiX2hpZGVJbnB1dEVycm9yIiwiZXJyb3JNZXNzYWdlRWwiLCJpZCIsInZhbGlkYXRpb25NZXNzYWdlIiwiaW5wdXRMaXN0IiwiZXZlcnkiLCJfaGFzSW52YWxpZElucHV0IiwiZGlzYWJsZWQiLCJfY2hlY2tJbnB1dFZhbGlkaXR5IiwidG9nZ2xlQnV0dG9uU3RhdGUiLCJfc2V0RXZlbnRMaXN0ZW5lcnMiLCJTZWN0aW9uIiwiY29udGFpbmVyU2VsZWN0b3IiLCJpdGVtcyIsInJlbmRlcmVyIiwiX2l0ZW1zIiwiX3JlbmRlcmVyIiwiX2NvbnRhaW5lciIsIml0ZW0iLCJlbGVtZW50IiwicHJlcGVuZCIsIkNhcmQiLCJkYXRhIiwiY2FyZFNlbGVjdG9yIiwiaGFuZGxlSW1hZ2VDbGljayIsImhhbmRsZURlbGV0ZUNsaWNrIiwiaGFuZGxlTGlrZUNsaWNrIiwiX2RlZmluZVByb3BlcnR5IiwiX2xpa2VCdXR0b24iLCJ0b2dnbGUiLCJfZWxlbWVudCIsIl9uYW1lIiwiX2xpbmsiLCJfaWQiLCJfaXNMaWtlZCIsImlzTGlrZWQiLCJfaGFuZGxlSW1hZ2VDbGljayIsIl9oYW5kbGVEZWxldGVDbGljayIsIl9oYW5kbGVMaWtlQ2xpY2siLCJfY2FyZFNlbGVjdG9yIiwiY29udGVudCIsImZpcnN0RWxlbWVudENoaWxkIiwiY2xvbmVOb2RlIiwiX2NhcmRUcmFzaCIsIl9jYXJkSW1hZ2VFbCIsIl9nZXRUZW1wbGF0ZSIsIl9yZW1vdmVCdXR0b24iLCJ1cGRhdGVMaWtlVmlldyIsInNlY3Rpb24iLCJBcGkiLCJvcHRpb25zIiwiX2hlYWRlcnMiLCJoZWFkZXJzIiwiYmFzZVVybCIsInJlcyIsIm9rIiwianNvbiIsIlByb21pc2UiLCJyZWplY3QiLCJzdGF0dXMiLCJmZXRjaCIsInRoZW4iLCJfY2hlY2tSZXNwb25zZSIsIm1ldGhvZCIsImNvaG9ydCIsImFib3V0IiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJjYXJkSWQiLCJhdmF0YXIiLCJ2YXJpYWJsZXMiLCJwcm9maWxlRWRpdEJ1dHRvbiIsInByb2ZpbGVFZGl0TW9kYWwiLCJwcm9maWxlVGl0bGVJbnB1dCIsInByb2ZpbGVEZXNjcmlwdGlvbklucHV0IiwicHJvZmlsZUltYWdlIiwiYWRkTmV3TW9kYWxDYXJkIiwiY2FyZExpc3RFbCIsInByb2ZpbGVBZGRCdXR0b24iLCJkZWxldGVNb2RhbCIsImF2YXRhcklucHV0IiwiYXZhdGFyTW9kYWwiLCJhdmF0YXJNb2RhbEJ1dHRvbiIsImFwaSIsImF1dGhvcml6YXRpb24iLCJnZXRJbml0aWFsQ2FyZHMiLCJjYXJkRGF0YSIsImNyZWF0ZUNhcmQiLCJyZW5kZXJJdGVtcyIsImNvbnNvbGUiLCJsb2ciLCJjYXRjaCIsImVycm9yIiwibG9hZEluZm8iLCJ1c2VyaW5mbyIsInNldFVzZXJJbmZvIiwic2V0QXZhdGFyIiwicG9wdXBXaXRoSW1hZ2UiLCJzZXRCdXR0b25UZXh0IiwiYnV0dG9uIiwidGV4dCIsIm9wZW4iLCJjYXJkIiwiYWRkSXRlbSIsImdlbmVyYXRlQ2FyZCIsInNldEV2ZW50TGlzdGVuZXJzIiwiZGVsZXRlQ2FyZENsYXNzIiwic2V0U3VibWl0QWN0aW9uIiwiZGVsZXRlQ2FyZCIsImhhbmRsZURlbGV0ZSIsInVwZGF0ZUxpa2UiLCJoYW5kbGVMaWtlIiwiYWRkRm9ybVZhbGlkYXRvciIsImVuYWJsZVZhbGlkYXRpb24iLCJhZGRQb3B1cCIsImFkZENhcmRDbGFzcyIsImFkZE1vZGFsQnV0dG9uIiwiYWRkTmV3Q2FyZCIsInByb2ZpbGVBZGRGb3JtIiwiZmluYWxseSIsImVkaXRQb3B1cCIsImVkaXRDYXJkQ2xhc3MiLCJlZGl0TW9kYWxCdXR0b24iLCJlZGl0UHJvZmlsZSIsImRlc2NyaXB0aW9uIiwidXNlckluZm8iLCJ1c2VyIiwiZ2V0VXNlckluZm8iLCJuYW1lSW5wdXQiLCJkZXNjcmlwdGlvbklucHV0IiwidXBkYXRlQXZhdGFyIiwiYXZhdGFySWNvbiJdLCJzb3VyY2VSb290IjoiIn0=