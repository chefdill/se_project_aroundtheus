!function(){"use strict";function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(e)}function e(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,r(o.key),o)}}function r(e){var r=function(e,r){if("object"!==t(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,"string");if("object"!==t(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===t(r)?r:String(r)}var n=function(){function t(e){var n,o,i,a=this,u=e.popupSelector;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,i=function(t){"Escape"===t.key&&a.close()},(o=r(o="_handleEscClose"))in n?Object.defineProperty(n,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[o]=i,this._popupElement=document.querySelector(u)}var n,o;return n=t,(o=[{key:"open",value:function(){this._popupElement.classList.add("modal_opened"),document.addEventListener("keydown",this._handleEscClose)}},{key:"close",value:function(){this._popupElement.classList.remove("modal_opened"),document.removeEventListener("keydown",this._handleEscClose)}},{key:"setEventListeners",value:function(){var t=this;this._popupElement.addEventListener("click",(function(e){(e.target===t._popupElement||e.target.classList.contains("modal__close"))&&t.close()}))}}])&&e(n.prototype,o),Object.defineProperty(n,"prototype",{writable:!1}),t}();function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function i(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function a(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,i=function(t,e){if("object"!==o(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===o(i)?i:String(i)),n)}var i}function u(){return u="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=c(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},u.apply(this,arguments)}function l(t,e){return l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},l(t,e)}function c(t){return c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},c(t)}var s=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&l(t,e)}(p,t);var e,r,n,s,f=(n=p,s=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=c(n);if(s){var r=c(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===o(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function p(t,e){var r,n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,p),(r=f.call(this,{popupSelector:t}))._handleFormSubmit=e,r._popupForm=r._popupElement.querySelector(".modal__form"),r._inputEls=function(t){if(Array.isArray(t))return i(t)}(n=r._popupForm.querySelectorAll(".modal__input"))||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(n)||function(t,e){if(t){if("string"==typeof t)return i(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?i(t,e):void 0}}(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),r}return e=p,(r=[{key:"close",value:function(){this._popupForm.reset(),u(c(p.prototype),"close",this).call(this)}},{key:"_getInputValues",value:function(){var t={};return inputs.forEach((function(e){return t[e.name]=e.value})),t}},{key:"setEventListeners",value:function(){var t=this;this._popupForm.addEventListener("submit",(function(e){e.preventDefault(),t._handleFormSubmit(t._getInputValues())})),u(c(p.prototype),"setEventListeners",this).call(this)}},{key:"getForm",value:function(){return this._popupForm}}])&&a(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),p}(n);function f(t){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},f(t)}function p(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==f(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==f(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===f(o)?o:String(o)),n)}var o}function y(){return y="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=h(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},y.apply(this,arguments)}function d(t,e){return d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},d(t,e)}function h(t){return h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},h(t)}var m=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&d(t,e)}(a,t);var e,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=h(n);if(o){var r=h(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===f(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function a(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(e=i.call(this,{popupSelector:t}))._popupImage=e._popupElement.querySelector(".modal__image"),e._popupTitle=e._popupElement.querySelector(".modal__preview-title"),e}return e=a,(r=[{key:"open",value:function(t,e){this._popupImage.src=t,this._popupImage.alt=e,this._popupTitle.textContent=e,y(h(a.prototype),"open",this).call(this)}}])&&p(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),a}(n);function v(t){return v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},v(t)}function b(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==v(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==v(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===v(o)?o:String(o)),n)}var o}function _(){return _="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=g(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},_.apply(this,arguments)}function S(t,e){return S=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},S(t,e)}function g(t){return g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},g(t)}var w=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&S(t,e)}(a,t);var e,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=g(n);if(o){var r=g(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===v(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function a(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(e=i.call(this,{popupSelector:t}))._formEl=e._popupElement.querySelector(".modal__form"),e}return e=a,(r=[{key:"setEventListeners",value:function(){var t=this;this._formEl.addEventListener("submit",(function(e){e.preventDefault(),t._handleFormSubmit()})),_(g(a.prototype),"setEventListeners",this).call(this)}},{key:"setSubmitAction",value:function(t){this._handleFormSubmit=t}}])&&b(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),a}(n);function E(t){return E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},E(t)}function k(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function O(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==E(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==E(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===E(o)?o:String(o)),n)}var o}var j=function(){function t(e,r){var n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._inputSelector=r.inputSelector,this._submitButtonSelector=r.submitButtonSelector,this._inactiveButtonClass=r.inactiveButtonClass,this._inputErrorClass=r.inputErrorClass,this._errorClass=r.errorClass,this._formEl=e,this._inputEls=function(t){if(Array.isArray(t))return k(t)}(n=this._formEl.querySelectorAll("modal__input"))||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(n)||function(t,e){if(t){if("string"==typeof t)return k(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?k(t,e):void 0}}(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),this._submitButtons=this._formEl.querySelector(this._submitButtonSelector)}var e,r;return e=t,(r=[{key:"_checkInputValidity",value:function(t){if(!t.validity.valid)return this._showInputError(t);this._hideInputError(t)}},{key:"_showInputError",value:function(t){var e=this._formEl.querySelector("#".concat(t.id,"-error"));t.classList.add(this._inputErrorClass),e.textContent=t.validationMessage,e.classList.add(this._errorClass)}},{key:"_hideInputError",value:function(t){var e=this._formEl.querySelector("#".concat(t.id,"-error"));t.classList.remove(this._inputErrorClass),e.textContent="",e.classList.remove(this._errorClass)}},{key:"_hasInvalidInput",value:function(t){return!t.every((function(t){return t.validity.valid}))}},{key:"toggleButtonState",value:function(){if(this._hasInvalidInput(this._inputEls))return this._submitButtons.classList.add(this._inactiveButtonClass),void(this._submitButtons.disabled=!0);this._submitButtons.classList.remove(this._inactiveButtonClass),this._submitButtons.disabled=!1}},{key:"_setEventListeners",value:function(){var t=this;this._inputEls.forEach((function(e){e.addEventListener("input",(function(r){t._checkInputValidity(e),t.toggleButtonState()}))}))}},{key:"enableValidation",value:function(){this._formEl.addEventListener("submit",(function(t){t.preventDefault()})),this._setEventListeners()}}])&&O(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}(),P=j;function C(t){return C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},C(t)}function L(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==C(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==C(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===C(o)?o:String(o)),n)}var o}var I=function(){function t(e,r){var n=e.items,o=e.renderer;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._items=n,this._renderer=o,this._container=document.querySelector(r)}var e,r;return e=t,(r=[{key:"renderItems",value:function(){var t=this;this._items.forEach((function(e){t._renderer(e)}))}},{key:"addItem",value:function(t){this._container.prepend(t)}}])&&L(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function B(t){return B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},B(t)}function T(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,A(n.key),n)}}function R(t,e,r){return(e=A(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function A(t){var e=function(t,e){if("object"!==B(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==B(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===B(e)?e:String(e)}var q=function(){function t(e,r,n,o,i){var a=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),R(this,"handleLike",(function(){a._likeButton.classList.toggle("card__like-button_active")})),R(this,"handleDelete",(function(){a._element.remove(),a._element=null})),this._name=e.name,this._link=e.link,this._id=e._id,this._isLiked=e.isLiked,this._handleImageClick=n,this._handleDeleteClick=o,this._handleLikeClick=i,this._cardSelector=r}var e,r;return e=t,(r=[{key:"_getTemplate",value:function(){return document.querySelector(this._cardSelector).content.firstElementChild.cloneNode(!0)}},{key:"isLiked",value:function(){return this._isLiked}},{key:"updateLikeView",value:function(){this._isLiked?this._likeButton.classList.add("card__like-button_active"):this._likeButton.classList.remove("card__like-button_active")}},{key:"_setEventListeners",value:function(){var t=this;this._cardTrash.addEventListener("click",(function(){t._handleDeleteClick(t)})),this._likeButton.addEventListener("click",(function(){t._handleLikeClick(t)})),this._cardImageEl.addEventListener("click",(function(){t._handleImageClick({name:t._name,link:t._link})}))}},{key:"generateCard",value:function(){return this._element=this._getTemplate(),this._likeButton=this._element.querySelector(".card__like-button"),this._removeButton=this._element.querySelector(".card__button-remove"),this._cardImageEl=this._element.querySelector(".card__image"),this._setEventListeners(),this._cardImageEl.src=this._link,this._cardImageEl.alt="Photo of ".concat(this._name),this._element.querySelector(".card__label-title").textContent=this._name,this.updateLikeView(),this._element}}])&&T(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}(),M=q;function U(t){return U="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},U(t)}function D(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==U(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==U(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===U(o)?o:String(o)),n)}var o}var x,F=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._baseUrl="https://around-api.en.tripleten-services.com/v1",this._headers={authorization:"f00dbe4d-3bcf-40e3-a46f-9e1ed8206bd5","Content-type":"application/json"}}var e,r;return e=t,(r=[{key:"_getResponse",value:function(t){return t.ok?t.json():Promise.reject("Error: ".concat(t.status))}},{key:"getUserInfo",value:function(){return fetch("".concat(this._baseUrl,"/users/me"),{headers:this._headers}).then(this._checkResponse)}},{key:"getInitialCards",value:function(){return fetch("".concat(this._baseUrl,"/cards"),{headers:this._headers}).then(this._checkResponse)}},{key:"getEditProfile",value:function(t,e){return fetch("".concat(this._baseUrl,"/users/me"),{method:"PATCH",headers:this._headers,body:JSON.stringify({name:t,about:e})}).then(this._checkResponse)}},{key:"getNewCard",value:function(t,e){return fetch("".concat(this._baseUrl,"/cards"),{method:"POST",headers:this._headers,body:JSON.stringify({name:t,link:e})})}},{key:"deleteCard",value:function(t){return fetch("".concat(this._baseUrl,"/cards/").concat(t),{method:"DELETE",headers:this._headers}).then(this._checkResponse)}},{key:"changeAvatar",value:function(t){return fetch("".concat(this._baseUrl,"/users/me/avatar"),{method:"PATCH",headers:this._headers,body:JSON.stringify({avatarUrl:t})}).then(this._checkResponse)}},{key:"updateLike",value:function(t,e){return fetch("".concat(this._baseUrl,"/cards/").concat(t,"/likes"),{method:e?"DELETE":"PUT",headers:this._headers}).then(this._checkResponse)}},{key:"updateAvatar",value:function(t){return fetch("".concat(this._baseUrl,"/users/me/avatar"),{method:"PATCH",headers:this._headers,body:JSON.stringify({avatar:t})}).then(this._checkResponse)}}])&&D(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}(),V={inputSelector:".modal__input",submitButtonSelector:".modal__button",inactiveButtonClass:"modal__button_disabled",inputErrorClass:"modal__input_type_error",errorClass:"modal__error"},N={profileEditButton:document.querySelector("#profile-edit-button"),profileEditModal:document.querySelector("#profile-edit-modal"),profileTitleInput:document.querySelector("#profile-title-input"),profileDescriptionInput:document.querySelector("#profile-description-input"),profileImage:document.querySelector(".profile__image"),addNewModalCard:document.querySelector("#add-card-modal"),cardListEl:document.querySelector(".cards__list"),profileAddButton:document.querySelector(".profile__plus-button"),deleteModal:document.querySelector("#delete-modal"),avatarInput:document.querySelector("#avatar-url-input"),avatarModal:document.querySelector("#avatar-modal"),avatarModalButton:document.querySelector("#avatar-modal-button")},J=new F({baseUrl:"https://around-api.en.tripleten-services.com/v1",headers:{authorization:"f00dbe4d-3bcf-40e3-a46f-9e1ed8206bd5","Content-Type":"application/json"}});J.getInitialCards().then((function(t){(x=new I({items:t,renderer:function(t){G(t)}},"cards__list")).renderItems(),console.log(t)})).catch(console.error),J.loadInfo().then((function(t){console.log(t),userinfo.setUserInfo(t.name,t.about),userinfo.setAvatar(t.avatar)})).catch(console.error);var H=new m("#picture-modal");function z(t,e){t.textContent=e}function $(t){H.open(t)}function G(t){var e=new M(t,"#card-template",$,Q,W);x.addItem(e.generateCard())}H.setEventListeners();var K=new w(N.deleteCardClass);function Q(t){K.open(),K.setSubmitAction((function(){J.deleteCard(t._id).then((function(){K.close(),t.handleDelete()})).catch(console.error)}))}function W(t){J.updateLike(t._id,t.isLiked()).then((function(){t.handleLike(),console.log(t)})).catch(console.error)}K.setEventListeners();var X=new P(V,N.addNewModalCard);X.enableValidation(),new P(V,N.profileEditModal).enableValidation(),new P(V,N.avatarModal).enableValidation();var Y=new s(N.addCardClass,(function(t){z(N.addModalButton,"Saving..."),J.addNewCard(t).then((function(t){console.log(t),G(t),N.profileAddForm.reset(),X.toggleButtonState(),Y.close()})).catch(console.error).finally((function(){z(N.addModalButton,"Save")}))}));Y.setEventListeners(),N.profileAddButton.addEventListener("click",(function(){Y.open()}));var Z=new s(N.editCardClass,(function(t){z(N.editModalButton,"Saving..."),J.editProfile(t.name,t.description).then((function(t){et.setUserInfo(t.name,t.about),console.log(t),Z.close()})).catch(console.error).finally((function(){z(N.editModalButton,"Save")}))}));Z.setEventListeners(),N.profileEditButton.addEventListener("click",(function(){var t;t=et.getUserInfo(),N.nameInput.value=t.name,N.descriptionInput.value=t.description,Z.open()}));var tt=new s(N.avatarModal,(function(t){z(N.avatarModalButton,"Saving..."),J.updateAvatar(t.link).then((function(t){et.setAvatar(t.avatar),console.log(t),tt.close()})).catch(console.error).finally((function(){z(N.avatarModalButton,"Save")}))}));tt.setEventListeners(),N.avatarIcon.addEventListener("click",(function(){tt.open()}));var et=new et(".profile__title",".profile__description",".profile__avatar")}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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b0JBTVpuQyxFQUFVNkQsV0FBVzdMLGlCQUFpQixTQUFTLFdBSDdDMkksR0FBWW9CLE1BS2QsSUFtQkEsSUFBTXdCLEdBQVcsSUFBSUEsR0FDbkIsa0JBQ0Esd0JBQ0EsbUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvY29tcG9uZW50cy9Qb3B1cC5qcyIsIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzIiwid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy9jb21wb25lbnRzL1BvcHVwV0l0aEltYWdlLmpzIiwid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aERlbGV0ZS5qcyIsIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzIiwid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy9jb21wb25lbnRzL1NlY3Rpb24uanMiLCJ3ZWJwYWNrOi8vcHJhY3RpY3VtLy4vc3JjL2NvbXBvbmVudHMvQ2FyZC5qcyIsIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvcGFnZXMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vcHJhY3RpY3VtLy4vc3JjL2NvbXBvbmVudHMvQXBpLmpzIiwid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy91dGlscy9jb25zdGFudHMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXAge1xyXG4gICAgY29uc3RydWN0b3IoeyBwb3B1cFNlbGVjdG9yIH0pICB7XHJcbiAgICB0aGlzLl9wb3B1cEVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHBvcHVwU2VsZWN0b3IpO1xyXG4gICAgfSBcclxuICAgIFxyXG4gICAgb3BlbigpIHtcclxuICAgICAgICAvL29wZW4gcG9wdXBzXHJcbiAgICAgICAgdGhpcy5fcG9wdXBFbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJtb2RhbF9vcGVuZWRcIik7XHJcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgdGhpcy5faGFuZGxlRXNjQ2xvc2UpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgIGNsb3NlKCkge1xyXG4gICAgICAgIC8vY2xvc2UgcG9wdXBzXHJcbiAgICAgICAgICAgIHRoaXMuX3BvcHVwRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKFwibW9kYWxfb3BlbmVkXCIpO1xyXG4gICAgICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCB0aGlzLl9oYW5kbGVFc2NDbG9zZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgX2hhbmRsZUVzY0Nsb3NlID0gKGUpID0+IHtcclxuICAgICAgICAvL2xpc3RlbnMgZm9yIGVzYyBidXR0b25cclxuICAgICAgICAgIGlmIChlLmtleSA9PT0gXCJFc2NhcGVcIikge1xyXG4gICAgICAgICAgICB0aGlzLmNsb3NlKCk7XHJcbiAgICAgICAgICB9ICAgICAgXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICBzZXRFdmVudExpc3RlbmVycygpe1xyXG4gICAgICAgIC8vc2V0cyBsaXN0ZW5lcnNcclxuICAgICAgICB0aGlzLl9wb3B1cEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChldnQpID0+IHtcclxuICAgICAgICAgICAgaWYoXHJcbiAgICAgICAgICAgICAgICBldnQudGFyZ2V0ID09PSB0aGlzLl9wb3B1cEVsZW1lbnQgfHwgZXZ0LnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoXCJtb2RhbF9fY2xvc2VcIilcclxuICAgICAgICAgICAgKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNsb3NlKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbn1cclxuXHJcbiIsImltcG9ydCBQb3B1cCBmcm9tIFwiLi9Qb3B1cC5qc1wiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoRm9ybSBleHRlbmRzIFBvcHVwIHtcclxuICAgIGNvbnN0cnVjdG9yIChwb3B1cFNlbGVjdG9yLCBoYW5kbGVGb3JtU3VibWl0KSB7XHJcbiAgICAgICAgc3VwZXIoeyBwb3B1cFNlbGVjdG9yIH0pO1xyXG4gICAgICAgIHRoaXMuX2hhbmRsZUZvcm1TdWJtaXQgPSBoYW5kbGVGb3JtU3VibWl0O1xyXG4gICAgICAgIHRoaXMuX3BvcHVwRm9ybSA9IHRoaXMuX3BvcHVwRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19mb3JtXCIpXHJcbiAgICAgICAgdGhpcy5faW5wdXRFbHMgPSBbLi4udGhpcy5fcG9wdXBGb3JtLnF1ZXJ5U2VsZWN0b3JBbGwoXCIubW9kYWxfX2lucHV0XCIpXTtcclxuICAgIH1cclxuXHJcbiAgICBjbG9zZSgpIHtcclxuICAgICAgICB0aGlzLl9wb3B1cEZvcm0ucmVzZXQoKTtcclxuICAgICAgICBzdXBlci5jbG9zZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIF9nZXRJbnB1dFZhbHVlcygpIHtcclxuICAgICAgICBjb25zdCBpbnB1dFZhbHVlcyA9IHt9O1xyXG4gICAgICAgIGlucHV0cy5mb3JFYWNoKChpbnB1dCkgPT4gXHJcbiAgICAgICAgICAgIChpbnB1dFZhbHVlc1tpbnB1dC5uYW1lXSA9IGlucHV0LnZhbHVlKSk7XHJcbiAgICAgICAgICAgIHJldHVybiBpbnB1dFZhbHVlcztcclxuICAgIH1cclxuXHJcbiAgICBzZXRFdmVudExpc3RlbmVycygpe1xyXG4gICAgICAgIHRoaXMuX3BvcHVwRm9ybS5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIChldnQpID0+IHtcclxuICAgICAgICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgIHRoaXMuX2hhbmRsZUZvcm1TdWJtaXQodGhpcy5fZ2V0SW5wdXRWYWx1ZXMoKSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuICAgIH1cclxuXHJcbiAgICBnZXRGb3JtKCl7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3BvcHVwRm9ybTtcclxuICAgIH1cclxuXHJcbn1cclxuIiwiaW1wb3J0IFBvcHVwIGZyb20gXCIuL1BvcHVwLmpzXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhJbWFnZSBleHRlbmRzIFBvcHVwIHtcclxuICAgIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IpIHtcclxuICAgICAgICBzdXBlcih7IHBvcHVwU2VsZWN0b3IgfSk7XHJcbiAgICAgICAgdGhpcy5fcG9wdXBJbWFnZSA9IHRoaXMuX3BvcHVwRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19pbWFnZVwiKTtcclxuICAgICAgICB0aGlzLl9wb3B1cFRpdGxlID0gdGhpcy5fcG9wdXBFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX3ByZXZpZXctdGl0bGVcIik7XHJcbiAgICB9XHJcblxyXG4gICAgb3BlbiggbGluaywgbmFtZSApe1xyXG4gICAgICAgIHRoaXMuX3BvcHVwSW1hZ2Uuc3JjID0gbGluaztcclxuICAgICAgICB0aGlzLl9wb3B1cEltYWdlLmFsdCA9IG5hbWU7XHJcbiAgICAgICAgdGhpcy5fcG9wdXBUaXRsZS50ZXh0Q29udGVudCA9IG5hbWU7XHJcbiAgICAgICAgc3VwZXIub3BlbigpO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IFBvcHVwIGZyb20gXCIuL1BvcHVwLmpzXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhEZWxldGUgZXh0ZW5kcyBQb3B1cCB7XHJcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3Rvcikge1xyXG4gICAgc3VwZXIoeyBwb3B1cFNlbGVjdG9yIH0pO1xyXG4gICAgdGhpcy5fZm9ybUVsID0gdGhpcy5fcG9wdXBFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2Zvcm1cIik7XHJcbiAgfVxyXG5cclxuICBzZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgIHRoaXMuX2Zvcm1FbC5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIChlKSA9PiB7XHJcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgdGhpcy5faGFuZGxlRm9ybVN1Ym1pdCgpO1xyXG4gICAgfSk7XHJcbiAgICBzdXBlci5zZXRFdmVudExpc3RlbmVycygpO1xyXG4gIH1cclxuXHJcbiAgc2V0U3VibWl0QWN0aW9uKGhhbmRsZUZvcm1TdWJtaXQpIHtcclxuICAgIHRoaXMuX2hhbmRsZUZvcm1TdWJtaXQgPSBoYW5kbGVGb3JtU3VibWl0O1xyXG4gIH1cclxufVxyXG4iLCJjbGFzcyBGb3JtVmFsaWRhdG9yIHtcclxuICAgIGNvbnN0cnVjdG9yKCBmb3JtU2VsZWN0b3IsIHZhbGlkYXRpb25TZXR0aW5ncyApIHtcclxuICAgICAgdGhpcy5faW5wdXRTZWxlY3RvciA9IHZhbGlkYXRpb25TZXR0aW5ncy5pbnB1dFNlbGVjdG9yO1xyXG4gICAgICB0aGlzLl9zdWJtaXRCdXR0b25TZWxlY3RvciA9IHZhbGlkYXRpb25TZXR0aW5ncy5zdWJtaXRCdXR0b25TZWxlY3RvcjtcclxuICAgICAgdGhpcy5faW5hY3RpdmVCdXR0b25DbGFzcyA9IHZhbGlkYXRpb25TZXR0aW5ncy5pbmFjdGl2ZUJ1dHRvbkNsYXNzO1xyXG4gICAgICB0aGlzLl9pbnB1dEVycm9yQ2xhc3MgPSB2YWxpZGF0aW9uU2V0dGluZ3MuaW5wdXRFcnJvckNsYXNzO1xyXG4gICAgICB0aGlzLl9lcnJvckNsYXNzID0gdmFsaWRhdGlvblNldHRpbmdzLmVycm9yQ2xhc3M7XHJcbiAgICAgIHRoaXMuX2Zvcm1FbCA9IGZvcm1TZWxlY3RvcjtcclxuICAgICAgdGhpcy5faW5wdXRFbHMgPSBbLi4udGhpcy5fZm9ybUVsLnF1ZXJ5U2VsZWN0b3JBbGwoXCJtb2RhbF9faW5wdXRcIildO1xyXG4gICAgICB0aGlzLl9zdWJtaXRCdXR0b25zID0gdGhpcy5fZm9ybUVsLnF1ZXJ5U2VsZWN0b3IodGhpcy5fc3VibWl0QnV0dG9uU2VsZWN0b3IpO1xyXG4gICAgfVxyXG4gIFxyXG4gICAgX2NoZWNrSW5wdXRWYWxpZGl0eShpbnB1dEVsKSB7XHJcbiAgICAgIGlmICghaW5wdXRFbC52YWxpZGl0eS52YWxpZCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9zaG93SW5wdXRFcnJvcihpbnB1dEVsKTtcclxuICAgICAgfVxyXG4gICAgICB0aGlzLl9oaWRlSW5wdXRFcnJvcihpbnB1dEVsKTtcclxuICAgIH1cclxuICBcclxuICAgIF9zaG93SW5wdXRFcnJvcihpbnB1dCkge1xyXG4gICAgICBjb25zdCBlcnJvck1lc3NhZ2VFbCA9IHRoaXMuX2Zvcm1FbC5xdWVyeVNlbGVjdG9yKGAjJHtpbnB1dC5pZH0tZXJyb3JgKTtcclxuICAgICAgaW5wdXQuY2xhc3NMaXN0LmFkZCh0aGlzLl9pbnB1dEVycm9yQ2xhc3MpO1xyXG4gICAgICBlcnJvck1lc3NhZ2VFbC50ZXh0Q29udGVudCA9IGlucHV0LnZhbGlkYXRpb25NZXNzYWdlO1xyXG4gICAgICBlcnJvck1lc3NhZ2VFbC5jbGFzc0xpc3QuYWRkKHRoaXMuX2Vycm9yQ2xhc3MpO1xyXG4gICAgfVxyXG4gIFxyXG4gICAgX2hpZGVJbnB1dEVycm9yKGlucHV0KSB7XHJcbiAgICAgIGNvbnN0IGVycm9yTWVzc2FnZUVsID0gdGhpcy5fZm9ybUVsLnF1ZXJ5U2VsZWN0b3IoYCMke2lucHV0LmlkfS1lcnJvcmApO1xyXG4gICAgICBpbnB1dC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2lucHV0RXJyb3JDbGFzcyk7XHJcbiAgICAgIGVycm9yTWVzc2FnZUVsLnRleHRDb250ZW50ID0gXCJcIjtcclxuICAgICAgZXJyb3JNZXNzYWdlRWwuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9lcnJvckNsYXNzKTtcclxuICAgIH1cclxuICBcclxuICAgIF9oYXNJbnZhbGlkSW5wdXQoaW5wdXRMaXN0KSB7XHJcbiAgICAgIHJldHVybiAhaW5wdXRMaXN0LmV2ZXJ5KChpbnB1dEVsKSA9PiBpbnB1dEVsLnZhbGlkaXR5LnZhbGlkKTtcclxuICAgIH1cclxuICBcclxuICAgIHRvZ2dsZUJ1dHRvblN0YXRlKCkge1xyXG4gICAgICBpZiAodGhpcy5faGFzSW52YWxpZElucHV0KHRoaXMuX2lucHV0RWxzKSkge1xyXG4gICAgICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbnMuY2xhc3NMaXN0LmFkZCh0aGlzLl9pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcclxuICAgICAgICB0aGlzLl9zdWJtaXRCdXR0b25zLmRpc2FibGVkID0gdHJ1ZTtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuICAgICAgdGhpcy5fc3VibWl0QnV0dG9ucy5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2luYWN0aXZlQnV0dG9uQ2xhc3MpO1xyXG4gICAgICB0aGlzLl9zdWJtaXRCdXR0b25zLmRpc2FibGVkID0gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgXHJcbiAgICBfc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICAgIHRoaXMuX2lucHV0RWxzLmZvckVhY2goKGlucHV0RWwpID0+IHtcclxuICAgICAgICBpbnB1dEVsLmFkZEV2ZW50TGlzdGVuZXIoXCJpbnB1dFwiLCAoZSkgPT4ge1xyXG4gICAgICAgICAgdGhpcy5fY2hlY2tJbnB1dFZhbGlkaXR5KGlucHV0RWwpO1xyXG4gICAgICAgICAgdGhpcy50b2dnbGVCdXR0b25TdGF0ZSgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuICBcclxuICAgIGVuYWJsZVZhbGlkYXRpb24oKSB7XHJcbiAgICAgIHRoaXMuX2Zvcm1FbC5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIChlKSA9PiB7XHJcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICB9KTtcclxuICAgICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuICAgIH1cclxuICB9XHJcbiAgZXhwb3J0IGRlZmF1bHQgRm9ybVZhbGlkYXRvcjtcclxuXHJcbiIsImNsYXNzIFNlY3Rpb24ge1xyXG4gIGNvbnN0cnVjdG9yKHsgaXRlbXMsIHJlbmRlcmVyIH0sIGNvbnRhaW5lclNlbGVjdG9yKSB7XHJcbiAgICB0aGlzLl9pdGVtcyA9IGl0ZW1zO1xyXG4gICAgdGhpcy5fcmVuZGVyZXIgPSByZW5kZXJlcjtcclxuICAgIHRoaXMuX2NvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoY29udGFpbmVyU2VsZWN0b3IpO1xyXG4gIH1cclxuXHJcbiAgcmVuZGVySXRlbXMoKSB7XHJcbiAgICB0aGlzLl9pdGVtcy5mb3JFYWNoKChpdGVtKSA9PiB7XHJcbiAgICAgIHRoaXMuX3JlbmRlcmVyKGl0ZW0pO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBhZGRJdGVtKGVsZW1lbnQpIHtcclxuICAgIHRoaXMuX2NvbnRhaW5lci5wcmVwZW5kKGVsZW1lbnQpO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgU2VjdGlvbjsiLCIvLyBleHBvcnQgZGVmYXVsdCBjbGFzcyBDYXJkIHtcclxuLy8gICAgIGNvbnN0cnVjdG9yKFxyXG4vLyAgICAgICBjYXJkRGF0YSwgXHJcbi8vICAgICAgIGNhcmRTZWxlY3RvciwgXHJcbi8vICAgICAgIGhhbmRsZUltYWdlQ2xpY2ssIFxyXG4vLyAgICAgICBoYW5kbGVEZWxldGVDbGljaywgXHJcbi8vICAgICAgIGhhbmRsZUxpa2VJY29uXHJcbi8vICAgICAgICkgXHJcbiAgICAgIFxyXG4vLyAgICAgICB7XHJcbi8vICAgICAgIHRoaXMuX25hbWUgPSBjYXJkRGF0YS5uYW1lO1xyXG4vLyAgICAgICB0aGlzLl9saW5rID0gY2FyZERhdGEubGluaztcclxuLy8gICAgICAgdGhpcy5fY2FyZFNlbGVjdG9yID0gY2FyZFNlbGVjdG9yO1xyXG4vLyAgICAgICB0aGlzLl9oYW5kbGVEZWxldGVDbGljayA9IGhhbmRsZURlbGV0ZUNsaWNrO1xyXG4vLyAgICAgICB0aGlzLl9oYW5kbGVMaWtlSWNvbiA9IGhhbmRsZUxpa2VJY29uO1xyXG4vLyAgICAgICB0aGlzLl9oYW5kbGVJbWFnZUNsaWNrID0gaGFuZGxlSW1hZ2VDbGljaztcclxuLy8gICAgIH1cclxuXHJcbi8vICAgICBfZ2V0VGVtcGxhdGUoKSB7XHJcbi8vICAgICAgIGNvbnN0IGNhcmRFbGVtZW50ID0gZG9jdW1lbnRcclxuLy8gICAgICAgICAucXVlcnlTZWxlY3Rvcih0aGlzLl9jYXJkU2VsZWN0b3IpXHJcbi8vICAgICAgICAgLmNvbnRlbnQuZmlyc3RFbGVtZW50Q2hpbGQuY2xvbmVOb2RlKHRydWUpO1xyXG4gIFxyXG4vLyAgICAgICByZXR1cm4gY2FyZEVsZW1lbnQ7XHJcbi8vICAgICB9XHJcbiAgXHJcbi8vICAgICBfc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbi8vICAgICAgIHRoaXMuX2NhcmRFbGVtZW50XHJcbi8vICAgICAgIC5xdWVyeVNlbGVjdG9yKFwiY2FyZF9fYnV0dG9uLXJlbW92ZVwiKVxyXG4vLyAgICAgICAuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuLy8gICAgICAgICB0aGlzLl9oYW5kbGVEZWxldGVDbGljaygpO1xyXG4vLyAgICAgICB9KTtcclxuXHJcbi8vICAgICAgIHRoaXMuX2NhcmRFbGVtZW50XHJcbi8vICAgICAgIC5xdWVyeVNlbGVjdG9yKFwiY2FyZF9fbGlrZS1idXR0b25cIilcclxuLy8gICAgICAgLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbi8vICAgICAgICAgdGhpcy5faGFuZGxlTGlrZUljb24oKTtcclxuLy8gICAgICAgfSk7XHJcblxyXG4vLyAgICAgICB0aGlzLl9jYXJkRWxlbWVudFxyXG4vLyAgICAgICAucXVlcnlTZWxlY3RvcihcIi5jYXJkX19pbWFnZVwiKVxyXG4vLyAgICAgICAuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuLy8gICAgICAgICB0aGlzLl9oYW5kbGVJbWFnZUNsaWNrKHsgbmFtZTogdGhpcy5fbmFtZSwgbGluazogdGhpcy5fbGluayB9KTtcclxuLy8gICAgICAgfSk7XHJcblxyXG4vLyAgICAgfVxyXG4gICAgXHJcbi8vICAgICBfaGFuZGxlTGlrZSgpIHtcclxuLy8gICAgICAgdGhpcy5fY2FyZEVsZW1lbnRcclxuLy8gICAgICAgICAucXVlcnlTZWxlY3RvcihcIi5jYXJkX19saWtlLWJ1dHRvblwiKVxyXG4vLyAgICAgICAgIC5jbGFzc0xpc3QudG9nZ2xlKFwiY2FyZF9fbGlrZS1idXR0b25fYWN0aXZlXCIpO1xyXG4vLyAgICAgfVxyXG4gIFxyXG4vLyAgICAgX2hhbmRsZURlbGV0ZSgpIHtcclxuLy8gICAgICAgdGhpcy5fY2FyZEVsZW1lbnQucmVtb3ZlKCk7XHJcbi8vICAgICAgIHRoaXMuX2NhcmRFbGVtZW50ID0gbnVsbDtcclxuLy8gICAgIH1cclxuICBcclxuLy8gICAgIGdldFZpZXcoKSB7XHJcbi8vICAgICAgIGNvbnN0IGNhcmREYXRhID0geyBsaW5rOiB0aGlzLl9saW5rLCBuYW1lOiB0aGlzLl9uYW1lIH07XHJcbi8vICAgICAgIHRoaXMuX2NhcmRFbGVtZW50ID0gdGhpcy5fZ2V0VGVtcGxhdGUoKTtcclxuLy8gICAgICAgY29uc3QgY2FyZEltYWdlRUwgPSB0aGlzLl9jYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2ltYWdlXCIpO1xyXG4vLyAgICAgICBjYXJkSW1hZ2VFTC5zcmMgPSB0aGlzLl9saW5rO1xyXG4vLyAgICAgICBjYXJkSW1hZ2VFTC5hbHQgPSB0aGlzLl9uYW1lO1xyXG4vLyAgICAgICBjb25zdCBjYXJkVGl0bGVFTCA9IHRoaXMuX2NhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9fbGFiZWwtdGl0bGVcIik7XHJcbi8vICAgICAgIGNhcmRUaXRsZUVMLnRleHRDb250ZW50ID0gY2FyZERhdGEubmFtZTtcclxuICBcclxuLy8gICAgICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuICBcclxuLy8gICAgICAgcmV0dXJuIHRoaXMuX2NhcmRFbGVtZW50O1xyXG4vLyAgICAgfVxyXG4vLyAgIH1cclxuXHJcbmNsYXNzIENhcmQge1xyXG4gIGNvbnN0cnVjdG9yKFxyXG4gICAgZGF0YSxcclxuICAgIGNhcmRTZWxlY3RvcixcclxuICAgIGhhbmRsZUltYWdlQ2xpY2ssXHJcbiAgICBoYW5kbGVEZWxldGVDbGljayxcclxuICAgIGhhbmRsZUxpa2VDbGlja1xyXG4gICkge1xyXG4gICAgdGhpcy5fbmFtZSA9IGRhdGEubmFtZTtcclxuICAgIHRoaXMuX2xpbmsgPSBkYXRhLmxpbms7XHJcbiAgICB0aGlzLl9pZCA9IGRhdGEuX2lkO1xyXG4gICAgdGhpcy5faXNMaWtlZCA9IGRhdGEuaXNMaWtlZDtcclxuICAgIHRoaXMuX2hhbmRsZUltYWdlQ2xpY2sgPSBoYW5kbGVJbWFnZUNsaWNrO1xyXG4gICAgdGhpcy5faGFuZGxlRGVsZXRlQ2xpY2sgPSBoYW5kbGVEZWxldGVDbGljaztcclxuICAgIHRoaXMuX2hhbmRsZUxpa2VDbGljayA9IGhhbmRsZUxpa2VDbGljaztcclxuXHJcbiAgICB0aGlzLl9jYXJkU2VsZWN0b3IgPSBjYXJkU2VsZWN0b3I7XHJcbiAgfVxyXG5cclxuICBfZ2V0VGVtcGxhdGUoKSB7XHJcbiAgICBjb25zdCBjYXJkRWxlbWVudCA9IGRvY3VtZW50XHJcbiAgICAgIC5xdWVyeVNlbGVjdG9yKHRoaXMuX2NhcmRTZWxlY3RvcilcclxuICAgICAgLmNvbnRlbnQuZmlyc3RFbGVtZW50Q2hpbGQuY2xvbmVOb2RlKHRydWUpO1xyXG5cclxuICAgIHJldHVybiBjYXJkRWxlbWVudDtcclxuICB9XHJcblxyXG4gIGlzTGlrZWQoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5faXNMaWtlZDtcclxuICB9XHJcblxyXG4gIGhhbmRsZUxpa2UgPSAoKSA9PiB7XHJcbiAgICB0aGlzLl9saWtlQnV0dG9uLmNsYXNzTGlzdC50b2dnbGUoXCJjYXJkX19saWtlLWJ1dHRvbl9hY3RpdmVcIik7XHJcbiAgfTtcclxuXHJcbiAgaGFuZGxlRGVsZXRlID0gKCkgPT4ge1xyXG4gICAgdGhpcy5fZWxlbWVudC5yZW1vdmUoKTtcclxuICAgIHRoaXMuX2VsZW1lbnQgPSBudWxsO1xyXG4gIH07XHJcblxyXG4gIHVwZGF0ZUxpa2VWaWV3KCkge1xyXG4gICAgaWYgKHRoaXMuX2lzTGlrZWQpIHtcclxuICAgICAgdGhpcy5fbGlrZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKFwiY2FyZF9fbGlrZS1idXR0b25fYWN0aXZlXCIpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5fbGlrZUJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKFwiY2FyZF9fbGlrZS1idXR0b25fYWN0aXZlXCIpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgX3NldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgdGhpcy5fY2FyZFRyYXNoLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICAgIHRoaXMuX2hhbmRsZURlbGV0ZUNsaWNrKHRoaXMpO1xyXG4gICAgfSk7XHJcbiAgICB0aGlzLl9saWtlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICAgIHRoaXMuX2hhbmRsZUxpa2VDbGljayh0aGlzKTtcclxuICAgIH0pO1xyXG4gICAgdGhpcy5fY2FyZEltYWdlRWwuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgICAgdGhpcy5faGFuZGxlSW1hZ2VDbGljayh7IG5hbWU6IHRoaXMuX25hbWUsIGxpbms6IHRoaXMuX2xpbmsgfSk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGdlbmVyYXRlQ2FyZCgpIHtcclxuICAgIHRoaXMuX2VsZW1lbnQgPSB0aGlzLl9nZXRUZW1wbGF0ZSgpO1xyXG4gICAgdGhpcy5fbGlrZUJ1dHRvbiA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX19saWtlLWJ1dHRvblwiKTtcclxuICAgIHRoaXMuX3JlbW92ZUJ1dHRvbiA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX19idXR0b24tcmVtb3ZlXCIpO1xyXG4gICAgdGhpcy5fY2FyZEltYWdlRWwgPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9faW1hZ2VcIik7XHJcblxyXG4gICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuXHJcbiAgICB0aGlzLl9jYXJkSW1hZ2VFbC5zcmMgPSB0aGlzLl9saW5rO1xyXG4gICAgdGhpcy5fY2FyZEltYWdlRWwuYWx0ID0gYFBob3RvIG9mICR7dGhpcy5fbmFtZX1gO1xyXG4gICAgdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2xhYmVsLXRpdGxlXCIpLnRleHRDb250ZW50ID1cclxuICAgICAgdGhpcy5fbmFtZTtcclxuXHJcbiAgICB0aGlzLnVwZGF0ZUxpa2VWaWV3KCk7XHJcblxyXG4gICAgcmV0dXJuIHRoaXMuX2VsZW1lbnQ7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBDYXJkO1xyXG4iLCJpbXBvcnQgUG9wdXBXaXRoRm9ybSBmcm9tIFwiLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzXCI7XHJcbmltcG9ydCBQb3B1cFdpdGhJbWFnZSBmcm9tIFwiLi4vY29tcG9uZW50cy9Qb3B1cFdJdGhJbWFnZS5qc1wiO1xyXG5pbXBvcnQgUG9wdXBXaXRoRGVsZXRlIGZyb20gXCIuLi9jb21wb25lbnRzL1BvcHVwV2l0aERlbGV0ZS5qc1wiO1xyXG5pbXBvcnQgRm9ybVZhbGlkYXRvciBmcm9tIFwiLi4vY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzXCI7XHJcbmltcG9ydCBVc2VySW5mbyBmcm9tIFwiLi4vY29tcG9uZW50cy9Vc2VySW5mby5qc1wiO1xyXG5pbXBvcnQgU2VjdGlvbiBmcm9tIFwiLi4vY29tcG9uZW50cy9TZWN0aW9uLmpzXCI7XHJcbmltcG9ydCBDYXJkIGZyb20gXCIuLi9jb21wb25lbnRzL0NhcmQuanNcIjtcclxuaW1wb3J0IEFwaSBmcm9tIFwiLi4vY29tcG9uZW50cy9BcGkuanNcIjtcclxuaW1wb3J0IFwiLi9pbmRleC5jc3NcIjtcclxuaW1wb3J0IHsgdmFsaWRhdGlvblNldHRpbmdzLCB2YXJpYWJsZXMgfSBmcm9tIFwiLi4vdXRpbHMvY29uc3RhbnRzLmpzXCI7XHJcblxyXG4vLyBBUElcclxuXHJcbmNvbnN0IGFwaSA9IG5ldyBBcGkoe1xyXG4gIGJhc2VVcmw6IFwiaHR0cHM6Ly9hcm91bmQtYXBpLmVuLnRyaXBsZXRlbi1zZXJ2aWNlcy5jb20vdjFcIixcclxuICBoZWFkZXJzOiB7XHJcbiAgICBhdXRob3JpemF0aW9uOiBcImYwMGRiZTRkLTNiY2YtNDBlMy1hNDZmLTllMWVkODIwNmJkNVwiLFxyXG4gICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXHJcbiAgfSxcclxufSk7XHJcblxyXG4vLyBTRUNUSU9OXHJcblxyXG5sZXQgc2VjdGlvbjtcclxuXHJcbmFwaVxyXG4gIC5nZXRJbml0aWFsQ2FyZHMoKVxyXG4gIC50aGVuKChyZXMpID0+IHtcclxuICAgIHNlY3Rpb24gPSBuZXcgU2VjdGlvbihcclxuICAgICAge1xyXG4gICAgICAgIGl0ZW1zOiByZXMsXHJcbiAgICAgICAgcmVuZGVyZXI6IChjYXJkRGF0YSkgPT4ge1xyXG4gICAgICAgICAgY3JlYXRlQ2FyZChjYXJkRGF0YSk7XHJcbiAgICAgICAgfSxcclxuICAgICAgfSxcclxuICAgICAgXCJjYXJkc19fbGlzdFwiXHJcbiAgICApO1xyXG4gICAgc2VjdGlvbi5yZW5kZXJJdGVtcygpO1xyXG4gICAgY29uc29sZS5sb2cocmVzKTtcclxuICB9KVxyXG4gIC5jYXRjaChjb25zb2xlLmVycm9yKTtcclxuXHJcbmFwaVxyXG4gIC5sb2FkSW5mbygpXHJcbiAgLnRoZW4oKHJlcykgPT4ge1xyXG4gICAgY29uc29sZS5sb2cocmVzKTtcclxuICAgIHVzZXJpbmZvLnNldFVzZXJJbmZvKHJlcy5uYW1lLCByZXMuYWJvdXQpO1xyXG4gICAgdXNlcmluZm8uc2V0QXZhdGFyKHJlcy5hdmF0YXIpO1xyXG4gIH0pXHJcbiAgLmNhdGNoKGNvbnNvbGUuZXJyb3IpO1xyXG5cclxuLy8gUE9QVVAgV0lUSCBJTUFHRVxyXG5cclxuY29uc3QgcG9wdXBXaXRoSW1hZ2UgPSBuZXcgUG9wdXBXaXRoSW1hZ2UoXCIjcGljdHVyZS1tb2RhbFwiKTtcclxuXHJcbnBvcHVwV2l0aEltYWdlLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcblxyXG4vLyBTQVZFIEJVVFRPTiBURVhUIENIQU5HRSBGVU5DVElPTiBGT1IgRk9STVNcclxuXHJcbmZ1bmN0aW9uIHNldEJ1dHRvblRleHQoYnV0dG9uLCB0ZXh0KSB7XHJcbiAgYnV0dG9uLnRleHRDb250ZW50ID0gdGV4dDtcclxufVxyXG5cclxuLy8gQ0FSRFxyXG5cclxuZnVuY3Rpb24gaGFuZGxlSW1hZ2VDbGljayhjYXJkRGF0YSkge1xyXG4gIHBvcHVwV2l0aEltYWdlLm9wZW4oY2FyZERhdGEpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBjcmVhdGVDYXJkKGNhcmREYXRhKSB7XHJcbiAgY29uc3QgY2FyZCA9IG5ldyBDYXJkKFxyXG4gICAgY2FyZERhdGEsXHJcbiAgICBcIiNjYXJkLXRlbXBsYXRlXCIsXHJcbiAgICBoYW5kbGVJbWFnZUNsaWNrLFxyXG4gICAgaGFuZGxlRGVsZXRlQ2xpY2ssXHJcbiAgICBoYW5kbGVMaWtlQ2xpY2tcclxuICApO1xyXG4gIHNlY3Rpb24uYWRkSXRlbShjYXJkLmdlbmVyYXRlQ2FyZCgpKTtcclxufVxyXG5cclxuZnVuY3Rpb24gaGFuZGxlQWRkQ2FyZFN1Ym1pdChpbnB1dFZhbHVlcykge1xyXG4gIHNldEJ1dHRvblRleHQodmFyaWFibGVzLmFkZE1vZGFsQnV0dG9uLCBcIlNhdmluZy4uLlwiKTtcclxuICBhcGlcclxuICAgIC5hZGROZXdDYXJkKGlucHV0VmFsdWVzKVxyXG4gICAgLnRoZW4oKHJlcykgPT4ge1xyXG4gICAgICBjb25zb2xlLmxvZyhyZXMpO1xyXG4gICAgICAvLyBjcmVhdGUgYSBuZXcgY2FyZFxyXG4gICAgICBjcmVhdGVDYXJkKHJlcyk7XHJcbiAgICAgIC8vIHJlbmRlciBpdFxyXG4gICAgICB2YXJpYWJsZXMucHJvZmlsZUFkZEZvcm0ucmVzZXQoKTtcclxuICAgICAgLy8gdG9nZ2xlIGJ1dHRvbiBzdGF0ZVxyXG4gICAgICBhZGRGb3JtVmFsaWRhdG9yLnRvZ2dsZUJ1dHRvblN0YXRlKCk7XHJcbiAgICAgIC8vIGNsb3NlIG1vZGFsXHJcbiAgICAgIGFkZFBvcHVwLmNsb3NlKCk7XHJcbiAgICB9KVxyXG4gICAgLmNhdGNoKGNvbnNvbGUuZXJyb3IpXHJcbiAgICAuZmluYWxseSgoKSA9PiB7XHJcbiAgICAgIHNldEJ1dHRvblRleHQodmFyaWFibGVzLmFkZE1vZGFsQnV0dG9uLCBcIlNhdmVcIik7XHJcbiAgICB9KTtcclxufVxyXG5cclxuLy8gSEFORExFIERFTEVURSBNT0RBTFxyXG5cclxuY29uc3QgZGVsZXRlTW9kYWwgPSBuZXcgUG9wdXBXaXRoRGVsZXRlKHZhcmlhYmxlcy5kZWxldGVDYXJkQ2xhc3MpO1xyXG5kZWxldGVNb2RhbC5zZXRFdmVudExpc3RlbmVycygpO1xyXG5cclxuZnVuY3Rpb24gaGFuZGxlRGVsZXRlQ2xpY2soY2FyZCkge1xyXG4gIC8vIG9wZW4gdGhlIG1vZGFsXHJcbiAgZGVsZXRlTW9kYWwub3BlbigpO1xyXG4gIC8vIHNldCB0aGUgc3VibWl0IGFjdGlvblxyXG4gIGRlbGV0ZU1vZGFsLnNldFN1Ym1pdEFjdGlvbigoKSA9PiB7XHJcbiAgICBhcGlcclxuICAgICAgLmRlbGV0ZUNhcmQoY2FyZC5faWQpXHJcbiAgICAgIC50aGVuKCgpID0+IHtcclxuICAgICAgICBkZWxldGVNb2RhbC5jbG9zZSgpO1xyXG4gICAgICAgIGNhcmQuaGFuZGxlRGVsZXRlKCk7XHJcbiAgICAgIH0pXHJcbiAgICAgIC5jYXRjaChjb25zb2xlLmVycm9yKTtcclxuICB9KTtcclxufVxyXG5cclxuLy8gQ0FSRCBMSUtFXHJcblxyXG5mdW5jdGlvbiBoYW5kbGVMaWtlQ2xpY2soY2FyZCkge1xyXG4gIGFwaVxyXG4gICAgLnVwZGF0ZUxpa2UoY2FyZC5faWQsIGNhcmQuaXNMaWtlZCgpKVxyXG4gICAgLnRoZW4oKCkgPT4ge1xyXG4gICAgICBjYXJkLmhhbmRsZUxpa2UoKTtcclxuICAgICAgY29uc29sZS5sb2coY2FyZCk7XHJcbiAgICB9KVxyXG4gICAgLmNhdGNoKGNvbnNvbGUuZXJyb3IpO1xyXG4gIC8vIGhhbmRsZSBjaGFuZ2luZyB0aGUgYnV0dG9uJ3Mgc3RhdGUgaW4gYSAudGhlbiBhZnRlciB0aGUgc3VjY2Vzc2Z1bCByZXNwb25zZVxyXG59XHJcblxyXG4vLyBGT1JNIFZBTElEQVRPUlxyXG5cclxuY29uc3QgYWRkRm9ybVZhbGlkYXRvciA9IG5ldyBGb3JtVmFsaWRhdG9yKHZhbGlkYXRpb25TZXR0aW5ncywgdmFyaWFibGVzLmFkZE5ld01vZGFsQ2FyZCk7XHJcbmFkZEZvcm1WYWxpZGF0b3IuZW5hYmxlVmFsaWRhdGlvbigpO1xyXG5cclxuY29uc3QgZWRpdEZvcm1WYWxpZGF0b3IgPSBuZXcgRm9ybVZhbGlkYXRvcih2YWxpZGF0aW9uU2V0dGluZ3MsIHZhcmlhYmxlcy5wcm9maWxlRWRpdE1vZGFsKTtcclxuZWRpdEZvcm1WYWxpZGF0b3IuZW5hYmxlVmFsaWRhdGlvbigpO1xyXG5cclxuY29uc3QgYXZhdGFyRm9ybVZhbGlkYXRvciA9IG5ldyBGb3JtVmFsaWRhdG9yKHZhbGlkYXRpb25TZXR0aW5ncywgdmFyaWFibGVzLmF2YXRhck1vZGFsKTtcclxuYXZhdGFyRm9ybVZhbGlkYXRvci5lbmFibGVWYWxpZGF0aW9uKCk7XHJcblxyXG4vLyBQT1BVUCBXSVRIIEZPUk0gLSBBREQgRk9STVxyXG5cclxuY29uc3QgYWRkUG9wdXAgPSBuZXcgUG9wdXBXaXRoRm9ybSh2YXJpYWJsZXMuYWRkQ2FyZENsYXNzLCBoYW5kbGVBZGRDYXJkU3VibWl0KTtcclxuXHJcbmZ1bmN0aW9uIG9wZW5BZGRGb3JtKCkge1xyXG4gIGFkZFBvcHVwLm9wZW4oKTtcclxufVxyXG5cclxuYWRkUG9wdXAuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuXHJcbnZhcmlhYmxlcy5wcm9maWxlQWRkQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiBvcGVuQWRkRm9ybSgpKTtcclxuXHJcbi8vRURJVCBGT1JNXHJcblxyXG5jb25zdCBlZGl0UG9wdXAgPSBuZXcgUG9wdXBXaXRoRm9ybShcclxuICB2YXJpYWJsZXMuZWRpdENhcmRDbGFzcyxcclxuICBoYW5kbGVFZGl0Rm9ybVN1Ym1pdFxyXG4pO1xyXG5cclxuZnVuY3Rpb24gb3BlbkVkaXRGb3JtKCkge1xyXG4gIGNvbnN0IHVzZXIgPSB1c2VySW5mby5nZXRVc2VySW5mbygpO1xyXG4gIHZhcmlhYmxlcy5uYW1lSW5wdXQudmFsdWUgPSB1c2VyLm5hbWU7XHJcbiAgdmFyaWFibGVzLmRlc2NyaXB0aW9uSW5wdXQudmFsdWUgPSB1c2VyLmRlc2NyaXB0aW9uO1xyXG4gIGVkaXRQb3B1cC5vcGVuKCk7XHJcbn1cclxuXHJcbmVkaXRQb3B1cC5zZXRFdmVudExpc3RlbmVycygpO1xyXG5cclxudmFyaWFibGVzLnByb2ZpbGVFZGl0QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgb3BlbkVkaXRGb3JtKCk7XHJcbn0pO1xyXG5cclxuLy9BVkFUQVIgRk9STVxyXG5cclxuY29uc3QgYXZhdGFyTW9kYWwgPSBuZXcgUG9wdXBXaXRoRm9ybShcclxuICB2YXJpYWJsZXMuYXZhdGFyTW9kYWwsXHJcbiAgaGFuZGxlQXZhdGFyRm9ybVN1Ym1pdFxyXG4pO1xyXG5hdmF0YXJNb2RhbC5zZXRFdmVudExpc3RlbmVycygpO1xyXG5cclxuZnVuY3Rpb24gb3BlbkF2YXRhckZvcm0oKSB7XHJcbiAgYXZhdGFyTW9kYWwub3BlbigpO1xyXG59XHJcblxyXG52YXJpYWJsZXMuYXZhdGFySWNvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gIG9wZW5BdmF0YXJGb3JtKCk7XHJcbn0pO1xyXG5cclxuZnVuY3Rpb24gaGFuZGxlQXZhdGFyRm9ybVN1Ym1pdChpbnB1dFZhbHVlcykge1xyXG4gIHNldEJ1dHRvblRleHQodmFyaWFibGVzLmF2YXRhck1vZGFsQnV0dG9uLCBcIlNhdmluZy4uLlwiKTtcclxuICBhcGlcclxuICAgIC51cGRhdGVBdmF0YXIoaW5wdXRWYWx1ZXMubGluaylcclxuICAgIC50aGVuKChyZXMpID0+IHtcclxuICAgICAgdXNlckluZm8uc2V0QXZhdGFyKHJlcy5hdmF0YXIpO1xyXG4gICAgICBjb25zb2xlLmxvZyhyZXMpO1xyXG4gICAgICBhdmF0YXJNb2RhbC5jbG9zZSgpO1xyXG4gICAgfSlcclxuICAgIC5jYXRjaChjb25zb2xlLmVycm9yKVxyXG4gICAgLmZpbmFsbHkoKCkgPT4ge1xyXG4gICAgICBzZXRCdXR0b25UZXh0KHZhcmlhYmxlcy5hdmF0YXJNb2RhbEJ1dHRvbiwgXCJTYXZlXCIpO1xyXG4gICAgfSk7XHJcbn1cclxuXHJcbi8vIFVTRVIgSU5GT1xyXG5cclxuY29uc3QgdXNlckluZm8gPSBuZXcgdXNlckluZm8oXHJcbiAgXCIucHJvZmlsZV9fdGl0bGVcIixcclxuICBcIi5wcm9maWxlX19kZXNjcmlwdGlvblwiLFxyXG4gIFwiLnByb2ZpbGVfX2F2YXRhclwiXHJcbik7XHJcblxyXG5mdW5jdGlvbiBoYW5kbGVFZGl0Rm9ybVN1Ym1pdChpbnB1dFZhbHVlcykge1xyXG4gIHNldEJ1dHRvblRleHQodmFyaWFibGVzLmVkaXRNb2RhbEJ1dHRvbiwgXCJTYXZpbmcuLi5cIik7XHJcbiAgYXBpXHJcbiAgICAuZWRpdFByb2ZpbGUoaW5wdXRWYWx1ZXMubmFtZSwgaW5wdXRWYWx1ZXMuZGVzY3JpcHRpb24pXHJcbiAgICAudGhlbigocmVzKSA9PiB7XHJcbiAgICAgIHVzZXJJbmZvLnNldFVzZXJJbmZvKHJlcy5uYW1lLCByZXMuYWJvdXQpO1xyXG4gICAgICBjb25zb2xlLmxvZyhyZXMpO1xyXG4gICAgICBlZGl0UG9wdXAuY2xvc2UoKTtcclxuICAgIH0pXHJcbiAgICAuY2F0Y2goY29uc29sZS5lcnJvcilcclxuICAgIC5maW5hbGx5KCgpID0+IHtcclxuICAgICAgc2V0QnV0dG9uVGV4dCh2YXJpYWJsZXMuZWRpdE1vZGFsQnV0dG9uLCBcIlNhdmVcIik7XHJcbiAgICB9KTtcclxufVxyXG5cclxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgQXBpIHtcclxuICBjb25zdHJ1Y3RvcigpIHtcclxuICAgIHRoaXMuX2Jhc2VVcmwgPSBcImh0dHBzOi8vYXJvdW5kLWFwaS5lbi50cmlwbGV0ZW4tc2VydmljZXMuY29tL3YxXCI7XHJcbiAgICB0aGlzLl9oZWFkZXJzID0ge1xyXG4gICAgICBhdXRob3JpemF0aW9uOiBcImYwMGRiZTRkLTNiY2YtNDBlMy1hNDZmLTllMWVkODIwNmJkNVwiLFxyXG4gICAgICBcIkNvbnRlbnQtdHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcclxuICAgIH07XHJcbiAgfVxyXG5cclxuICBfZ2V0UmVzcG9uc2UocmVzKSB7XHJcbiAgICBpZiAocmVzLm9rKSB7XHJcbiAgICAgIHJldHVybiByZXMuanNvbigpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGBFcnJvcjogJHtyZXMuc3RhdHVzfWApO1xyXG4gIH1cclxuXHJcbiAgLy8gMSBMT0FESU5HIFVTRVIgSU5GT1JNQVRJT04gSU5UTyBUSEUgU0VSVkVSXHJcbiAgLy8gR0VUIGh0dHBzOi8vYXJvdW5kLWFwaS5lbi50cmlwbGV0ZW4tc2VydmljZXMuY29tL3YxL3VzZXJzL21lIFxyXG4gIGdldFVzZXJJbmZvKCkge1xyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L3VzZXJzL21lYCwge1xyXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgfSkudGhlbih0aGlzLl9jaGVja1Jlc3BvbnNlKTtcclxuICB9XHJcblxyXG4gIC8vIDIgTE9BRElORyBDQVJEUyBGUk9NIFRIRSBTRVJWRVJcclxuICAvLyBHRVQgaHR0cHM6Ly9hcm91bmQtYXBpLmVuLnRyaXBsZXRlbi1zZXJ2aWNlcy5jb20vdjEvY2FyZHMgXHJcbiAgLy8gaW5pdGlhbCByZXNwb25zZSB3aWxsIGJlIGFuIGVtcHR5IEpTT04gYXJyYXkgW11cclxuICBnZXRJbml0aWFsQ2FyZHMoKSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vY2FyZHNgLCB7XHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICB9KS50aGVuKHRoaXMuX2NoZWNrUmVzcG9uc2UpO1xyXG4gIH1cclxuXHJcbiAgLy8gMyAgRURJVElORyBUSEUgUFJPRklMRSBcclxuICAvLyAgUEFUQ0ggaHR0cHM6Ly9hcm91bmQtYXBpLmVuLnRyaXBsZXRlbi1zZXJ2aWNlcy5jb20vdjEvdXNlcnMvbWUgXHJcbiAgLy8gQWRkIENvbnRlbnQtdHlwZSBhZnRlciB0aGUgYXV0aG9yaXphdGlvbiB0b2tlbiBcclxuICAvLyBib2R5OiBKU09OLnN0cmluZ2lmeSAoe05BTUUgYW5kIEFCT1VUfSkgXHJcbiAgZ2V0RWRpdFByb2ZpbGUobmFtZSwgYWJvdXQpIHtcclxuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS91c2Vycy9tZWAsIHtcclxuICAgICAgbWV0aG9kOiBcIlBBVENIXCIsXHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICBuYW1lLCBcclxuICAgICAgICBhYm91dDogYWJvdXRcclxuICAgICAgfSlcclxuICAgICAgXHJcbiAgICB9KS50aGVuKHRoaXMuX2NoZWNrUmVzcG9uc2UpO1xyXG4gIH1cclxuICAvLyA0IEFERElORyBBIE5FVyBDQVJEXHJcbiAgLy8gUE9TVCBodHRwczovL2Fyb3VuZC1hcGkuZW4udHJpcGxldGVuLXNlcnZpY2VzLmNvbS92MS9jYXJkc1xyXG4gIC8vIGJvZHk6IEpTT04uc3RyaW5naWZ5ICh7TkFNRSBhbmQgTElOS30pXHJcbiAgZ2V0TmV3Q2FyZChuYW1lLCBsaW5rKSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vY2FyZHNgLCB7XHJcbiAgICAgIG1ldGhvZDogXCJQT1NUXCIsXHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5ICh7XHJcbiAgICAgICAgbmFtZTogbmFtZSxcclxuICAgICAgICBsaW5rOiBsaW5rXHJcbiAgICAgIH0pXHJcbiAgICB9KVxyXG5cclxufVxyXG5cclxuLy8gNSAmIDYgQ1JFQVRJTkcgQSBORVcgUE9QVVAgRk9SIERFTEVUSU5HIEEgQ0FSRFxyXG4gIC8vIHNlbmQgREVMRVRFIHJlcXVlc3QgXHJcbiAgICAvLyBERUxFVEUgaHR0cHM6Ly9hcm91bmQtYXBpLmVuLnRyaXBsZXRlbi1zZXJ2aWNlcy5jb20vdjEvY2FyZHMvY2FyZElkIFxyXG4gICAgZGVsZXRlQ2FyZChjYXJkSWQpIHtcclxuICAgICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzLyR7Y2FyZElkfWAsIHtcclxuICAgICAgICBtZXRob2Q6IFwiREVMRVRFXCIsXHJcbiAgICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgICAgfSkudGhlbih0aGlzLl9jaGVja1Jlc3BvbnNlKTtcclxuICAgIH1cclxuXHJcbiAgICBjaGFuZ2VBdmF0YXIoYXZhdGFyVXJsKSB7XHJcbiAgICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS91c2Vycy9tZS9hdmF0YXJgLCB7XHJcbiAgICAgICAgbWV0aG9kOiBcIlBBVENIXCIsXHJcbiAgICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7IGF2YXRhclVybDogYXZhdGFyVXJsIH0pLFxyXG4gICAgICB9KS50aGVuKHRoaXMuX2NoZWNrUmVzcG9uc2UpO1xyXG4gICAgfVxyXG5cclxuICAgIHVwZGF0ZUxpa2UoY2FyZElkLCBpc0xpa2VkKSB7XHJcbiAgICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS9jYXJkcy8ke2NhcmRJZH0vbGlrZXNgLCB7XHJcbiAgICAgICAgbWV0aG9kOiBpc0xpa2VkID8gXCJERUxFVEVcIiA6IFwiUFVUXCIsXHJcbiAgICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgICAgfSkudGhlbih0aGlzLl9jaGVja1Jlc3BvbnNlKTtcclxuICAgIH1cclxuICBcclxuICAgIHVwZGF0ZUF2YXRhcihhdmF0YXIpIHtcclxuICAgICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L3VzZXJzL21lL2F2YXRhcmAsIHtcclxuICAgICAgICBtZXRob2Q6IFwiUEFUQ0hcIixcclxuICAgICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICAgIGF2YXRhcjogYXZhdGFyLFxyXG4gICAgICAgIH0pLFxyXG4gICAgICB9KS50aGVuKHRoaXMuX2NoZWNrUmVzcG9uc2UpO1xyXG4gICAgfVxyXG5cclxuXHJcblxyXG4gIH1cclxuXHJcbiIsIiAgY29uc3QgaW5pdGlhbENhcmRzID0gW1xyXG4gICAge1xyXG4gICAgICBuYW1lOiBcIllvc2VtaXRlIFZhbGxleVwiLFxyXG4gICAgICBsaW5rOiBcImh0dHBzOi8vcHJhY3RpY3VtLWNvbnRlbnQuczMudXMtd2VzdC0xLmFtYXpvbmF3cy5jb20vc29mdHdhcmUtZW5naW5lZXIvYXJvdW5kLXByb2plY3QveW9zZW1pdGUuanBnXCIsXHJcbiAgICAgIGFsdDogXCJZb3NlbWl0ZSBWYWxsZXlcIixcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgIG5hbWU6IFwiTGFrZSBMb3Vpc2VcIixcclxuICAgICAgbGluazogXCJodHRwczovL3ByYWN0aWN1bS1jb250ZW50LnMzLnVzLXdlc3QtMS5hbWF6b25hd3MuY29tL3NvZnR3YXJlLWVuZ2luZWVyL2Fyb3VuZC1wcm9qZWN0L2xha2UtbG91aXNlLmpwZ1wiLFxyXG4gICAgICBhbHQ6IFwiTGFrZSBMb3Vpc2VcIixcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgIG5hbWU6IFwiQmFsZCBNb3VudGFpbnNcIixcclxuICAgICAgbGluazogXCJodHRwczovL3ByYWN0aWN1bS1jb250ZW50LnMzLnVzLXdlc3QtMS5hbWF6b25hd3MuY29tL3NvZnR3YXJlLWVuZ2luZWVyL2Fyb3VuZC1wcm9qZWN0L2JhbGQtbW91bnRhaW5zLmpwZ1wiLFxyXG4gICAgICBhbHQ6IFwiQmFsZCBNb3VudGFpbnNcIixcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgIG5hbWU6IFwiTGF0ZW1hclwiLFxyXG4gICAgICBsaW5rOiBcImh0dHBzOi8vcHJhY3RpY3VtLWNvbnRlbnQuczMudXMtd2VzdC0xLmFtYXpvbmF3cy5jb20vc29mdHdhcmUtZW5naW5lZXIvYXJvdW5kLXByb2plY3QvbGF0ZW1hci5qcGdcIixcclxuICAgICAgYWx0OiBcIkxhdGVtYXJcIixcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgIG5hbWU6IFwiVmFub2lzZSBOYXRpb25hbCBQYXJrXCIsXHJcbiAgICAgIGxpbms6IFwiaHR0cHM6Ly9wcmFjdGljdW0tY29udGVudC5zMy51cy13ZXN0LTEuYW1hem9uYXdzLmNvbS9zb2Z0d2FyZS1lbmdpbmVlci9hcm91bmQtcHJvamVjdC92YW5vaXNlLmpwZyBcIixcclxuICAgICAgYWx0OiBcIlZhbm9pc2UgTmF0aW9uYWwgUGFya1wiLFxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgbmFtZTogXCJMYWdvIGRpIEJyYWllc1wiLFxyXG4gICAgICBsaW5rOiBcImh0dHBzOi8vcHJhY3RpY3VtLWNvbnRlbnQuczMudXMtd2VzdC0xLmFtYXpvbmF3cy5jb20vc29mdHdhcmUtZW5naW5lZXIvYXJvdW5kLXByb2plY3QvbGFnby5qcGcgIFwiLFxyXG4gICAgICBhbHQ6IFwiTGFnbyBkaSBCcmFpZXNcIixcclxuICAgIH0sXHJcbiAgXTtcclxuXHJcbiAgICBjb25zdCB2YWxpZGF0aW9uU2V0dGluZ3MgPSB7XHJcbiAgICAvLyBmb3JtU2VsZWN0b3I6IFwiLm1vZGFsX19mb3JtXCIsXHJcbiAgICBpbnB1dFNlbGVjdG9yOiBcIi5tb2RhbF9faW5wdXRcIixcclxuICAgIHN1Ym1pdEJ1dHRvblNlbGVjdG9yOiBcIi5tb2RhbF9fYnV0dG9uXCIsXHJcbiAgICBpbmFjdGl2ZUJ1dHRvbkNsYXNzOiBcIm1vZGFsX19idXR0b25fZGlzYWJsZWRcIixcclxuICAgIGlucHV0RXJyb3JDbGFzczogXCJtb2RhbF9faW5wdXRfdHlwZV9lcnJvclwiLFxyXG4gICAgZXJyb3JDbGFzczogXCJtb2RhbF9fZXJyb3JcIlxyXG4gIH07XHJcblxyXG4gIGNvbnN0IHZhcmlhYmxlcyA9IHtcclxuICAgICAgcHJvZmlsZUVkaXRCdXR0b246IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcHJvZmlsZS1lZGl0LWJ1dHRvblwiKSxcclxuICAgICAgcHJvZmlsZUVkaXRNb2RhbDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNwcm9maWxlLWVkaXQtbW9kYWxcIiksXHJcbiAgICAgIHByb2ZpbGVUaXRsZUlucHV0OiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3Byb2ZpbGUtdGl0bGUtaW5wdXRcIiksXHJcbiAgICAgIHByb2ZpbGVEZXNjcmlwdGlvbklucHV0OiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3Byb2ZpbGUtZGVzY3JpcHRpb24taW5wdXRcIiksXHJcbiAgICAgIHByb2ZpbGVJbWFnZTogZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19pbWFnZVwiKSxcclxuICAgICAgYWRkTmV3TW9kYWxDYXJkOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2FkZC1jYXJkLW1vZGFsXCIpLFxyXG4gICAgICBjYXJkTGlzdEVsOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRzX19saXN0XCIpLFxyXG4gICAgICBwcm9maWxlQWRkQnV0dG9uOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX3BsdXMtYnV0dG9uXCIpLFxyXG4gICAgICBkZWxldGVNb2RhbDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNkZWxldGUtbW9kYWxcIiksXHJcbiAgICAgIGF2YXRhcklucHV0OiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2F2YXRhci11cmwtaW5wdXRcIiksXHJcbiAgICAgIGF2YXRhck1vZGFsOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2F2YXRhci1tb2RhbFwiKSxcclxuICAgICAgYXZhdGFyTW9kYWxCdXR0b246IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjYXZhdGFyLW1vZGFsLWJ1dHRvblwiKSxcclxuICAgIFxyXG4gICAgfVxyXG5cclxuXHJcbmV4cG9ydCB7aW5pdGlhbENhcmRzLCB2YWxpZGF0aW9uU2V0dGluZ3MsIHZhcmlhYmxlc307XHJcblxyXG4iXSwibmFtZXMiOlsiUG9wdXAiLCJfcmVmIiwiX3RoaXMiLCJwb3B1cFNlbGVjdG9yIiwiX2NsYXNzQ2FsbENoZWNrIiwiZSIsImtleSIsImNsb3NlIiwidGhpcyIsIl9wb3B1cEVsZW1lbnQiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJ2YWx1ZSIsImNsYXNzTGlzdCIsImFkZCIsImFkZEV2ZW50TGlzdGVuZXIiLCJfaGFuZGxlRXNjQ2xvc2UiLCJyZW1vdmUiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiX3RoaXMyIiwiZXZ0IiwidGFyZ2V0IiwiY29udGFpbnMiLCJQb3B1cFdpdGhGb3JtIiwiX1BvcHVwIiwiX2luaGVyaXRzIiwiX3N1cGVyIiwiaGFuZGxlRm9ybVN1Ym1pdCIsImNhbGwiLCJfaGFuZGxlRm9ybVN1Ym1pdCIsIl9wb3B1cEZvcm0iLCJfaW5wdXRFbHMiLCJxdWVyeVNlbGVjdG9yQWxsIiwicmVzZXQiLCJfZ2V0IiwiX2dldFByb3RvdHlwZU9mIiwicHJvdG90eXBlIiwiaW5wdXRWYWx1ZXMiLCJpbnB1dHMiLCJmb3JFYWNoIiwiaW5wdXQiLCJuYW1lIiwicHJldmVudERlZmF1bHQiLCJfZ2V0SW5wdXRWYWx1ZXMiLCJQb3B1cFdpdGhJbWFnZSIsIl9wb3B1cEltYWdlIiwiX3BvcHVwVGl0bGUiLCJsaW5rIiwic3JjIiwiYWx0IiwidGV4dENvbnRlbnQiLCJQb3B1cFdpdGhEZWxldGUiLCJfZm9ybUVsIiwiRm9ybVZhbGlkYXRvciIsImZvcm1TZWxlY3RvciIsInZhbGlkYXRpb25TZXR0aW5ncyIsIl9pbnB1dFNlbGVjdG9yIiwiaW5wdXRTZWxlY3RvciIsIl9zdWJtaXRCdXR0b25TZWxlY3RvciIsInN1Ym1pdEJ1dHRvblNlbGVjdG9yIiwiX2luYWN0aXZlQnV0dG9uQ2xhc3MiLCJpbmFjdGl2ZUJ1dHRvbkNsYXNzIiwiX2lucHV0RXJyb3JDbGFzcyIsImlucHV0RXJyb3JDbGFzcyIsIl9lcnJvckNsYXNzIiwiZXJyb3JDbGFzcyIsIl9zdWJtaXRCdXR0b25zIiwiaW5wdXRFbCIsInZhbGlkaXR5IiwidmFsaWQiLCJfc2hvd0lucHV0RXJyb3IiLCJfaGlkZUlucHV0RXJyb3IiLCJlcnJvck1lc3NhZ2VFbCIsImNvbmNhdCIsImlkIiwidmFsaWRhdGlvbk1lc3NhZ2UiLCJpbnB1dExpc3QiLCJldmVyeSIsIl9oYXNJbnZhbGlkSW5wdXQiLCJkaXNhYmxlZCIsIl9jaGVja0lucHV0VmFsaWRpdHkiLCJ0b2dnbGVCdXR0b25TdGF0ZSIsIl9zZXRFdmVudExpc3RlbmVycyIsIlNlY3Rpb24iLCJjb250YWluZXJTZWxlY3RvciIsIml0ZW1zIiwicmVuZGVyZXIiLCJfaXRlbXMiLCJfcmVuZGVyZXIiLCJfY29udGFpbmVyIiwiaXRlbSIsImVsZW1lbnQiLCJwcmVwZW5kIiwiQ2FyZCIsImRhdGEiLCJjYXJkU2VsZWN0b3IiLCJoYW5kbGVJbWFnZUNsaWNrIiwiaGFuZGxlRGVsZXRlQ2xpY2siLCJoYW5kbGVMaWtlQ2xpY2siLCJfZGVmaW5lUHJvcGVydHkiLCJfbGlrZUJ1dHRvbiIsInRvZ2dsZSIsIl9lbGVtZW50IiwiX25hbWUiLCJfbGluayIsIl9pZCIsIl9pc0xpa2VkIiwiaXNMaWtlZCIsIl9oYW5kbGVJbWFnZUNsaWNrIiwiX2hhbmRsZURlbGV0ZUNsaWNrIiwiX2hhbmRsZUxpa2VDbGljayIsIl9jYXJkU2VsZWN0b3IiLCJjb250ZW50IiwiZmlyc3RFbGVtZW50Q2hpbGQiLCJjbG9uZU5vZGUiLCJfY2FyZFRyYXNoIiwiX2NhcmRJbWFnZUVsIiwiX2dldFRlbXBsYXRlIiwiX3JlbW92ZUJ1dHRvbiIsInVwZGF0ZUxpa2VWaWV3Iiwic2VjdGlvbiIsIkFwaSIsIl9iYXNlVXJsIiwiX2hlYWRlcnMiLCJhdXRob3JpemF0aW9uIiwicmVzIiwib2siLCJqc29uIiwiUHJvbWlzZSIsInJlamVjdCIsInN0YXR1cyIsImZldGNoIiwiaGVhZGVycyIsInRoZW4iLCJfY2hlY2tSZXNwb25zZSIsImFib3V0IiwibWV0aG9kIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJjYXJkSWQiLCJhdmF0YXJVcmwiLCJhdmF0YXIiLCJ2YXJpYWJsZXMiLCJwcm9maWxlRWRpdEJ1dHRvbiIsInByb2ZpbGVFZGl0TW9kYWwiLCJwcm9maWxlVGl0bGVJbnB1dCIsInByb2ZpbGVEZXNjcmlwdGlvbklucHV0IiwicHJvZmlsZUltYWdlIiwiYWRkTmV3TW9kYWxDYXJkIiwiY2FyZExpc3RFbCIsInByb2ZpbGVBZGRCdXR0b24iLCJkZWxldGVNb2RhbCIsImF2YXRhcklucHV0IiwiYXZhdGFyTW9kYWwiLCJhdmF0YXJNb2RhbEJ1dHRvbiIsImFwaSIsImJhc2VVcmwiLCJnZXRJbml0aWFsQ2FyZHMiLCJjYXJkRGF0YSIsImNyZWF0ZUNhcmQiLCJyZW5kZXJJdGVtcyIsImNvbnNvbGUiLCJsb2ciLCJjYXRjaCIsImVycm9yIiwibG9hZEluZm8iLCJ1c2VyaW5mbyIsInNldFVzZXJJbmZvIiwic2V0QXZhdGFyIiwicG9wdXBXaXRoSW1hZ2UiLCJzZXRCdXR0b25UZXh0IiwiYnV0dG9uIiwidGV4dCIsIm9wZW4iLCJjYXJkIiwiYWRkSXRlbSIsImdlbmVyYXRlQ2FyZCIsInNldEV2ZW50TGlzdGVuZXJzIiwiZGVsZXRlQ2FyZENsYXNzIiwic2V0U3VibWl0QWN0aW9uIiwiZGVsZXRlQ2FyZCIsImhhbmRsZURlbGV0ZSIsInVwZGF0ZUxpa2UiLCJoYW5kbGVMaWtlIiwiYWRkRm9ybVZhbGlkYXRvciIsImVuYWJsZVZhbGlkYXRpb24iLCJhZGRQb3B1cCIsImFkZENhcmRDbGFzcyIsImFkZE1vZGFsQnV0dG9uIiwiYWRkTmV3Q2FyZCIsInByb2ZpbGVBZGRGb3JtIiwiZmluYWxseSIsImVkaXRQb3B1cCIsImVkaXRDYXJkQ2xhc3MiLCJlZGl0TW9kYWxCdXR0b24iLCJlZGl0UHJvZmlsZSIsImRlc2NyaXB0aW9uIiwidXNlckluZm8iLCJ1c2VyIiwiZ2V0VXNlckluZm8iLCJuYW1lSW5wdXQiLCJkZXNjcmlwdGlvbklucHV0IiwidXBkYXRlQXZhdGFyIiwiYXZhdGFySWNvbiJdLCJzb3VyY2VSb290IjoiIn0=