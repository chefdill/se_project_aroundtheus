!function(){"use strict";function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(e)}function e(e,r){for(var n=0;n<r.length;n++){var o=r[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,(void 0,i=function(e,r){if("object"!==t(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,"string");if("object"!==t(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(o.key),"symbol"===t(i)?i:String(i)),o)}var i}var r=function(){function t(e,r,n,o,i){var a=e.name,u=e.link,c=e.likes,l=e.owner;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._name=a,this._link=u,this._likes=c,this._owner=l,this._cardSelector=r,this._handleImageClick=n,this._handleDeleteClick=o,this._handleLikeIcon=i}var r,n;return r=t,(n=[{key:"_getTemplate",value:function(){return document.querySelector(this._cardSelector).content.firstElementChild.cloneNode(!0)}},{key:"_setEventListeners",value:function(){var t=this;this._cardElement.querySelector(".card__button-remove").addEventListener("click",(function(){t._handleDeleteClick()})),this._cardElement.querySelector(".card__like-button").addEventListener("click",(function(){t._handleLikeIcon()})),this._cardElement.querySelector(".card__image").addEventListener("click",(function(){t._handleImageClick({name:t._name,link:t._link})}))}},{key:"_handleLike",value:function(){this._cardElement.querySelector(".card__like-button").classList.toggle("card__like-button_active")}},{key:"_handleDelete",value:function(){this._cardElement.remove(),this._cardElement=null}},{key:"_updateLikes",value:function(t){this._likes=t,this._cardElement.querySelector(".card__like-count").textContent=this._likes.length}},{key:"getView",value:function(){var t=this;this._cardElement=this._getTemplate();var e=this._cardElement.querySelector(".card__image");e.src=this._link,e.alt=this._name,this._cardElement.querySelector(".card__label-title").textContent=this._name,this._cardElement.querySelector(".card__like-count").textContent=this._likes.length;var r=this._likes.some((function(e){return e._id===t._owner._id}));return this._cardElement.querySelector(".card__like-button").classList.toggle("card__like-button_active",r),this._setEventListeners(),this._cardElement}}])&&e(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),t}();function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function i(t,e){for(var r=0;r<e.length;r++){var o=e[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,(void 0,i=function(t,e){if("object"!==n(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var o=r.call(t,"string");if("object"!==n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(o.key),"symbol"===n(i)?i:String(i)),o)}var i}var a=function(){function t(e,r){var n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._inputSelector=r.inputSelector,this._submitButtonSelector=r.submitButtonSelector,this._inactiveButtonClass=r.inactiveButtonClass,this._inputErrorClass=r.inputErrorClass,this._errorClass=r.errorClass,this._formEl=e,this._inputEls=function(t){if(Array.isArray(t))return o(t)}(n=this._formEl.querySelectorAll("modal__input"))||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(n)||function(t,e){if(t){if("string"==typeof t)return o(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?o(t,e):void 0}}(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),this._submitButtons=this._formEl.querySelector(this._submitButtonSelector)}var e,r;return e=t,(r=[{key:"_checkInputValidity",value:function(t){if(!t.validity.valid)return this._showInputError(t);this._hideInputError(t)}},{key:"_showInputError",value:function(t){var e=this._formEl.querySelector("#".concat(t.id,"-error"));t.classList.add(this._inputErrorClass),e.textContent=t.validationMessage,e.classList.add(this._errorClass)}},{key:"_hideInputError",value:function(t){var e=this._formEl.querySelector("#".concat(t.id,"-error"));t.classList.remove(this._inputErrorClass),e.textContent="",e.classList.remove(this._errorClass)}},{key:"_hasInvalidInput",value:function(t){return!t.every((function(t){return t.validity.valid}))}},{key:"toggleButtonState",value:function(){if(this._hasInvalidInput(this._inputEls))return this._submitButtons.classList.add(this._inactiveButtonClass),void(this._submitButtons.disabled=!0);this._submitButtons.classList.remove(this._inactiveButtonClass),this._submitButtons.disabled=!1}},{key:"_setEventListeners",value:function(){var t=this;this._inputEls.forEach((function(e){e.addEventListener("input",(function(r){t._checkInputValidity(e),t.toggleButtonState()}))}))}},{key:"enableValidation",value:function(){this._formEl.addEventListener("submit",(function(t){t.preventDefault()})),this._setEventListeners()}}])&&i(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}(),u=a;function c(t){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},c(t)}function l(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==c(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==c(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===c(o)?o:String(o)),n)}var o}var s=function(){function t(e,r){var n=e.items,o=e.renderer;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._items=n,this._renderer=o,this._container=document.querySelector(r)}var e,r;return e=t,(r=[{key:"renderItems",value:function(){var t=this;this._items.forEach((function(e){t._renderer(e)}))}},{key:"addItem",value:function(t){this._container.prepend(t)}}])&&l(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function f(t){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},f(t)}function p(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,y(n.key),n)}}function y(t){var e=function(t,e){if("object"!==f(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==f(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===f(e)?e:String(e)}var d=function(){function t(e){var r,n,o,i=this,a=e.popupSelector;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,o=function(t){"Escape"===t.key&&i.close()},(n=y(n="_handleEscClose"))in r?Object.defineProperty(r,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[n]=o,this._popupElement=document.querySelector(a)}var e,r;return e=t,(r=[{key:"open",value:function(){this._popupElement.classList.add("modal_opened"),document.addEventListener("keydown",this._handleEscClose)}},{key:"close",value:function(){this._popupElement.classList.remove("modal_opened"),document.removeEventListener("keydown",this._handleEscClose)}},{key:"setEventListeners",value:function(){var t=this;this._popupElement.addEventListener("click",(function(e){(e.target===t._popupElement||e.target.classList.contains("modal__close"))&&t.close()}))}}])&&p(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function m(t){return m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},m(t)}function h(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==m(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==m(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===m(o)?o:String(o)),n)}var o}function v(){return v="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=_(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},v.apply(this,arguments)}function b(t,e){return b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},b(t,e)}function _(t){return _=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},_(t)}var S=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&b(t,e)}(a,t);var e,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=_(n);if(o){var r=_(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===m(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function a(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(e=i.call(this,{popupSelector:t}))._popupImage=e._popupElement.querySelector(".modal__image"),e._popupTitle=e._popupElement.querySelector(".modal__preview-title"),e}return e=a,(r=[{key:"open",value:function(t,e){this._popupImage.src=t,this._popupImage.alt=e,this._popupTitle.textContent=e,v(_(a.prototype),"open",this).call(this)}}])&&h(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),a}(d);function g(t){return g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},g(t)}function w(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function E(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==g(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==g(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===g(o)?o:String(o)),n)}var o}function k(){return k="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=O(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},k.apply(this,arguments)}function j(t,e){return j=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},j(t,e)}function O(t){return O=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},O(t)}var P=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&j(t,e)}(a,t);var e,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=O(n);if(o){var r=O(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===g(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function a(t,e){var r,n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(r=i.call(this,{popupSelector:t}))._handleFormSubmit=e,r._popupForm=r._popupElement.querySelector(".modal__form"),r._inputEls=function(t){if(Array.isArray(t))return w(t)}(n=r._popupForm.querySelectorAll(".modal__input"))||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(n)||function(t,e){if(t){if("string"==typeof t)return w(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?w(t,e):void 0}}(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),r}return e=a,(r=[{key:"close",value:function(){this._popupForm.reset(),k(O(a.prototype),"close",this).call(this)}},{key:"_getInputValues",value:function(){var t={};return inputs.forEach((function(e){return t[e.name]=e.value})),t}},{key:"setEventListeners",value:function(){var t=this;this._popupForm.addEventListener("submit",(function(e){e.preventDefault(),t._handleFormSubmit(t._getInputValues())})),k(O(a.prototype),"setEventListeners",this).call(this)}},{key:"getForm",value:function(){return this._popupForm}}])&&E(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),a}(d);function C(t){return C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},C(t)}function L(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==C(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==C(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===C(o)?o:String(o)),n)}var o}function I(){return I="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=B(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},I.apply(this,arguments)}function T(t,e){return T=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},T(t,e)}function B(t){return B=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},B(t)}var q=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&T(t,e)}(a,t);var e,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=B(n);if(o){var r=B(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===C(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function a(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(e=i.call(this,{popupSelector:t}))._formEl=e._popupElement.querySelector(".modal__form"),e}return e=a,(r=[{key:"setEventListeners",value:function(){var t=this;this._formEl.addEventListener("submit",(function(e){e.preventDefault(),t._handleFormSubmit()})),I(B(a.prototype),"setEventListeners",this).call(this)}},{key:"setSubmitAction",value:function(t){this._handleFormSubmit=t}}])&&L(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),a}(d);function R(t){return R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},R(t)}function A(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==R(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==R(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===R(o)?o:String(o)),n)}var o}var x=function(){function t(e,r,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._titleEl=document.querySelector(e),this._descriptionEl=document.querySelector(r),this._avatarEl=document.querySelector(n)}var e,r;return e=t,(r=[{key:"getUserInfo",value:function(){return{title:this._titleEl.textContent,description:this._descriptionEl.textContent}}},{key:"setUserInfo",value:function(t,e){this._titleEl.textContent=t,this._descriptionEl.textContent=e}},{key:"setAvatar",value:function(t){this._avatarEl.src=t}}])&&A(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function U(t){return U="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},U(t)}function D(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==U(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==U(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===U(o)?o:String(o)),n)}var o}var N=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._baseUrl="https://around-api.en.tripleten-services.com/v1",this._headers={authorization:"f00dbe4d-3bcf-40e3-a46f-9e1ed8206bd5","Content-type":"application/json"}}var e,r;return e=t,(r=[{key:"_getResponse",value:function(t){return t.ok?t.json():Promise.reject("Error: ".concat(t.status))}},{key:"getUserInfo",value:function(){return fetch("".concat(this._baseUrl,"/users/me"),{headers:this._headers}).then(this._checkResponse)}},{key:"getInitialCards",value:function(){return fetch("".concat(this._baseUrl,"/cards"),{headers:this._headers}).then(this._checkResponse)}},{key:"getEditProfile",value:function(t,e){return fetch("".concat(this._baseUrl,"/users/me"),{method:"PATCH",headers:this._headers,body:JSON.stringify({name:t,about:e})}).then(this._checkResponse)}},{key:"getNewCard",value:function(t,e){return fetch("".concat(this._baseUrl,"/cards"),{method:"POST",headers:this._headers,body:JSON.stringify({name:t,link:e})})}},{key:"deleteCard",value:function(t){return fetch("".concat(this._baseUrl,"/cards/").concat(t),{method:"DELETE",headers:this._headers}).then(this._checkResponse)}},{key:"changeAvatar",value:function(t){return fetch("".concat(this._baseUrl,"/users/me/avatar"),{method:"PATCH",headers:this._headers,body:JSON.stringify({avatarUrl:t})}).then(this._checkResponse)}},{key:"updateLike",value:function(t,e){return fetch("".concat(this._baseUrl,"/cards/").concat(t,"/likes"),{method:e?"DELETE":"PUT",headers:this._headers}).then(this._checkResponse)}},{key:"updateAvatar",value:function(t){return fetch("".concat(this._baseUrl,"/users/me/avatar"),{method:"PATCH",headers:this._headers,body:JSON.stringify({avatar:t})}).then(this._checkResponse)}}])&&D(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}(),M={inputSelector:".modal__input",submitButtonSelector:".modal__button",inactiveButtonClass:"modal__button_disabled",inputErrorClass:"modal__input_type_error",errorClass:"modal__error"},V={profileEditButton:document.querySelector("#profile-edit-button"),profileEditModal:document.querySelector("#profile-edit-modal"),profileTitleInput:document.querySelector("#profile-title-input"),profileDescriptionInput:document.querySelector("#profile-description-input"),profileImage:document.querySelector(".profile__image"),addNewModalCard:document.querySelector("#add-card-modal"),cardListEl:document.querySelector(".cards__list"),addNewCardButton:document.querySelector(".profile__plus-button"),deleteModal:document.querySelector("#delete-modal"),avatarInput:document.querySelector("#avatar-url-input"),avatarModal:document.querySelector("#avatar-modal"),avatarModalButton:document.querySelector("#avatar-modal-button")},F=new N({baseUrl:"https://around-api.en.tripleten-services.com/v1",headers:{authorization:"f00dbe4d-3bcf-40e3-a46f-9e1ed8206bd5","Content-Type":"application/json"}}),z=new x(".profile__title",".profile__description",".profile__image");F.getInitialCards().then((function(t){(Y=new s({items:t,renderer:function(t){G(t)}},"cards__list")).renderItems(),console.log(t)})).catch(console.error);var J=new u(V.addNewModalCard,M);J.enableValidation();var H=new u(V.profileEditModal.querySelector(".modal__form"),M),Y=new s({items:[{name:"Yosemite Valley",link:"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/around-project/yosemite.jpg",alt:"Yosemite Valley"},{name:"Lake Louise",link:"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/around-project/lake-louise.jpg",alt:"Lake Louise"},{name:"Bald Mountains",link:"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/around-project/bald-mountains.jpg",alt:"Bald Mountains"},{name:"Latemar",link:"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/around-project/latemar.jpg",alt:"Latemar"},{name:"Vanoise National Park",link:"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/around-project/vanoise.jpg ",alt:"Vanoise National Park"},{name:"Lago di Braies",link:"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/around-project/lago.jpg  ",alt:"Lago di Braies"}],renderer:function(t){var e=G(t);Y.addItem(e)}},".cards__list"),$=new P("#avatar-modal",(function(t){setButtonText(V.avatarModalButton,"Saving..."),F.updateAvatar(t.link).then((function(t){z.setAvatar(t.avatar),console.log(t),$.close()})).catch(console.error).finally((function(){setButtonText(V.avatarModalButton,"Save")}))}));function G(t){var e=new r(t,"#card-template",Z,tt,et);Y.addItem(e.getView())}$.setEventListeners(),Y.renderItems(),G(cardData),V.profileImage.addEventListener("click",(function(){$.open()})),V.addNewCardButton.addEventListener("click",(function(){W.open()})),V.profileEditButton.addEventListener("click",(function(){var t=z.getUserInfo();profileTitleInput.value=t.title,profileDescriptionInput.value=t.description,X.open()}));var K=new S("#modal-preview");K.setEventListeners();var Q=new q("#delete-modal");Q.setEventListeners();var W=new P("#add-card-modal",(function(t){setButtonText(V.addNewCardButton,"Saving..."),F.addNewCard(t).then((function(t){G(t),V.addNewModalCard.reset(),J.toggleButtonState(),W.close()})).catch(console.error).finally((function(){setButtonText(V.addNewCardButton,"Save")}))}));W.setEventListeners();var X=new P("#profile-edit-modal",(function(t){z.setUserInfo(t.title,t.description),X.close()}));function Z(t){K.open(t)}function tt(t){Q.open(),Q.setSubmitAction((function(){F.deleteCard(t._id).then((function(){Q.close(),t.handleDelete()})).catch(console.error)}))}function et(t){F.updateLike(t._id,t.isLiked()).then((function(){t.handleLike(),console.log(t)})).catch(console.error)}X.setEventListeners(),cardSection.renderItems(),H.enableValidation()}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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VzlFLEdBQ1gwQixNQUFLLFNBQUNSLEdBQ0xvQyxFQUFXcEMsR0FDWGlCLEVBQVVNLGdCQUFnQjFDLFFBQzFCNkQsRUFBa0JoRyxvQkFDbEI2RyxFQUFhL0YsT0FDZixJQUNDZ0YsTUFBTUYsUUFBUUcsT0FDZFEsU0FBUSxXQUNQSCxjQUFjN0IsRUFBVVEsaUJBQWtCLE9BQzVDLEdBQ0osSUF6RUE4QixFQUFhRixvQkFFYixJQUFNSyxFQUF1QixJQUFJakYsRUFDL0IsdUJBbURGLFNBQXFDb0YsR0FDbkM3QixFQUFTOEIsWUFBWUQsRUFBU3BFLE1BQU9vRSxFQUFTbkUsYUFDOUNnRSxFQUFxQmxHLE9BQ3ZCLElBL0NBLFNBQVM1RixFQUFpQnVLLEdBQ3hCd0IsRUFBZUwsS0FBS25CLEVBQ3RCLENBRUEsU0FBU3RLLEdBQWtCcUwsR0FFekJ4QixFQUFZNEIsT0FFWjVCLEVBQVlxQyxpQkFBZ0IsV0FDMUJqQyxFQUNHa0MsV0FBV2QsRUFBSzdJLEtBQ2hCbUcsTUFBSyxXQUNKa0IsRUFBWWxFLFFBQ1owRixFQUFLZSxjQUNQLElBQ0N6QixNQUFNRixRQUFRRyxNQUNuQixHQUNGLENBRUEsU0FBU1UsR0FBZ0JELEdBQ3ZCcEIsRUFDR29DLFdBQVdoQixFQUFLN0ksSUFBSzZJLEVBQUtoSixXQUMxQnNHLE1BQUssV0FDSjBDLEVBQUtpQixhQUNMN0IsUUFBUUMsSUFBSVcsRUFDZCxJQUNDVixNQUFNRixRQUFRRyxNQUNuQixDQS9CQWlCLEVBQXFCTCxvQkFzRXJCZSxZQUFZL0IsY0FHWk8sRUFBa0JELGtCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcHJhY3RpY3VtLy4vc3JjL2NvbXBvbmVudHMvQ2FyZC5qcyIsIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzIiwid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy9jb21wb25lbnRzL1NlY3Rpb24uanMiLCJ3ZWJwYWNrOi8vcHJhY3RpY3VtLy4vc3JjL2NvbXBvbmVudHMvUG9wdXAuanMiLCJ3ZWJwYWNrOi8vcHJhY3RpY3VtLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanMiLCJ3ZWJwYWNrOi8vcHJhY3RpY3VtLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qcyIsIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhEZWxldGUuanMiLCJ3ZWJwYWNrOi8vcHJhY3RpY3VtLy4vc3JjL2NvbXBvbmVudHMvVXNlckluZm8uanMiLCJ3ZWJwYWNrOi8vcHJhY3RpY3VtLy4vc3JjL2NvbXBvbmVudHMvQXBpLmpzIiwid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy91dGlscy9jb25zdGFudHMuanMiLCJ3ZWJwYWNrOi8vcHJhY3RpY3VtLy4vc3JjL3BhZ2VzL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIGV4cG9ydCBkZWZhdWx0IGNsYXNzIENhcmQge1xyXG4vLyAgICAgY29uc3RydWN0b3IoXHJcbi8vICAgICAgIGNhcmREYXRhLCBcclxuLy8gICAgICAgY2FyZFNlbGVjdG9yLCBcclxuLy8gICAgICAgaGFuZGxlSW1hZ2VDbGljaywgXHJcbi8vICAgICAgIGhhbmRsZURlbGV0ZUNsaWNrLCBcclxuLy8gICAgICAgaGFuZGxlTGlrZUljb25cclxuLy8gICAgICAgKSBcclxuICAgICAgXHJcbi8vICAgICAgIHtcclxuLy8gICAgICAgdGhpcy5fbmFtZSA9IGNhcmREYXRhLm5hbWU7XHJcbi8vICAgICAgIHRoaXMuX2xpbmsgPSBjYXJkRGF0YS5saW5rO1xyXG4vLyAgICAgICB0aGlzLl9jYXJkU2VsZWN0b3IgPSBjYXJkU2VsZWN0b3I7XHJcbi8vICAgICAgIHRoaXMuX2hhbmRsZURlbGV0ZUNsaWNrID0gaGFuZGxlRGVsZXRlQ2xpY2s7XHJcbi8vICAgICAgIHRoaXMuX2hhbmRsZUxpa2VJY29uID0gaGFuZGxlTGlrZUljb247XHJcbi8vICAgICAgIHRoaXMuX2hhbmRsZUltYWdlQ2xpY2sgPSBoYW5kbGVJbWFnZUNsaWNrO1xyXG4vLyAgICAgfVxyXG5cclxuLy8gICAgIF9nZXRUZW1wbGF0ZSgpIHtcclxuLy8gICAgICAgY29uc3QgY2FyZEVsZW1lbnQgPSBkb2N1bWVudFxyXG4vLyAgICAgICAgIC5xdWVyeVNlbGVjdG9yKHRoaXMuX2NhcmRTZWxlY3RvcilcclxuLy8gICAgICAgICAuY29udGVudC5maXJzdEVsZW1lbnRDaGlsZC5jbG9uZU5vZGUodHJ1ZSk7XHJcbiAgXHJcbi8vICAgICAgIHJldHVybiBjYXJkRWxlbWVudDtcclxuLy8gICAgIH1cclxuICBcclxuLy8gICAgIF9zZXRFdmVudExpc3RlbmVycygpIHtcclxuLy8gICAgICAgdGhpcy5fY2FyZEVsZW1lbnRcclxuLy8gICAgICAgLnF1ZXJ5U2VsZWN0b3IoXCJjYXJkX19idXR0b24tcmVtb3ZlXCIpXHJcbi8vICAgICAgIC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4vLyAgICAgICAgIHRoaXMuX2hhbmRsZURlbGV0ZUNsaWNrKCk7XHJcbi8vICAgICAgIH0pO1xyXG5cclxuLy8gICAgICAgdGhpcy5fY2FyZEVsZW1lbnRcclxuLy8gICAgICAgLnF1ZXJ5U2VsZWN0b3IoXCJjYXJkX19saWtlLWJ1dHRvblwiKVxyXG4vLyAgICAgICAuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuLy8gICAgICAgICB0aGlzLl9oYW5kbGVMaWtlSWNvbigpO1xyXG4vLyAgICAgICB9KTtcclxuXHJcbi8vICAgICAgIHRoaXMuX2NhcmRFbGVtZW50XHJcbi8vICAgICAgIC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2ltYWdlXCIpXHJcbi8vICAgICAgIC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4vLyAgICAgICAgIHRoaXMuX2hhbmRsZUltYWdlQ2xpY2soeyBuYW1lOiB0aGlzLl9uYW1lLCBsaW5rOiB0aGlzLl9saW5rIH0pO1xyXG4vLyAgICAgICB9KTtcclxuXHJcbi8vICAgICB9XHJcbiAgICBcclxuLy8gICAgIF9oYW5kbGVMaWtlKCkge1xyXG4vLyAgICAgICB0aGlzLl9jYXJkRWxlbWVudFxyXG4vLyAgICAgICAgIC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2xpa2UtYnV0dG9uXCIpXHJcbi8vICAgICAgICAgLmNsYXNzTGlzdC50b2dnbGUoXCJjYXJkX19saWtlLWJ1dHRvbl9hY3RpdmVcIik7XHJcbi8vICAgICB9XHJcbiAgXHJcbi8vICAgICBfaGFuZGxlRGVsZXRlKCkge1xyXG4vLyAgICAgICB0aGlzLl9jYXJkRWxlbWVudC5yZW1vdmUoKTtcclxuLy8gICAgICAgdGhpcy5fY2FyZEVsZW1lbnQgPSBudWxsO1xyXG4vLyAgICAgfVxyXG4gIFxyXG4vLyAgICAgZ2V0VmlldygpIHtcclxuLy8gICAgICAgY29uc3QgY2FyZERhdGEgPSB7IGxpbms6IHRoaXMuX2xpbmssIG5hbWU6IHRoaXMuX25hbWUgfTtcclxuLy8gICAgICAgdGhpcy5fY2FyZEVsZW1lbnQgPSB0aGlzLl9nZXRUZW1wbGF0ZSgpO1xyXG4vLyAgICAgICBjb25zdCBjYXJkSW1hZ2VFTCA9IHRoaXMuX2NhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9faW1hZ2VcIik7XHJcbi8vICAgICAgIGNhcmRJbWFnZUVMLnNyYyA9IHRoaXMuX2xpbms7XHJcbi8vICAgICAgIGNhcmRJbWFnZUVMLmFsdCA9IHRoaXMuX25hbWU7XHJcbi8vICAgICAgIGNvbnN0IGNhcmRUaXRsZUVMID0gdGhpcy5fY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX19sYWJlbC10aXRsZVwiKTtcclxuLy8gICAgICAgY2FyZFRpdGxlRUwudGV4dENvbnRlbnQgPSBjYXJkRGF0YS5uYW1lO1xyXG4gIFxyXG4vLyAgICAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xyXG4gIFxyXG4vLyAgICAgICByZXR1cm4gdGhpcy5fY2FyZEVsZW1lbnQ7XHJcbi8vICAgICB9XHJcbi8vICAgfVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ2FyZCB7ICBcclxuICBjb25zdHJ1Y3Rvcih7IG5hbWUsIGxpbmssIGxpa2VzLCBvd25lciB9LCBjYXJkU2VsZWN0b3IsIGhhbmRsZUltYWdlQ2xpY2ssIGhhbmRsZURlbGV0ZUNsaWNrLCBoYW5kbGVMaWtlSWNvbikge1xyXG4gIHRoaXMuX25hbWUgPSBuYW1lO1xyXG4gIHRoaXMuX2xpbmsgPSBsaW5rOyAgICBcclxuICB0aGlzLl9saWtlcyA9IGxpa2VzOyAgICBcclxuICB0aGlzLl9vd25lciA9IG93bmVyO1xyXG4gIHRoaXMuX2NhcmRTZWxlY3RvciA9IGNhcmRTZWxlY3RvcjtcclxuICB0aGlzLl9oYW5kbGVJbWFnZUNsaWNrID0gaGFuZGxlSW1hZ2VDbGljaztcclxuICB0aGlzLl9oYW5kbGVEZWxldGVDbGljayA9IGhhbmRsZURlbGV0ZUNsaWNrO1xyXG4gIHRoaXMuX2hhbmRsZUxpa2VJY29uID0gaGFuZGxlTGlrZUljb247XHJcbn1cclxuXHJcbl9nZXRUZW1wbGF0ZSgpIHtcclxuICBjb25zdCBjYXJkRWxlbWVudCA9IGRvY3VtZW50XHJcbiAgICAucXVlcnlTZWxlY3Rvcih0aGlzLl9jYXJkU2VsZWN0b3IpXHJcbiAgICAuY29udGVudC5maXJzdEVsZW1lbnRDaGlsZC5jbG9uZU5vZGUodHJ1ZSk7XHJcblxyXG4gIHJldHVybiBjYXJkRWxlbWVudDtcclxufVxyXG5cclxuX3NldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gIHRoaXMuX2NhcmRFbGVtZW50XHJcbiAgICAucXVlcnlTZWxlY3RvcihcIi5jYXJkX19idXR0b24tcmVtb3ZlXCIpXHJcbiAgICAuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgICAgdGhpcy5faGFuZGxlRGVsZXRlQ2xpY2soKTtcclxuICAgIH0pO1xyXG5cclxuICB0aGlzLl9jYXJkRWxlbWVudFxyXG4gICAgLnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9fbGlrZS1idXR0b25cIilcclxuICAgIC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgICB0aGlzLl9oYW5kbGVMaWtlSWNvbigpO1xyXG4gICAgfSk7XHJcblxyXG4gIHRoaXMuX2NhcmRFbGVtZW50XHJcbiAgICAucXVlcnlTZWxlY3RvcihcIi5jYXJkX19pbWFnZVwiKVxyXG4gICAgLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICAgIHRoaXMuX2hhbmRsZUltYWdlQ2xpY2soeyBuYW1lOiB0aGlzLl9uYW1lLCBsaW5rOiB0aGlzLl9saW5rIH0pO1xyXG4gICAgfSk7XHJcbn1cclxuXHJcbl9oYW5kbGVMaWtlKCkge1xyXG4gIHRoaXMuX2NhcmRFbGVtZW50XHJcbiAgICAucXVlcnlTZWxlY3RvcihcIi5jYXJkX19saWtlLWJ1dHRvblwiKVxyXG4gICAgLmNsYXNzTGlzdC50b2dnbGUoXCJjYXJkX19saWtlLWJ1dHRvbl9hY3RpdmVcIik7XHJcbn1cclxuXHJcbl9oYW5kbGVEZWxldGUoKSB7XHJcbiAgdGhpcy5fY2FyZEVsZW1lbnQucmVtb3ZlKCk7XHJcbiAgdGhpcy5fY2FyZEVsZW1lbnQgPSBudWxsO1xyXG59XHJcblxyXG5fdXBkYXRlTGlrZXMobmV3TGlrZXMpIHtcclxuICB0aGlzLl9saWtlcyA9IG5ld0xpa2VzO1xyXG4gIGNvbnN0IGxpa2VzQ291bnQgPSB0aGlzLl9jYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2xpa2UtY291bnRcIik7XHJcbiAgbGlrZXNDb3VudC50ZXh0Q29udGVudCA9IHRoaXMuX2xpa2VzLmxlbmd0aDtcclxufVxyXG5cclxuZ2V0VmlldygpIHtcclxuICB0aGlzLl9jYXJkRWxlbWVudCA9IHRoaXMuX2dldFRlbXBsYXRlKCk7XHJcbiAgY29uc3QgY2FyZEltYWdlRUwgPSB0aGlzLl9jYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2ltYWdlXCIpO1xyXG4gIGNhcmRJbWFnZUVMLnNyYyA9IHRoaXMuX2xpbms7XHJcbiAgY2FyZEltYWdlRUwuYWx0ID0gdGhpcy5fbmFtZTtcclxuICBjb25zdCBjYXJkVGl0bGVFTCA9IHRoaXMuX2NhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9fbGFiZWwtdGl0bGVcIik7XHJcbiAgY2FyZFRpdGxlRUwudGV4dENvbnRlbnQgPSB0aGlzLl9uYW1lO1xyXG4gIGNvbnN0IGxpa2VzQ291bnQgPSB0aGlzLl9jYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2xpa2UtY291bnRcIik7XHJcbiAgbGlrZXNDb3VudC50ZXh0Q29udGVudCA9IHRoaXMuX2xpa2VzLmxlbmd0aDtcclxuICBjb25zdCBpc0xpa2VkID0gdGhpcy5fbGlrZXMuc29tZSgobGlrZSkgPT4gbGlrZS5faWQgPT09IHRoaXMuX293bmVyLl9pZCk7XHJcbiAgdGhpcy5fY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX19saWtlLWJ1dHRvblwiKS5jbGFzc0xpc3QudG9nZ2xlKFwiY2FyZF9fbGlrZS1idXR0b25fYWN0aXZlXCIsIGlzTGlrZWQpO1xyXG5cclxuICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xyXG5cclxuICByZXR1cm4gdGhpcy5fY2FyZEVsZW1lbnQ7XHJcbn1cclxufSIsImNsYXNzIEZvcm1WYWxpZGF0b3Ige1xyXG4gICAgY29uc3RydWN0b3IoIGZvcm1TZWxlY3RvciwgdmFsaWRhdGlvblNldHRpbmdzICkge1xyXG4gICAgICB0aGlzLl9pbnB1dFNlbGVjdG9yID0gdmFsaWRhdGlvblNldHRpbmdzLmlucHV0U2VsZWN0b3I7XHJcbiAgICAgIHRoaXMuX3N1Ym1pdEJ1dHRvblNlbGVjdG9yID0gdmFsaWRhdGlvblNldHRpbmdzLnN1Ym1pdEJ1dHRvblNlbGVjdG9yO1xyXG4gICAgICB0aGlzLl9pbmFjdGl2ZUJ1dHRvbkNsYXNzID0gdmFsaWRhdGlvblNldHRpbmdzLmluYWN0aXZlQnV0dG9uQ2xhc3M7XHJcbiAgICAgIHRoaXMuX2lucHV0RXJyb3JDbGFzcyA9IHZhbGlkYXRpb25TZXR0aW5ncy5pbnB1dEVycm9yQ2xhc3M7XHJcbiAgICAgIHRoaXMuX2Vycm9yQ2xhc3MgPSB2YWxpZGF0aW9uU2V0dGluZ3MuZXJyb3JDbGFzcztcclxuICAgICAgdGhpcy5fZm9ybUVsID0gZm9ybVNlbGVjdG9yO1xyXG4gICAgICB0aGlzLl9pbnB1dEVscyA9IFsuLi50aGlzLl9mb3JtRWwucXVlcnlTZWxlY3RvckFsbChcIm1vZGFsX19pbnB1dFwiKV07XHJcbiAgICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbnMgPSB0aGlzLl9mb3JtRWwucXVlcnlTZWxlY3Rvcih0aGlzLl9zdWJtaXRCdXR0b25TZWxlY3Rvcik7XHJcbiAgICB9XHJcbiAgXHJcbiAgICBfY2hlY2tJbnB1dFZhbGlkaXR5KGlucHV0RWwpIHtcclxuICAgICAgaWYgKCFpbnB1dEVsLnZhbGlkaXR5LnZhbGlkKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3Nob3dJbnB1dEVycm9yKGlucHV0RWwpO1xyXG4gICAgICB9XHJcbiAgICAgIHRoaXMuX2hpZGVJbnB1dEVycm9yKGlucHV0RWwpO1xyXG4gICAgfVxyXG4gIFxyXG4gICAgX3Nob3dJbnB1dEVycm9yKGlucHV0KSB7XHJcbiAgICAgIGNvbnN0IGVycm9yTWVzc2FnZUVsID0gdGhpcy5fZm9ybUVsLnF1ZXJ5U2VsZWN0b3IoYCMke2lucHV0LmlkfS1lcnJvcmApO1xyXG4gICAgICBpbnB1dC5jbGFzc0xpc3QuYWRkKHRoaXMuX2lucHV0RXJyb3JDbGFzcyk7XHJcbiAgICAgIGVycm9yTWVzc2FnZUVsLnRleHRDb250ZW50ID0gaW5wdXQudmFsaWRhdGlvbk1lc3NhZ2U7XHJcbiAgICAgIGVycm9yTWVzc2FnZUVsLmNsYXNzTGlzdC5hZGQodGhpcy5fZXJyb3JDbGFzcyk7XHJcbiAgICB9XHJcbiAgXHJcbiAgICBfaGlkZUlucHV0RXJyb3IoaW5wdXQpIHtcclxuICAgICAgY29uc3QgZXJyb3JNZXNzYWdlRWwgPSB0aGlzLl9mb3JtRWwucXVlcnlTZWxlY3RvcihgIyR7aW5wdXQuaWR9LWVycm9yYCk7XHJcbiAgICAgIGlucHV0LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5faW5wdXRFcnJvckNsYXNzKTtcclxuICAgICAgZXJyb3JNZXNzYWdlRWwudGV4dENvbnRlbnQgPSBcIlwiO1xyXG4gICAgICBlcnJvck1lc3NhZ2VFbC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2Vycm9yQ2xhc3MpO1xyXG4gICAgfVxyXG4gIFxyXG4gICAgX2hhc0ludmFsaWRJbnB1dChpbnB1dExpc3QpIHtcclxuICAgICAgcmV0dXJuICFpbnB1dExpc3QuZXZlcnkoKGlucHV0RWwpID0+IGlucHV0RWwudmFsaWRpdHkudmFsaWQpO1xyXG4gICAgfVxyXG4gIFxyXG4gICAgdG9nZ2xlQnV0dG9uU3RhdGUoKSB7XHJcbiAgICAgIGlmICh0aGlzLl9oYXNJbnZhbGlkSW5wdXQodGhpcy5faW5wdXRFbHMpKSB7XHJcbiAgICAgICAgdGhpcy5fc3VibWl0QnV0dG9ucy5jbGFzc0xpc3QuYWRkKHRoaXMuX2luYWN0aXZlQnV0dG9uQ2xhc3MpO1xyXG4gICAgICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbnMuZGlzYWJsZWQgPSB0cnVlO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG4gICAgICB0aGlzLl9zdWJtaXRCdXR0b25zLmNsYXNzTGlzdC5yZW1vdmUodGhpcy5faW5hY3RpdmVCdXR0b25DbGFzcyk7XHJcbiAgICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbnMuZGlzYWJsZWQgPSBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICBcclxuICAgIF9zZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgICAgdGhpcy5faW5wdXRFbHMuZm9yRWFjaCgoaW5wdXRFbCkgPT4ge1xyXG4gICAgICAgIGlucHV0RWwuYWRkRXZlbnRMaXN0ZW5lcihcImlucHV0XCIsIChlKSA9PiB7XHJcbiAgICAgICAgICB0aGlzLl9jaGVja0lucHV0VmFsaWRpdHkoaW5wdXRFbCk7XHJcbiAgICAgICAgICB0aGlzLnRvZ2dsZUJ1dHRvblN0YXRlKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gIFxyXG4gICAgZW5hYmxlVmFsaWRhdGlvbigpIHtcclxuICAgICAgdGhpcy5fZm9ybUVsLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgKGUpID0+IHtcclxuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgIH0pO1xyXG4gICAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xyXG4gICAgfVxyXG4gIH1cclxuICBleHBvcnQgZGVmYXVsdCBGb3JtVmFsaWRhdG9yO1xyXG5cclxuIiwiY2xhc3MgU2VjdGlvbiB7XHJcbiAgY29uc3RydWN0b3IoeyBpdGVtcywgcmVuZGVyZXIgfSwgY29udGFpbmVyU2VsZWN0b3IpIHtcclxuICAgIHRoaXMuX2l0ZW1zID0gaXRlbXM7XHJcbiAgICB0aGlzLl9yZW5kZXJlciA9IHJlbmRlcmVyO1xyXG4gICAgdGhpcy5fY29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihjb250YWluZXJTZWxlY3Rvcik7XHJcbiAgfVxyXG5cclxuICByZW5kZXJJdGVtcygpIHtcclxuICAgIHRoaXMuX2l0ZW1zLmZvckVhY2goKGl0ZW0pID0+IHtcclxuICAgICAgdGhpcy5fcmVuZGVyZXIoaXRlbSk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGFkZEl0ZW0oZWxlbWVudCkge1xyXG4gICAgdGhpcy5fY29udGFpbmVyLnByZXBlbmQoZWxlbWVudCk7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBTZWN0aW9uOyIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwIHtcclxuICAgIGNvbnN0cnVjdG9yKHsgcG9wdXBTZWxlY3RvciB9KSAge1xyXG4gICAgdGhpcy5fcG9wdXBFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihwb3B1cFNlbGVjdG9yKTtcclxuICAgIH0gXHJcbiAgICBcclxuICAgIG9wZW4oKSB7XHJcbiAgICAgICAgLy9vcGVuIHBvcHVwc1xyXG4gICAgICAgIHRoaXMuX3BvcHVwRWxlbWVudC5jbGFzc0xpc3QuYWRkKFwibW9kYWxfb3BlbmVkXCIpO1xyXG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIHRoaXMuX2hhbmRsZUVzY0Nsb3NlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICBjbG9zZSgpIHtcclxuICAgICAgICAvL2Nsb3NlIHBvcHVwc1xyXG4gICAgICAgICAgICB0aGlzLl9wb3B1cEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShcIm1vZGFsX29wZW5lZFwiKTtcclxuICAgICAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgdGhpcy5faGFuZGxlRXNjQ2xvc2UpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgIF9oYW5kbGVFc2NDbG9zZSA9IChlKSA9PiB7XHJcbiAgICAgICAgLy9saXN0ZW5zIGZvciBlc2MgYnV0dG9uXHJcbiAgICAgICAgICBpZiAoZS5rZXkgPT09IFwiRXNjYXBlXCIpIHtcclxuICAgICAgICAgICAgdGhpcy5jbG9zZSgpO1xyXG4gICAgICAgICAgfSAgICAgIFxyXG4gICAgICAgIH07XHJcblxyXG4gICAgc2V0RXZlbnRMaXN0ZW5lcnMoKXtcclxuICAgICAgICAvL3NldHMgbGlzdGVuZXJzXHJcbiAgICAgICAgdGhpcy5fcG9wdXBFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZXZ0KSA9PiB7XHJcbiAgICAgICAgICAgIGlmKFxyXG4gICAgICAgICAgICAgICAgZXZ0LnRhcmdldCA9PT0gdGhpcy5fcG9wdXBFbGVtZW50IHx8IGV2dC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKFwibW9kYWxfX2Nsb3NlXCIpXHJcbiAgICAgICAgICAgICkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jbG9zZSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG59XHJcblxyXG4iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXAuanNcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aEltYWdlIGV4dGVuZHMgUG9wdXAge1xyXG4gICAgY29uc3RydWN0b3IocG9wdXBTZWxlY3Rvcikge1xyXG4gICAgICAgIHN1cGVyKHsgcG9wdXBTZWxlY3RvciB9KTtcclxuICAgICAgICB0aGlzLl9wb3B1cEltYWdlID0gdGhpcy5fcG9wdXBFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2ltYWdlXCIpO1xyXG4gICAgICAgIHRoaXMuX3BvcHVwVGl0bGUgPSB0aGlzLl9wb3B1cEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fcHJldmlldy10aXRsZVwiKTtcclxuICAgIH1cclxuXHJcbiAgICBvcGVuKCBsaW5rLCBuYW1lICl7XHJcbiAgICAgICAgdGhpcy5fcG9wdXBJbWFnZS5zcmMgPSBsaW5rO1xyXG4gICAgICAgIHRoaXMuX3BvcHVwSW1hZ2UuYWx0ID0gbmFtZTtcclxuICAgICAgICB0aGlzLl9wb3B1cFRpdGxlLnRleHRDb250ZW50ID0gbmFtZTtcclxuICAgICAgICBzdXBlci5vcGVuKCk7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXAuanNcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aEZvcm0gZXh0ZW5kcyBQb3B1cCB7XHJcbiAgICBjb25zdHJ1Y3RvciAocG9wdXBTZWxlY3RvciwgaGFuZGxlRm9ybVN1Ym1pdCkge1xyXG4gICAgICAgIHN1cGVyKHsgcG9wdXBTZWxlY3RvciB9KTtcclxuICAgICAgICB0aGlzLl9oYW5kbGVGb3JtU3VibWl0ID0gaGFuZGxlRm9ybVN1Ym1pdDtcclxuICAgICAgICB0aGlzLl9wb3B1cEZvcm0gPSB0aGlzLl9wb3B1cEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fZm9ybVwiKVxyXG4gICAgICAgIHRoaXMuX2lucHV0RWxzID0gWy4uLnRoaXMuX3BvcHVwRm9ybS5xdWVyeVNlbGVjdG9yQWxsKFwiLm1vZGFsX19pbnB1dFwiKV07XHJcbiAgICB9XHJcblxyXG4gICAgY2xvc2UoKSB7XHJcbiAgICAgICAgdGhpcy5fcG9wdXBGb3JtLnJlc2V0KCk7XHJcbiAgICAgICAgc3VwZXIuY2xvc2UoKTtcclxuICAgIH1cclxuXHJcbiAgICBfZ2V0SW5wdXRWYWx1ZXMoKSB7XHJcbiAgICAgICAgY29uc3QgaW5wdXRWYWx1ZXMgPSB7fTtcclxuICAgICAgICBpbnB1dHMuZm9yRWFjaCgoaW5wdXQpID0+IFxyXG4gICAgICAgICAgICAoaW5wdXRWYWx1ZXNbaW5wdXQubmFtZV0gPSBpbnB1dC52YWx1ZSkpO1xyXG4gICAgICAgICAgICByZXR1cm4gaW5wdXRWYWx1ZXM7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0RXZlbnRMaXN0ZW5lcnMoKXtcclxuICAgICAgICB0aGlzLl9wb3B1cEZvcm0uYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCAoZXZ0KSA9PiB7XHJcbiAgICAgICAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICB0aGlzLl9oYW5kbGVGb3JtU3VibWl0KHRoaXMuX2dldElucHV0VmFsdWVzKCkpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHN1cGVyLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0Rm9ybSgpe1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9wb3B1cEZvcm07XHJcbiAgICB9XHJcblxyXG59XHJcbiIsImltcG9ydCBQb3B1cCBmcm9tIFwiLi9Qb3B1cC5qc1wiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoRGVsZXRlIGV4dGVuZHMgUG9wdXAge1xyXG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IpIHtcclxuICAgIHN1cGVyKHsgcG9wdXBTZWxlY3RvciB9KTtcclxuICAgIHRoaXMuX2Zvcm1FbCA9IHRoaXMuX3BvcHVwRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19mb3JtXCIpO1xyXG4gIH1cclxuXHJcbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICB0aGlzLl9mb3JtRWwuYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCAoZSkgPT4ge1xyXG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgIHRoaXMuX2hhbmRsZUZvcm1TdWJtaXQoKTtcclxuICAgIH0pO1xyXG4gICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuICB9XHJcblxyXG4gIHNldFN1Ym1pdEFjdGlvbihoYW5kbGVGb3JtU3VibWl0KSB7XHJcbiAgICB0aGlzLl9oYW5kbGVGb3JtU3VibWl0ID0gaGFuZGxlRm9ybVN1Ym1pdDtcclxuICB9XHJcbn1cclxuIiwiZXhwb3J0IGNsYXNzIFVzZXJJbmZvIHtcclxuICAgIGNvbnN0cnVjdG9yKHRpdGxlU2VsZWN0b3IsIGRlc2NyaXB0aW9uU2VsZWN0b3IsIGF2YXRhclNlbGVjdG9yKSB7XHJcbiAgICAgICAgdGhpcy5fdGl0bGVFbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGl0bGVTZWxlY3Rvcik7XHJcbiAgICAgICAgdGhpcy5fZGVzY3JpcHRpb25FbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoZGVzY3JpcHRpb25TZWxlY3Rvcik7XHJcbiAgICAgICAgdGhpcy5fYXZhdGFyRWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGF2YXRhclNlbGVjdG9yKTtcclxuICAgIH1cclxuXHJcbiAgICBnZXRVc2VySW5mbygpIHtcclxuICAgICAgICBjb25zdCB1c2VySW5mbyA9IHtcclxuICAgICAgICAgICAgdGl0bGU6IHRoaXMuX3RpdGxlRWwudGV4dENvbnRlbnQsXHJcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uOiB0aGlzLl9kZXNjcmlwdGlvbkVsLnRleHRDb250ZW50LFxyXG4gICAgICAgIH07XHJcbiAgICAgICAgcmV0dXJuIHVzZXJJbmZvO1xyXG4gICAgfVxyXG5cclxuICAgIHNldFVzZXJJbmZvKHRpdGxlLCBkZXNjcmlwdGlvbikge1xyXG4gICAgICAgIHRoaXMuX3RpdGxlRWwudGV4dENvbnRlbnQgPSB0aXRsZTtcclxuICAgICAgICB0aGlzLl9kZXNjcmlwdGlvbkVsLnRleHRDb250ZW50ID0gZGVzY3JpcHRpb247XHJcbiAgICB9XHJcblxyXG4gICAgc2V0QXZhdGFyKGF2YXRhcikge1xyXG4gICAgICAgIHRoaXMuX2F2YXRhckVsLnNyYyA9IGF2YXRhcjtcclxuICAgIH1cclxuXHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IFVzZXJJbmZvOyIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIEFwaSB7XHJcbiAgY29uc3RydWN0b3IoKSB7XHJcbiAgICB0aGlzLl9iYXNlVXJsID0gXCJodHRwczovL2Fyb3VuZC1hcGkuZW4udHJpcGxldGVuLXNlcnZpY2VzLmNvbS92MVwiO1xyXG4gICAgdGhpcy5faGVhZGVycyA9IHtcclxuICAgICAgYXV0aG9yaXphdGlvbjogXCJmMDBkYmU0ZC0zYmNmLTQwZTMtYTQ2Zi05ZTFlZDgyMDZiZDVcIixcclxuICAgICAgXCJDb250ZW50LXR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXHJcbiAgICB9O1xyXG4gIH1cclxuXHJcbiAgX2dldFJlc3BvbnNlKHJlcykge1xyXG4gICAgaWYgKHJlcy5vaykge1xyXG4gICAgICByZXR1cm4gcmVzLmpzb24oKTtcclxuICAgIH1cclxuICAgIHJldHVybiBQcm9taXNlLnJlamVjdChgRXJyb3I6ICR7cmVzLnN0YXR1c31gKTtcclxuICB9XHJcblxyXG4gIC8vIDEgTE9BRElORyBVU0VSIElORk9STUFUSU9OIElOVE8gVEhFIFNFUlZFUlxyXG4gIC8vIEdFVCBodHRwczovL2Fyb3VuZC1hcGkuZW4udHJpcGxldGVuLXNlcnZpY2VzLmNvbS92MS91c2Vycy9tZSBcclxuICBnZXRVc2VySW5mbygpIHtcclxuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS91c2Vycy9tZWAsIHtcclxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgIH0pLnRoZW4odGhpcy5fY2hlY2tSZXNwb25zZSk7XHJcbiAgfVxyXG5cclxuICAvLyAyIExPQURJTkcgQ0FSRFMgRlJPTSBUSEUgU0VSVkVSXHJcbiAgLy8gR0VUIGh0dHBzOi8vYXJvdW5kLWFwaS5lbi50cmlwbGV0ZW4tc2VydmljZXMuY29tL3YxL2NhcmRzIFxyXG4gIC8vIGluaXRpYWwgcmVzcG9uc2Ugd2lsbCBiZSBhbiBlbXB0eSBKU09OIGFycmF5IFtdXHJcbiAgZ2V0SW5pdGlhbENhcmRzKCkge1xyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzYCwge1xyXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgfSkudGhlbih0aGlzLl9jaGVja1Jlc3BvbnNlKTtcclxuICB9XHJcblxyXG4gIC8vIDMgIEVESVRJTkcgVEhFIFBST0ZJTEUgXHJcbiAgLy8gIFBBVENIIGh0dHBzOi8vYXJvdW5kLWFwaS5lbi50cmlwbGV0ZW4tc2VydmljZXMuY29tL3YxL3VzZXJzL21lIFxyXG4gIC8vIEFkZCBDb250ZW50LXR5cGUgYWZ0ZXIgdGhlIGF1dGhvcml6YXRpb24gdG9rZW4gXHJcbiAgLy8gYm9keTogSlNPTi5zdHJpbmdpZnkgKHtOQU1FIGFuZCBBQk9VVH0pIFxyXG4gIGdldEVkaXRQcm9maWxlKG5hbWUsIGFib3V0KSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vdXNlcnMvbWVgLCB7XHJcbiAgICAgIG1ldGhvZDogXCJQQVRDSFwiLFxyXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgbmFtZSwgXHJcbiAgICAgICAgYWJvdXQ6IGFib3V0XHJcbiAgICAgIH0pXHJcbiAgICAgIFxyXG4gICAgfSkudGhlbih0aGlzLl9jaGVja1Jlc3BvbnNlKTtcclxuICB9XHJcbiAgLy8gNCBBRERJTkcgQSBORVcgQ0FSRFxyXG4gIC8vIFBPU1QgaHR0cHM6Ly9hcm91bmQtYXBpLmVuLnRyaXBsZXRlbi1zZXJ2aWNlcy5jb20vdjEvY2FyZHNcclxuICAvLyBib2R5OiBKU09OLnN0cmluZ2lmeSAoe05BTUUgYW5kIExJTkt9KVxyXG4gIGdldE5ld0NhcmQobmFtZSwgbGluaykge1xyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzYCwge1xyXG4gICAgICBtZXRob2Q6IFwiUE9TVFwiLFxyXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSAoe1xyXG4gICAgICAgIG5hbWU6IG5hbWUsXHJcbiAgICAgICAgbGluazogbGlua1xyXG4gICAgICB9KVxyXG4gICAgfSlcclxuXHJcbn1cclxuXHJcbi8vIDUgJiA2IENSRUFUSU5HIEEgTkVXIFBPUFVQIEZPUiBERUxFVElORyBBIENBUkRcclxuICAvLyBzZW5kIERFTEVURSByZXF1ZXN0IFxyXG4gICAgLy8gREVMRVRFIGh0dHBzOi8vYXJvdW5kLWFwaS5lbi50cmlwbGV0ZW4tc2VydmljZXMuY29tL3YxL2NhcmRzL2NhcmRJZCBcclxuICAgIGRlbGV0ZUNhcmQoY2FyZElkKSB7XHJcbiAgICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS9jYXJkcy8ke2NhcmRJZH1gLCB7XHJcbiAgICAgICAgbWV0aG9kOiBcIkRFTEVURVwiLFxyXG4gICAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICAgIH0pLnRoZW4odGhpcy5fY2hlY2tSZXNwb25zZSk7XHJcbiAgICB9XHJcblxyXG4gICAgY2hhbmdlQXZhdGFyKGF2YXRhclVybCkge1xyXG4gICAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vdXNlcnMvbWUvYXZhdGFyYCwge1xyXG4gICAgICAgIG1ldGhvZDogXCJQQVRDSFwiLFxyXG4gICAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyBhdmF0YXJVcmw6IGF2YXRhclVybCB9KSxcclxuICAgICAgfSkudGhlbih0aGlzLl9jaGVja1Jlc3BvbnNlKTtcclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGVMaWtlKGNhcmRJZCwgaXNMaWtlZCkge1xyXG4gICAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vY2FyZHMvJHtjYXJkSWR9L2xpa2VzYCwge1xyXG4gICAgICAgIG1ldGhvZDogaXNMaWtlZCA/IFwiREVMRVRFXCIgOiBcIlBVVFwiLFxyXG4gICAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICAgIH0pLnRoZW4odGhpcy5fY2hlY2tSZXNwb25zZSk7XHJcbiAgICB9XHJcbiAgXHJcbiAgICB1cGRhdGVBdmF0YXIoYXZhdGFyKSB7XHJcbiAgICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS91c2Vycy9tZS9hdmF0YXJgLCB7XHJcbiAgICAgICAgbWV0aG9kOiBcIlBBVENIXCIsXHJcbiAgICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgICBhdmF0YXI6IGF2YXRhcixcclxuICAgICAgICB9KSxcclxuICAgICAgfSkudGhlbih0aGlzLl9jaGVja1Jlc3BvbnNlKTtcclxuICAgIH1cclxuXHJcblxyXG5cclxuICB9XHJcblxyXG4iLCIgIGNvbnN0IGluaXRpYWxDYXJkcyA9IFtcclxuICAgIHtcclxuICAgICAgbmFtZTogXCJZb3NlbWl0ZSBWYWxsZXlcIixcclxuICAgICAgbGluazogXCJodHRwczovL3ByYWN0aWN1bS1jb250ZW50LnMzLnVzLXdlc3QtMS5hbWF6b25hd3MuY29tL3NvZnR3YXJlLWVuZ2luZWVyL2Fyb3VuZC1wcm9qZWN0L3lvc2VtaXRlLmpwZ1wiLFxyXG4gICAgICBhbHQ6IFwiWW9zZW1pdGUgVmFsbGV5XCIsXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICBuYW1lOiBcIkxha2UgTG91aXNlXCIsXHJcbiAgICAgIGxpbms6IFwiaHR0cHM6Ly9wcmFjdGljdW0tY29udGVudC5zMy51cy13ZXN0LTEuYW1hem9uYXdzLmNvbS9zb2Z0d2FyZS1lbmdpbmVlci9hcm91bmQtcHJvamVjdC9sYWtlLWxvdWlzZS5qcGdcIixcclxuICAgICAgYWx0OiBcIkxha2UgTG91aXNlXCIsXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICBuYW1lOiBcIkJhbGQgTW91bnRhaW5zXCIsXHJcbiAgICAgIGxpbms6IFwiaHR0cHM6Ly9wcmFjdGljdW0tY29udGVudC5zMy51cy13ZXN0LTEuYW1hem9uYXdzLmNvbS9zb2Z0d2FyZS1lbmdpbmVlci9hcm91bmQtcHJvamVjdC9iYWxkLW1vdW50YWlucy5qcGdcIixcclxuICAgICAgYWx0OiBcIkJhbGQgTW91bnRhaW5zXCIsXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICBuYW1lOiBcIkxhdGVtYXJcIixcclxuICAgICAgbGluazogXCJodHRwczovL3ByYWN0aWN1bS1jb250ZW50LnMzLnVzLXdlc3QtMS5hbWF6b25hd3MuY29tL3NvZnR3YXJlLWVuZ2luZWVyL2Fyb3VuZC1wcm9qZWN0L2xhdGVtYXIuanBnXCIsXHJcbiAgICAgIGFsdDogXCJMYXRlbWFyXCIsXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICBuYW1lOiBcIlZhbm9pc2UgTmF0aW9uYWwgUGFya1wiLFxyXG4gICAgICBsaW5rOiBcImh0dHBzOi8vcHJhY3RpY3VtLWNvbnRlbnQuczMudXMtd2VzdC0xLmFtYXpvbmF3cy5jb20vc29mdHdhcmUtZW5naW5lZXIvYXJvdW5kLXByb2plY3QvdmFub2lzZS5qcGcgXCIsXHJcbiAgICAgIGFsdDogXCJWYW5vaXNlIE5hdGlvbmFsIFBhcmtcIixcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgIG5hbWU6IFwiTGFnbyBkaSBCcmFpZXNcIixcclxuICAgICAgbGluazogXCJodHRwczovL3ByYWN0aWN1bS1jb250ZW50LnMzLnVzLXdlc3QtMS5hbWF6b25hd3MuY29tL3NvZnR3YXJlLWVuZ2luZWVyL2Fyb3VuZC1wcm9qZWN0L2xhZ28uanBnICBcIixcclxuICAgICAgYWx0OiBcIkxhZ28gZGkgQnJhaWVzXCIsXHJcbiAgICB9LFxyXG4gIF07XHJcblxyXG4gICAgY29uc3QgdmFsaWRhdGlvblNldHRpbmdzID0ge1xyXG4gICAgLy8gZm9ybVNlbGVjdG9yOiBcIi5tb2RhbF9fZm9ybVwiLFxyXG4gICAgaW5wdXRTZWxlY3RvcjogXCIubW9kYWxfX2lucHV0XCIsXHJcbiAgICBzdWJtaXRCdXR0b25TZWxlY3RvcjogXCIubW9kYWxfX2J1dHRvblwiLFxyXG4gICAgaW5hY3RpdmVCdXR0b25DbGFzczogXCJtb2RhbF9fYnV0dG9uX2Rpc2FibGVkXCIsXHJcbiAgICBpbnB1dEVycm9yQ2xhc3M6IFwibW9kYWxfX2lucHV0X3R5cGVfZXJyb3JcIixcclxuICAgIGVycm9yQ2xhc3M6IFwibW9kYWxfX2Vycm9yXCJcclxuICB9O1xyXG5cclxuICBjb25zdCB2YXJpYWJsZXMgPSB7XHJcbiAgICAgIHByb2ZpbGVFZGl0QnV0dG9uOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3Byb2ZpbGUtZWRpdC1idXR0b25cIiksXHJcbiAgICAgIHByb2ZpbGVFZGl0TW9kYWw6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcHJvZmlsZS1lZGl0LW1vZGFsXCIpLFxyXG4gICAgICBwcm9maWxlVGl0bGVJbnB1dDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNwcm9maWxlLXRpdGxlLWlucHV0XCIpLFxyXG4gICAgICBwcm9maWxlRGVzY3JpcHRpb25JbnB1dDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNwcm9maWxlLWRlc2NyaXB0aW9uLWlucHV0XCIpLFxyXG4gICAgICBwcm9maWxlSW1hZ2U6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9faW1hZ2VcIiksXHJcbiAgICAgIGFkZE5ld01vZGFsQ2FyZDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNhZGQtY2FyZC1tb2RhbFwiKSxcclxuICAgICAgY2FyZExpc3RFbDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkc19fbGlzdFwiKSxcclxuICAgICAgYWRkTmV3Q2FyZEJ1dHRvbjogZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19wbHVzLWJ1dHRvblwiKSxcclxuICAgICAgZGVsZXRlTW9kYWw6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjZGVsZXRlLW1vZGFsXCIpLFxyXG4gICAgICBhdmF0YXJJbnB1dDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNhdmF0YXItdXJsLWlucHV0XCIpLFxyXG4gICAgICBhdmF0YXJNb2RhbDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNhdmF0YXItbW9kYWxcIiksXHJcbiAgICAgIGF2YXRhck1vZGFsQnV0dG9uOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2F2YXRhci1tb2RhbC1idXR0b25cIiksXHJcbiAgICBcclxuICAgIH1cclxuXHJcblxyXG5leHBvcnQge2luaXRpYWxDYXJkcywgdmFsaWRhdGlvblNldHRpbmdzLCB2YXJpYWJsZXN9O1xyXG5cclxuIiwiaW1wb3J0IENhcmQgZnJvbSBcIi4uL2NvbXBvbmVudHMvQ2FyZC5qc1wiO1xyXG5pbXBvcnQgRm9ybVZhbGlkYXRvciBmcm9tIFwiLi4vY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzXCI7XHJcbmltcG9ydCBcIi4vaW5kZXguY3NzXCI7XHJcbmltcG9ydCBTZWN0aW9uIGZyb20gXCIuLi9jb21wb25lbnRzL1NlY3Rpb24uanNcIjtcclxuaW1wb3J0IFBvcHVwV2l0aEltYWdlIGZyb20gXCIuLi9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzXCI7XHJcbmltcG9ydCBQb3B1cFdpdGhGb3JtIGZyb20gXCIuLi9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanNcIjtcclxuaW1wb3J0IFBvcHVwV2l0aERlbGV0ZSBmcm9tIFwiLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhEZWxldGUuanNcIjtcclxuaW1wb3J0IFVzZXJJbmZvIGZyb20gXCIuLi9jb21wb25lbnRzL1VzZXJJbmZvLmpzXCI7XHJcbmltcG9ydCBBcGkgZnJvbSBcIi4uL2NvbXBvbmVudHMvQXBpLmpzXCI7XHJcbmltcG9ydCB7XHJcbiAgaW5pdGlhbENhcmRzLCBcclxuICB2YWxpZGF0aW9uU2V0dGluZ3MsIFxyXG4gIHZhcmlhYmxlc30gZnJvbSBcIi4uL3V0aWxzL2NvbnN0YW50cy5qc1wiO1xyXG5cclxuXHJcblxyXG5jb25zdCBhcGkgPSBuZXcgQXBpKHtcclxuICBiYXNlVXJsOiBcImh0dHBzOi8vYXJvdW5kLWFwaS5lbi50cmlwbGV0ZW4tc2VydmljZXMuY29tL3YxXCIsXHJcbiAgaGVhZGVyczoge1xyXG4gICAgYXV0aG9yaXphdGlvbjogXCJmMDBkYmU0ZC0zYmNmLTQwZTMtYTQ2Zi05ZTFlZDgyMDZiZDVcIixcclxuICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiXHJcbiAgfVxyXG59KTsgXHJcblxyXG5jb25zdCB1c2VySW5mbyA9IG5ldyBVc2VySW5mbyhcclxuICBcIi5wcm9maWxlX190aXRsZVwiLFxyXG4gIFwiLnByb2ZpbGVfX2Rlc2NyaXB0aW9uXCIsXHJcbiAgXCIucHJvZmlsZV9faW1hZ2VcIlxyXG4pO1xyXG5cclxuYXBpXHJcbiAgLmdldEluaXRpYWxDYXJkcygpXHJcbiAgLnRoZW4oKHJlcykgPT4ge1xyXG4gICAgc2VjdGlvbiA9IG5ldyBTZWN0aW9uKFxyXG4gICAgICB7XHJcbiAgICAgICAgaXRlbXM6IHJlcyxcclxuICAgICAgICByZW5kZXJlcjogKGNhcmREYXRhKSA9PiB7XHJcbiAgICAgICAgICBjcmVhdGVDYXJkKGNhcmREYXRhKTtcclxuICAgICAgICB9LFxyXG4gICAgICB9LFxyXG4gICAgICBcImNhcmRzX19saXN0XCJcclxuICAgICk7XHJcbiAgICBzZWN0aW9uLnJlbmRlckl0ZW1zKCk7XHJcbiAgICBjb25zb2xlLmxvZyhyZXMpO1xyXG4gIH0pXHJcbiAgLmNhdGNoKGNvbnNvbGUuZXJyb3IpO1xyXG5cclxuLy8gYXBpXHJcbi8vICAgLmdldFVzZXJJbmZvKClcclxuLy8gICAudGhlbigocmVzKSA9PiB7XHJcbi8vICAgICBjb25zb2xlLmxvZyhyZXMpO1xyXG4vLyAgICAgdXNlckluZm8uc2V0VXNlckluZm8ocmVzLm5hbWUsIHJlcy5hYm91dCk7XHJcbi8vICAgICB1c2VySW5mby5zZXRBdmF0YXIocmVzLmF2YXRhcik7XHJcbi8vICAgfSlcclxuLy8gICAuY2F0Y2goY29uc29sZS5lcnJvcik7XHJcblxyXG5jb25zdCBjYXJkRm9ybVZhbGlkYXRvciA9IG5ldyBGb3JtVmFsaWRhdG9yKHZhcmlhYmxlcy5hZGROZXdNb2RhbENhcmQsIHZhbGlkYXRpb25TZXR0aW5ncyk7XHJcbmNhcmRGb3JtVmFsaWRhdG9yLmVuYWJsZVZhbGlkYXRpb24oKTtcclxuXHJcbmNvbnN0IHByb2ZpbGVFZGl0Rm9ybSA9IHZhcmlhYmxlcy5wcm9maWxlRWRpdE1vZGFsLnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2Zvcm1cIik7XHJcbmNvbnN0IGVkaXRGb3JtVmFsaWRhdG9yID0gbmV3IEZvcm1WYWxpZGF0b3IoXHJcbiAgcHJvZmlsZUVkaXRGb3JtLFxyXG4gIHZhbGlkYXRpb25TZXR0aW5nc1xyXG4pO1xyXG5cclxubGV0IHNlY3Rpb24gPSBuZXcgU2VjdGlvbihcclxuICB7XHJcbiAgICBpdGVtczogaW5pdGlhbENhcmRzLFxyXG4gICAgcmVuZGVyZXI6IChjYXJkRGF0YSkgPT4ge1xyXG4gICAgICBjb25zdCBjYXJkTGlzdEVsID0gY3JlYXRlQ2FyZChjYXJkRGF0YSk7XHJcbiAgICAgIHNlY3Rpb24uYWRkSXRlbShjYXJkTGlzdEVsKTtcclxuICAgIH0sXHJcbiAgfSxcclxuICBcIi5jYXJkc19fbGlzdFwiXHJcbik7XHJcblxyXG4vLyBjb25zdCBwcm9maWxlRWRpdEZvcm1Qb3B1cCA9IG5ldyBQb3B1cFdpdGhGb3JtKFxyXG4vLyAgIFwiI3Byb2ZpbGUtZWRpdC1tb2RhbFwiLFxyXG4vLyAgIGhhbmRsZVByb2ZpbGVFZGl0Rm9ybVN1Ym1pdFxyXG4vLyApO1xyXG5cclxuY29uc3QgYXZhdGFyTW9kYWwgPSBuZXcgUG9wdXBXaXRoRm9ybShcclxuICBcIiNhdmF0YXItbW9kYWxcIixcclxuICBoYW5kbGVBdmF0YXJGb3JtU3VibWl0XHJcbik7XHJcbmF2YXRhck1vZGFsLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcblxyXG4vLyBmdW5jdGlvbiBvcGVuQXZhdGFyRm9ybSgpIHtcclxuLy8gICBhdmF0YXJNb2RhbC5vcGVuKCk7XHJcbi8vIH1cclxuXHJcbi8vIHZhcmlhYmxlcy5wcm9maWxlSW1hZ2UuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuLy8gICBvcGVuQXZhdGFyRm9ybSgpO1xyXG4vLyB9KTtcclxuXHJcbi8vIGNvbnN0IHBvcHVwV2l0aEltYWdlID0gbmV3IFBvcHVwV2l0aEltYWdlKFwiI21vZGFsLXByZXZpZXdcIik7XHJcbi8vIHBvcHVwV2l0aEltYWdlLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcblxyXG4vLyBjb25zdCBhZGRDYXJkUG9wdXAgPSBuZXcgUG9wdXBXaXRoRm9ybShcclxuLy8gICBcIiNhZGQtY2FyZC1tb2RhbFwiLFxyXG4vLyAgIGhhbmRsZUFkZENhcmRGb3JtU3VibWl0XHJcbi8vICk7XHJcblxyXG4vLyBjb25zdCBkZWxldGVNb2RhbCA9IG5ldyBQb3B1cFdpdGhEZWxldGUoXCIjZGVsZXRlLW1vZGFsXCIpO1xyXG4vLyBkZWxldGVNb2RhbC5zZXRFdmVudExpc3RlbmVycygpO1xyXG5cclxuLy8gZnVuY3Rpb24gc2V0QnV0dG9uVGV4dChidXR0b24sIHRleHQpIHtcclxuLy8gICBidXR0b24udGV4dENvbnRlbnQgPSB0ZXh0O1xyXG4vLyB9XHJcblxyXG4vLyBmdW5jdGlvbiBoYW5kbGVJbWFnZUNsaWNrKGNhcmREYXRhKSB7XHJcbi8vICAgcG9wdXBXaXRoSW1hZ2Uub3BlbihjYXJkRGF0YSk7XHJcbi8vIH1cclxuXHJcbi8vIGZ1bmN0aW9uIGhhbmRsZURlbGV0ZUNsaWNrKGNhcmQpIHtcclxuLy8gICAvLyBvcGVuIHRoZSBtb2RhbFxyXG4vLyAgIGRlbGV0ZU1vZGFsLm9wZW4oKTtcclxuLy8gICAvLyBzZXQgdGhlIHN1Ym1pdCBhY3Rpb25cclxuLy8gICBkZWxldGVNb2RhbC5zZXRTdWJtaXRBY3Rpb24oKCkgPT4ge1xyXG4vLyAgICAgYXBpXHJcbi8vICAgICAgIC5kZWxldGVDYXJkKGNhcmQuX2lkKVxyXG4vLyAgICAgICAudGhlbigoKSA9PiB7XHJcbi8vICAgICAgICAgZGVsZXRlTW9kYWwuY2xvc2UoKTtcclxuLy8gICAgICAgICBjYXJkLmhhbmRsZURlbGV0ZSgpO1xyXG4vLyAgICAgICB9KVxyXG4vLyAgICAgICAuY2F0Y2goY29uc29sZS5lcnJvcik7XHJcbi8vICAgfSk7XHJcbi8vIH1cclxuXHJcbi8vIGZ1bmN0aW9uIGhhbmRsZUxpa2VDbGljayhjYXJkKSB7XHJcbi8vICAgYXBpXHJcbi8vICAgICAudXBkYXRlTGlrZShjYXJkLl9pZCwgY2FyZC5pc0xpa2VkKCkpXHJcbi8vICAgICAudGhlbigoKSA9PiB7XHJcbi8vICAgICAgIGNhcmQuaGFuZGxlTGlrZSgpO1xyXG4vLyAgICAgICBjb25zb2xlLmxvZyhjYXJkKTtcclxuLy8gICAgIH0pXHJcbi8vICAgICAuY2F0Y2goY29uc29sZS5lcnJvcik7XHJcbi8vIH1cclxuXHJcbi8vIGZ1bmN0aW9uIGhhbmRsZVByb2ZpbGVFZGl0Rm9ybVN1Ym1pdChmb3JtRGF0YSkge1xyXG4vLyAgIHVzZXJJbmZvLnNldFVzZXJJbmZvKGZvcm1EYXRhLnRpdGxlLCBmb3JtRGF0YS5kZXNjcmlwdGlvbik7XHJcbi8vICAgcHJvZmlsZUVkaXRGb3JtUG9wdXAuY2xvc2UoKTtcclxuLy8gfVxyXG5cclxuLy8gZWRpdEZvcm1WYWxpZGF0b3IuZW5hYmxlVmFsaWRhdGlvbigpO1xyXG5cclxuLy8gdmFyaWFibGVzLnByb2ZpbGVFZGl0QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbi8vICAgY29uc3QgcHJvZmlsZVVzZXJJbmZvID0gdXNlckluZm8uZ2V0VXNlckluZm8oKTtcclxuLy8gICBwcm9maWxlVGl0bGVJbnB1dC52YWx1ZSA9IHByb2ZpbGVVc2VySW5mby50aXRsZTtcclxuLy8gICBwcm9maWxlRGVzY3JpcHRpb25JbnB1dC52YWx1ZSA9IHByb2ZpbGVVc2VySW5mby5kZXNjcmlwdGlvbjtcclxuLy8gICBwcm9maWxlRWRpdEZvcm1Qb3B1cC5vcGVuKCk7XHJcbi8vIH0pO1xyXG5cclxuLy8gYWRkQ2FyZFBvcHVwLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcbi8vIHByb2ZpbGVFZGl0Rm9ybVBvcHVwLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcblxyXG4vLyB2YXJpYWJsZXMuYWRkTmV3Q2FyZEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4vLyAgIGNhcmRGb3JtVmFsaWRhdG9yLnRvZ2dsZUJ1dHRvblN0YXRlKCk7XHJcbi8vICAgYWRkQ2FyZFBvcHVwLm9wZW4oKTtcclxuLy8gfSk7XHJcblxyXG4vLyBDcmVhdGUgYSBuZXcgY2FyZFxyXG5cclxuZnVuY3Rpb24gY3JlYXRlQ2FyZChjYXJkRGF0YSkge1xyXG4gIGNvbnN0IGNhcmQgPSBuZXcgQ2FyZChcclxuICAgIGNhcmREYXRhLFxyXG4gICAgXCIjY2FyZC10ZW1wbGF0ZVwiLFxyXG4gICAgaGFuZGxlSW1hZ2VDbGljayxcclxuICAgIGhhbmRsZURlbGV0ZUNsaWNrLFxyXG4gICAgaGFuZGxlTGlrZUNsaWNrXHJcbiAgKTtcclxuICBzZWN0aW9uLmFkZEl0ZW0oY2FyZC5nZXRWaWV3KCkpO1xyXG59XHJcblxyXG5zZWN0aW9uLnJlbmRlckl0ZW1zKCk7XHJcbi8vIGxldCBzZWN0aW9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcImNhcmRzX19saXN0XCIpO1xyXG5jcmVhdGVDYXJkKGNhcmREYXRhKTtcclxuXHJcbi8vIE9wZW4gdGhlIGF2YXRhciBmb3JtXHJcbmZ1bmN0aW9uIG9wZW5BdmF0YXJGb3JtKCkge1xyXG4gIGF2YXRhck1vZGFsLm9wZW4oKTtcclxufVxyXG5cclxuLy8gT3BlbiB0aGUgYWRkIGNhcmQgZm9ybVxyXG5mdW5jdGlvbiBvcGVuQWRkQ2FyZEZvcm0oKSB7XHJcbiAgYWRkQ2FyZFBvcHVwLm9wZW4oKTtcclxufVxyXG5cclxuLy8gT3BlbiB0aGUgcHJvZmlsZSBlZGl0IGZvcm1cclxuZnVuY3Rpb24gb3BlblByb2ZpbGVFZGl0Rm9ybSgpIHtcclxuICBjb25zdCBwcm9maWxlVXNlckluZm8gPSB1c2VySW5mby5nZXRVc2VySW5mbygpO1xyXG4gIHByb2ZpbGVUaXRsZUlucHV0LnZhbHVlID0gcHJvZmlsZVVzZXJJbmZvLnRpdGxlO1xyXG4gIHByb2ZpbGVEZXNjcmlwdGlvbklucHV0LnZhbHVlID0gcHJvZmlsZVVzZXJJbmZvLmRlc2NyaXB0aW9uO1xyXG4gIHByb2ZpbGVFZGl0Rm9ybVBvcHVwLm9wZW4oKTtcclxufVxyXG5cclxuLy8gRXZlbnQgbGlzdGVuZXJzXHJcbnZhcmlhYmxlcy5wcm9maWxlSW1hZ2UuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIG9wZW5BdmF0YXJGb3JtKTtcclxudmFyaWFibGVzLmFkZE5ld0NhcmRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIG9wZW5BZGRDYXJkRm9ybSk7XHJcbnZhcmlhYmxlcy5wcm9maWxlRWRpdEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgb3BlblByb2ZpbGVFZGl0Rm9ybSk7XHJcblxyXG4vLyBQb3B1cCB3aXRoIGltYWdlXHJcbmNvbnN0IHBvcHVwV2l0aEltYWdlID0gbmV3IFBvcHVwV2l0aEltYWdlKFwiI21vZGFsLXByZXZpZXdcIik7XHJcbnBvcHVwV2l0aEltYWdlLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcblxyXG4vLyBQb3B1cCB3aXRoIGRlbGV0ZVxyXG5jb25zdCBkZWxldGVNb2RhbCA9IG5ldyBQb3B1cFdpdGhEZWxldGUoXCIjZGVsZXRlLW1vZGFsXCIpO1xyXG5kZWxldGVNb2RhbC5zZXRFdmVudExpc3RlbmVycygpO1xyXG5cclxuLy8gUG9wdXAgd2l0aCBmb3JtXHJcbmNvbnN0IGFkZENhcmRQb3B1cCA9IG5ldyBQb3B1cFdpdGhGb3JtKFxyXG4gIFwiI2FkZC1jYXJkLW1vZGFsXCIsXHJcbiAgaGFuZGxlQWRkQ2FyZEZvcm1TdWJtaXRcclxuKTtcclxuYWRkQ2FyZFBvcHVwLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcblxyXG5jb25zdCBwcm9maWxlRWRpdEZvcm1Qb3B1cCA9IG5ldyBQb3B1cFdpdGhGb3JtKFxyXG4gIFwiI3Byb2ZpbGUtZWRpdC1tb2RhbFwiLFxyXG4gIGhhbmRsZVByb2ZpbGVFZGl0Rm9ybVN1Ym1pdFxyXG4pO1xyXG5wcm9maWxlRWRpdEZvcm1Qb3B1cC5zZXRFdmVudExpc3RlbmVycygpO1xyXG5cclxuLy8gRnVuY3Rpb25zXHJcblxyXG5mdW5jdGlvbiBoYW5kbGVJbWFnZUNsaWNrKGNhcmREYXRhKSB7XHJcbiAgcG9wdXBXaXRoSW1hZ2Uub3BlbihjYXJkRGF0YSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGhhbmRsZURlbGV0ZUNsaWNrKGNhcmQpIHtcclxuICAvLyBvcGVuIHRoZSBtb2RhbFxyXG4gIGRlbGV0ZU1vZGFsLm9wZW4oKTtcclxuICAvLyBzZXQgdGhlIHN1Ym1pdCBhY3Rpb25cclxuICBkZWxldGVNb2RhbC5zZXRTdWJtaXRBY3Rpb24oKCkgPT4ge1xyXG4gICAgYXBpXHJcbiAgICAgIC5kZWxldGVDYXJkKGNhcmQuX2lkKVxyXG4gICAgICAudGhlbigoKSA9PiB7XHJcbiAgICAgICAgZGVsZXRlTW9kYWwuY2xvc2UoKTtcclxuICAgICAgICBjYXJkLmhhbmRsZURlbGV0ZSgpO1xyXG4gICAgICB9KVxyXG4gICAgICAuY2F0Y2goY29uc29sZS5lcnJvcik7XHJcbiAgfSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGhhbmRsZUxpa2VDbGljayhjYXJkKSB7XHJcbiAgYXBpXHJcbiAgICAudXBkYXRlTGlrZShjYXJkLl9pZCwgY2FyZC5pc0xpa2VkKCkpXHJcbiAgICAudGhlbigoKSA9PiB7XHJcbiAgICAgIGNhcmQuaGFuZGxlTGlrZSgpO1xyXG4gICAgICBjb25zb2xlLmxvZyhjYXJkKTtcclxuICAgIH0pXHJcbiAgICAuY2F0Y2goY29uc29sZS5lcnJvcik7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGhhbmRsZUF2YXRhckZvcm1TdWJtaXQoaW5wdXRWYWx1ZXMpIHtcclxuICBzZXRCdXR0b25UZXh0KHZhcmlhYmxlcy5hdmF0YXJNb2RhbEJ1dHRvbiwgXCJTYXZpbmcuLi5cIik7XHJcbiAgYXBpXHJcbiAgICAudXBkYXRlQXZhdGFyKGlucHV0VmFsdWVzLmxpbmspXHJcbiAgICAudGhlbigocmVzKSA9PiB7XHJcbiAgICAgIHVzZXJJbmZvLnNldEF2YXRhcihyZXMuYXZhdGFyKTtcclxuICAgICAgY29uc29sZS5sb2cocmVzKTtcclxuICAgICAgYXZhdGFyTW9kYWwuY2xvc2UoKTtcclxuICAgIH0pXHJcbiAgICAuY2F0Y2goY29uc29sZS5lcnJvcilcclxuICAgIC5maW5hbGx5KCgpID0+IHtcclxuICAgICAgc2V0QnV0dG9uVGV4dCh2YXJpYWJsZXMuYXZhdGFyTW9kYWxCdXR0b24sIFwiU2F2ZVwiKTtcclxuICAgIH0pO1xyXG59XHJcblxyXG5mdW5jdGlvbiBoYW5kbGVQcm9maWxlRWRpdEZvcm1TdWJtaXQoZm9ybURhdGEpIHtcclxuICB1c2VySW5mby5zZXRVc2VySW5mbyhmb3JtRGF0YS50aXRsZSwgZm9ybURhdGEuZGVzY3JpcHRpb24pO1xyXG4gIHByb2ZpbGVFZGl0Rm9ybVBvcHVwLmNsb3NlKCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGhhbmRsZUFkZENhcmRGb3JtU3VibWl0KGlucHV0VmFsdWVzKSB7XHJcbiAgc2V0QnV0dG9uVGV4dCh2YXJpYWJsZXMuYWRkTmV3Q2FyZEJ1dHRvbiwgXCJTYXZpbmcuLi5cIik7XHJcbiAgYXBpXHJcbiAgICAuYWRkTmV3Q2FyZChpbnB1dFZhbHVlcylcclxuICAgIC50aGVuKChyZXMpID0+IHtcclxuICAgICAgY3JlYXRlQ2FyZChyZXMpO1xyXG4gICAgICB2YXJpYWJsZXMuYWRkTmV3TW9kYWxDYXJkLnJlc2V0KCk7XHJcbiAgICAgIGNhcmRGb3JtVmFsaWRhdG9yLnRvZ2dsZUJ1dHRvblN0YXRlKCk7XHJcbiAgICAgIGFkZENhcmRQb3B1cC5jbG9zZSgpO1xyXG4gICAgfSlcclxuICAgIC5jYXRjaChjb25zb2xlLmVycm9yKVxyXG4gICAgLmZpbmFsbHkoKCkgPT4ge1xyXG4gICAgICBzZXRCdXR0b25UZXh0KHZhcmlhYmxlcy5hZGROZXdDYXJkQnV0dG9uLCBcIlNhdmVcIik7XHJcbiAgICB9KTtcclxufVxyXG5cclxuLy8gUmVuZGVyIHRoZSBjYXJkIHNlY3Rpb25cclxuY2FyZFNlY3Rpb24ucmVuZGVySXRlbXMoKTtcclxuXHJcbi8vIEVuYWJsZSB2YWxpZGF0aW9uIGZvciB0aGUgZWRpdCBmb3JtXHJcbmVkaXRGb3JtVmFsaWRhdG9yLmVuYWJsZVZhbGlkYXRpb24oKTtcclxuXHJcbiJdLCJuYW1lcyI6WyJDYXJkIiwiX3JlZiIsImNhcmRTZWxlY3RvciIsImhhbmRsZUltYWdlQ2xpY2siLCJoYW5kbGVEZWxldGVDbGljayIsImhhbmRsZUxpa2VJY29uIiwibmFtZSIsImxpbmsiLCJsaWtlcyIsIm93bmVyIiwiX2NsYXNzQ2FsbENoZWNrIiwidGhpcyIsIl9uYW1lIiwiX2xpbmsiLCJfbGlrZXMiLCJfb3duZXIiLCJfY2FyZFNlbGVjdG9yIiwiX2hhbmRsZUltYWdlQ2xpY2siLCJfaGFuZGxlRGVsZXRlQ2xpY2siLCJfaGFuZGxlTGlrZUljb24iLCJrZXkiLCJ2YWx1ZSIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsImNvbnRlbnQiLCJmaXJzdEVsZW1lbnRDaGlsZCIsImNsb25lTm9kZSIsIl90aGlzIiwiX2NhcmRFbGVtZW50IiwiYWRkRXZlbnRMaXN0ZW5lciIsImNsYXNzTGlzdCIsInRvZ2dsZSIsInJlbW92ZSIsIm5ld0xpa2VzIiwidGV4dENvbnRlbnQiLCJsZW5ndGgiLCJfdGhpczIiLCJfZ2V0VGVtcGxhdGUiLCJjYXJkSW1hZ2VFTCIsInNyYyIsImFsdCIsImlzTGlrZWQiLCJzb21lIiwibGlrZSIsIl9pZCIsIl9zZXRFdmVudExpc3RlbmVycyIsIkZvcm1WYWxpZGF0b3IiLCJmb3JtU2VsZWN0b3IiLCJ2YWxpZGF0aW9uU2V0dGluZ3MiLCJfaW5wdXRTZWxlY3RvciIsImlucHV0U2VsZWN0b3IiLCJfc3VibWl0QnV0dG9uU2VsZWN0b3IiLCJzdWJtaXRCdXR0b25TZWxlY3RvciIsIl9pbmFjdGl2ZUJ1dHRvbkNsYXNzIiwiaW5hY3RpdmVCdXR0b25DbGFzcyIsIl9pbnB1dEVycm9yQ2xhc3MiLCJpbnB1dEVycm9yQ2xhc3MiLCJfZXJyb3JDbGFzcyIsImVycm9yQ2xhc3MiLCJfZm9ybUVsIiwiX2lucHV0RWxzIiwicXVlcnlTZWxlY3RvckFsbCIsIl9zdWJtaXRCdXR0b25zIiwiaW5wdXRFbCIsInZhbGlkaXR5IiwidmFsaWQiLCJfc2hvd0lucHV0RXJyb3IiLCJfaGlkZUlucHV0RXJyb3IiLCJpbnB1dCIsImVycm9yTWVzc2FnZUVsIiwiY29uY2F0IiwiaWQiLCJhZGQiLCJ2YWxpZGF0aW9uTWVzc2FnZSIsImlucHV0TGlzdCIsImV2ZXJ5IiwiX2hhc0ludmFsaWRJbnB1dCIsImRpc2FibGVkIiwiZm9yRWFjaCIsImUiLCJfY2hlY2tJbnB1dFZhbGlkaXR5IiwidG9nZ2xlQnV0dG9uU3RhdGUiLCJwcmV2ZW50RGVmYXVsdCIsIlNlY3Rpb24iLCJjb250YWluZXJTZWxlY3RvciIsIml0ZW1zIiwicmVuZGVyZXIiLCJfaXRlbXMiLCJfcmVuZGVyZXIiLCJfY29udGFpbmVyIiwiaXRlbSIsImVsZW1lbnQiLCJwcmVwZW5kIiwiUG9wdXAiLCJwb3B1cFNlbGVjdG9yIiwiY2xvc2UiLCJfcG9wdXBFbGVtZW50IiwiX2hhbmRsZUVzY0Nsb3NlIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImV2dCIsInRhcmdldCIsImNvbnRhaW5zIiwiUG9wdXBXaXRoSW1hZ2UiLCJfUG9wdXAiLCJfaW5oZXJpdHMiLCJfc3VwZXIiLCJjYWxsIiwiX3BvcHVwSW1hZ2UiLCJfcG9wdXBUaXRsZSIsIl9nZXQiLCJfZ2V0UHJvdG90eXBlT2YiLCJwcm90b3R5cGUiLCJQb3B1cFdpdGhGb3JtIiwiaGFuZGxlRm9ybVN1Ym1pdCIsIl9oYW5kbGVGb3JtU3VibWl0IiwiX3BvcHVwRm9ybSIsInJlc2V0IiwiaW5wdXRWYWx1ZXMiLCJpbnB1dHMiLCJfZ2V0SW5wdXRWYWx1ZXMiLCJQb3B1cFdpdGhEZWxldGUiLCJVc2VySW5mbyIsInRpdGxlU2VsZWN0b3IiLCJkZXNjcmlwdGlvblNlbGVjdG9yIiwiYXZhdGFyU2VsZWN0b3IiLCJfdGl0bGVFbCIsIl9kZXNjcmlwdGlvbkVsIiwiX2F2YXRhckVsIiwidGl0bGUiLCJkZXNjcmlwdGlvbiIsImF2YXRhciIsIkFwaSIsIl9iYXNlVXJsIiwiX2hlYWRlcnMiLCJhdXRob3JpemF0aW9uIiwicmVzIiwib2siLCJqc29uIiwiUHJvbWlzZSIsInJlamVjdCIsInN0YXR1cyIsImZldGNoIiwiaGVhZGVycyIsInRoZW4iLCJfY2hlY2tSZXNwb25zZSIsImFib3V0IiwibWV0aG9kIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJjYXJkSWQiLCJhdmF0YXJVcmwiLCJ2YXJpYWJsZXMiLCJwcm9maWxlRWRpdEJ1dHRvbiIsInByb2ZpbGVFZGl0TW9kYWwiLCJwcm9maWxlVGl0bGVJbnB1dCIsInByb2ZpbGVEZXNjcmlwdGlvbklucHV0IiwicHJvZmlsZUltYWdlIiwiYWRkTmV3TW9kYWxDYXJkIiwiY2FyZExpc3RFbCIsImFkZE5ld0NhcmRCdXR0b24iLCJkZWxldGVNb2RhbCIsImF2YXRhcklucHV0IiwiYXZhdGFyTW9kYWwiLCJhdmF0YXJNb2RhbEJ1dHRvbiIsImFwaSIsImJhc2VVcmwiLCJ1c2VySW5mbyIsImdldEluaXRpYWxDYXJkcyIsInNlY3Rpb24iLCJjYXJkRGF0YSIsImNyZWF0ZUNhcmQiLCJyZW5kZXJJdGVtcyIsImNvbnNvbGUiLCJsb2ciLCJjYXRjaCIsImVycm9yIiwiY2FyZEZvcm1WYWxpZGF0b3IiLCJlbmFibGVWYWxpZGF0aW9uIiwiZWRpdEZvcm1WYWxpZGF0b3IiLCJhZGRJdGVtIiwic2V0QnV0dG9uVGV4dCIsInVwZGF0ZUF2YXRhciIsInNldEF2YXRhciIsImZpbmFsbHkiLCJjYXJkIiwiaGFuZGxlTGlrZUNsaWNrIiwiZ2V0VmlldyIsInNldEV2ZW50TGlzdGVuZXJzIiwib3BlbiIsImFkZENhcmRQb3B1cCIsInByb2ZpbGVVc2VySW5mbyIsImdldFVzZXJJbmZvIiwicHJvZmlsZUVkaXRGb3JtUG9wdXAiLCJwb3B1cFdpdGhJbWFnZSIsImFkZE5ld0NhcmQiLCJmb3JtRGF0YSIsInNldFVzZXJJbmZvIiwic2V0U3VibWl0QWN0aW9uIiwiZGVsZXRlQ2FyZCIsImhhbmRsZURlbGV0ZSIsInVwZGF0ZUxpa2UiLCJoYW5kbGVMaWtlIiwiY2FyZFNlY3Rpb24iXSwic291cmNlUm9vdCI6IiJ9