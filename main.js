!function(){"use strict";var t={};function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},e(t)}function r(t,r){for(var n=0;n<r.length;n++){var o=r[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,(void 0,i=function(t,r){if("object"!==e(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,"string");if("object"!==e(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(o.key),"symbol"===e(i)?i:String(i)),o)}var i}(function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})})(t);var n=function(){function t(e,r,n){var o=e.name,i=e.link;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._name=o,this._link=i,this._cardSelector=r,this._handleImageClick=n}var e,n;return e=t,(n=[{key:"_setEventListeners",value:function(){var t=this;this._cardElement.querySelector(".card__like-button").addEventListener("click",(function(){t._handleLikeIcon()})),this._cardElement.querySelector(".card__button-remove").addEventListener("click",(function(){t._handleDeleteCard()})),this._cardElement.querySelector(".card__image").addEventListener("click",(function(){t._handleImageClick({name:t._name,link:t._link})}))}},{key:"_handleLikeIcon",value:function(){this._cardElement.querySelector(".card__like-button").classList.toggle("card__like-button_active")}},{key:"_handleDeleteCard",value:function(){this._cardElement.remove(),this._cardElement=null}},{key:"getView",value:function(){var t={link:this._link,name:this._name};this._cardElement=document.querySelector(this._cardSelector).content.querySelector(".card").cloneNode(!0);var e=this._cardElement.querySelector(".card__image");return e.src=this._link,e.alt=this._name,this._cardElement.querySelector(".card__label-title").textContent=t.name,this._setEventListeners(),this._cardElement}}])&&r(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function i(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function a(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,i=function(t,e){if("object"!==o(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===o(i)?i:String(i)),n)}var i}var u=function(){function t(e,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._formEl=e,this._formSelector=r.formSelector,this._inputSelector=r.inputSelector,this._submitButtonSelector=r.submitButtonSelector,this._inactiveButtonClass=r.inactiveButtonClass,this._inputErrorClass=r.inputErrorClass,this._errorClass=r.errorClass}var e,r;return e=t,(r=[{key:"_checkInputValidity",value:function(t){if(!t.validity.valid)return this._showInputError(t);this._hideInputError(t)}},{key:"_showInputError",value:function(t){var e=this._formEl.querySelector("#".concat(t.id,"-error"));t.classList.add(this._inputErrorClass),e.textContent=t.validationMessage,e.classList.add(this._errorClass)}},{key:"_hideInputError",value:function(t){var e=this._formEl.querySelector("#".concat(t.id,"-error"));t.classList.remove(this._inputErrorClass),e.textContent="",e.classList.remove(this._errorClass)}},{key:"_setEventListeners",value:function(){var t,e=this;this._inputEls=function(t){if(Array.isArray(t))return i(t)}(t=this._formEl.querySelectorAll(this._inputSelector))||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return i(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?i(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),this._submitButtons=this._formEl.querySelector(this._submitButtonSelector),this._inputEls.forEach((function(t){t.addEventListener("input",(function(r){e._checkInputValidity(t),e.toggleButtonState()}))}))}},{key:"_hasInvalidInput",value:function(t){return!t.every((function(t){return t.validity.valid}))}},{key:"toggleButtonState",value:function(){if(this._hasInvalidInput(this._inputEls))return this._submitButtons.classList.add(this._inactiveButtonClass),void(this._submitButtons.disabled=!0);this._submitButtons.classList.remove(this._inactiveButtonClass),this._submitButtons.disabled=!1}},{key:"enableValidation",value:function(){this._setEventListeners()}}])&&a(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function l(t){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},l(t)}function c(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==l(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==l(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===l(o)?o:String(o)),n)}var o}var s=function(){function t(e,r){var n=e.items,o=e.renderer;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._items=n,this._renderer=o,this._container=document.querySelector(r)}var e,r;return e=t,(r=[{key:"renderItems",value:function(){var t=this;this._items.forEach((function(e){t._renderer(e)}))}},{key:"addItem",value:function(t){this._container.prepend(t)}}])&&c(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function f(t){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},f(t)}function p(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,y(n.key),n)}}function y(t){var e=function(t,e){if("object"!==f(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==f(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===f(e)?e:String(e)}var d=function(){function t(e){var r,n,o,i=this,a=e.popupSelector;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,o=function(t){"Escape"===t.key&&i.close()},(n=y(n="_handleEscClose"))in r?Object.defineProperty(r,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[n]=o,this._popupElement=document.querySelector(a)}var e,r;return e=t,(r=[{key:"open",value:function(){this._popupElement.classList.add("modal_opened"),document.addEventListener("keydown",this._handleEscClose)}},{key:"close",value:function(){this._popupElement.classList.remove("modal_opened"),document.removeEventListener("keydown",this._handleEscClose)}},{key:"setEventListeners",value:function(){var t=this;this._popupElement.addEventListener("click",(function(e){(e.target===t._popupElement||e.target.classList.contains("modal__close"))&&t.close()}))}}])&&p(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function m(t){return m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},m(t)}function v(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==m(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==m(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===m(o)?o:String(o)),n)}var o}function b(){return b="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=_(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},b.apply(this,arguments)}function h(t,e){return h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},h(t,e)}function _(t){return _=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},_(t)}var S=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&h(t,e)}(a,t);var e,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=_(n);if(o){var r=_(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===m(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function a(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(e=i.call(this,{popupSelector:t}))._popupImage=e._popupElement.querySelector(".modal__image"),e._popupTitle=e._popupElement.querySelector(".modal__preview-title"),e}return e=a,(r=[{key:"open",value:function(t,e){this._popupImage.src=t,this._popupImage.alt=e,this._popupTitle.textContent=e,b(_(a.prototype),"open",this).call(this)}}])&&v(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),a}(d);function g(t){return g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},g(t)}function w(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==g(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==g(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===g(o)?o:String(o)),n)}var o}function E(){return E="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=j(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},E.apply(this,arguments)}function k(t,e){return k=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},k(t,e)}function j(t){return j=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},j(t)}var P=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&k(t,e)}(a,t);var e,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=j(n);if(o){var r=j(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===g(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function a(t,e){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(r=i.call(this,{popupSelector:t}))._handleFormSubmit=e,r._popupForm=r._popupElement.querySelector(".modal__form"),r}return e=a,(r=[{key:"close",value:function(){this._popupForm.reset(),E(j(a.prototype),"close",this).call(this)}},{key:"_getInputValues",value:function(){var t=this._popupForm.querySelectorAll(".modal__input"),e={};return t.forEach((function(t){return e[t.name]=t.value})),e}},{key:"setEventListeners",value:function(){var t=this;this._popupForm.addEventListener("submit",(function(e){e.preventDefault(),t._handleFormSubmit(t._getInputValues())})),E(j(a.prototype),"setEventListeners",this).call(this)}},{key:"getForm",value:function(){return this._popupForm}}])&&w(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),a}(d);function O(t){return O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},O(t)}function C(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==O(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==O(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===O(o)?o:String(o)),n)}var o}var I=function(){function t(e,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._titleEl=document.querySelector(e),this._descriptionEl=document.querySelector(r)}var e,r;return e=t,(r=[{key:"getUserInfo",value:function(){return{title:this._titleEl.textContent,description:this._descriptionEl.textContent}}},{key:"setUserInfo",value:function(t,e){this._titleEl.textContent=t,this._descriptionEl.textContent=e}}])&&C(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function L(t){return L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},L(t)}function q(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==L(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==L(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===L(o)?o:String(o)),n)}var o}var B=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._baseUrl="https://around-api.en.tripleten-services.com/v1",this._headers={authorization:"f00dbe4d-3bcf-40e3-a46f-9e1ed8206bd5","Content-type":"application/json"}}var e,r;return e=t,(r=[{key:"_getResponse",value:function(t){return t.ok?t.json():Promise.reject("Error: ".concat(t.status))}},{key:"getUserInfo",value:function(){return fetch("".concat(this._baseUrl,"/users/me"),{headers:this._headers}).then(this._checkResponse)}},{key:"getInitialCards",value:function(){return fetch("".concat(this._baseUrl,"/cards"),{headers:this._headers}).then(this._checkResponse)}},{key:"getEditProfile",value:function(t,e){return fetch("".concat(this._baseUrl,"/users/me"),{method:"PATCH",headers:this._headers,body:JSON.stringify({name:t,about:e})}).then(this._checkResponse)}},{key:"getNewCard",value:function(t,e){return fetch("".concat(this._baseUrl,"/cards"),{method:"POST",headers:this._headers,body:JSON.stringify({name:t,link:e})})}},{key:"deleteCard",value:function(t){return fetch("".concat(this._baseUrl,"/cards/").concat(t),{method:"DELETE",headers:this._headers}).then(this._checkResponse)}},{key:"changeAvatar",value:function(t){return fetch("".concat(this._baseUrl,"/users/me/avatar"),{method:"PATCH",headers:this._headers,body:JSON.stringify({avatarUrl:t})}).then(this._checkResponse)}}])&&q(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}(),T={formSelector:".modal__form",inputSelector:".modal__input",submitButtonSelector:".modal__button",inactiveButtonClass:"modal__button_disabled",inputErrorClass:"modal__input_type_error",errorClass:"modal__error"},R={profileEditButton:document.querySelector("#profile-edit-button"),profileEditModal:document.querySelector("#profile-edit-modal"),profileTitleInput:document.querySelector("#profile-title-input"),profileDescriptionInput:document.querySelector("#profile-description-input"),profileImage:document.querySelector(".profile__image"),addNewModalCard:document.querySelector("#add-card-form"),cardListEl:document.querySelector(".cards__list"),addNewCardButton:document.querySelector(".profile__plus-button"),deleteModal:document.querySelector("#delete-modal"),avatarInput:document.querySelector("#avatar-url-input"),avatarModal:document.querySelector("#avatar-modal"),avatarModalButton:document.querySelector("#avatar-modal-button")},U=new B({baseUrl:"https://around-api.en.tripleten-services.com/v1",headers:{authorization:"f00dbe4d-3bcf-40e3-a46f-9e1ed8206bd5","Content-Type":"application/json"}}),M=new u(R.addNewModalCard,T);M.enableValidation();var N=new u(profileEditModal.querySelector(".modal__form"),T),x=new I(".profile__title",".profile__description"),A=new s({items:[{name:"Yosemite Valley",link:"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/around-project/yosemite.jpg",alt:"Yosemite Valley"},{name:"Lake Louise",link:"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/around-project/lake-louise.jpg",alt:"Lake Louise"},{name:"Bald Mountains",link:"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/around-project/bald-mountains.jpg",alt:"Bald Mountains"},{name:"Latemar",link:"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/around-project/latemar.jpg",alt:"Latemar"},{name:"Vanoise National Park",link:"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/around-project/vanoise.jpg ",alt:"Vanoise National Park"},{name:"Lago di Braies",link:"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/around-project/lago.jpg  ",alt:"Lago di Braies"}],renderer:function(t){var e=J(t);A.addItem(e)}},".cards__list"),V=new P("#profile-edit-modal",(function(t){x.setUserInfo(t.title,t.description),V.close()})),D=new S("#modal-preview");D.setEventListeners();var z=new P("#add-card-modal",(function(e){F(R.addNewCardButton,"Saving..."),U.addNewCard(e).then((function(t){console.log(t),J(t),R.addNewModalCard.reset(),M.toggleButtonState(),z.close()})).catch(console.error).finally((function(){F(R.addNewCardButton,"Save")})),new t.default(R.deleteModal).setEventListeners()}));function F(t,e){t.textContent=e}function J(t){return new n(t,"#card-template",(function(){D.open(t.link,t.name)})).getView()}A.renderItems(),N.enableValidation(),U.getUserInfo().then((function(t){x.getUserInfo(t.name,t.about)})),U.getInitialCards().then((function(t){t.forEach((function(t){var e=generateCard(t);A.addItem(e)}))})),U.getInitialCards().then((function(t){new s({items:t,renderer:function(t){J(t)}},"gallery__cards").renderItems(),console.log(t)})).catch(console.error),U.loadInfo().then((function(t){console.log(t),x.setUserInfo(t.name,t.about),x.setAvatar(t.avatar)})).catch(console.error),profileEditButton.addEventListener("click",(function(){var t=x.getUserInfo();profileTitleInput.value=t.title,profileDescriptionInput.value=t.description,V.open()})),z.setEventListeners(),V.setEventListeners(),document.querySelector(".profile__plus-button").addEventListener("click",(function(){M.toggleButtonState(),z.open()}))}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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b3RzdHJhcCIsIndlYnBhY2s6Ly9wcmFjdGljdW0vd2VicGFjay9ydW50aW1lL21ha2UgbmFtZXNwYWNlIG9iamVjdCIsIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvY29tcG9uZW50cy9DYXJkLmpzIiwid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanMiLCJ3ZWJwYWNrOi8vcHJhY3RpY3VtLy4vc3JjL2NvbXBvbmVudHMvU2VjdGlvbi5qcyIsIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvY29tcG9uZW50cy9Qb3B1cC5qcyIsIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZS5qcyIsIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzIiwid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy9jb21wb25lbnRzL1VzZXJJbmZvLmpzIiwid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy9jb21wb25lbnRzL0FwaS5qcyIsIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvdXRpbHMvY29uc3RhbnRzLmpzIiwid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy9wYWdlcy9pbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBUaGUgcmVxdWlyZSBzY29wZVxudmFyIF9fd2VicGFja19yZXF1aXJlX18gPSB7fTtcblxuIiwiLy8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuXHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcblx0fVxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xufTsiLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBDYXJkIHtcclxuICAgIGNvbnN0cnVjdG9yKHsgbmFtZSwgbGluayB9LCBjYXJkU2VsZWN0b3IsIGhhbmRsZUltYWdlQ2xpY2spIHtcclxuICAgICAgdGhpcy5fbmFtZSA9IG5hbWU7XHJcbiAgICAgIHRoaXMuX2xpbmsgPSBsaW5rO1xyXG4gICAgICB0aGlzLl9jYXJkU2VsZWN0b3IgPSBjYXJkU2VsZWN0b3I7XHJcbiAgICAgIHRoaXMuX2hhbmRsZUltYWdlQ2xpY2sgPSBoYW5kbGVJbWFnZUNsaWNrO1xyXG4gICAgfVxyXG4gIFxyXG4gICAgX3NldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgICB0aGlzLl9jYXJkRWxlbWVudFxyXG4gICAgICAgIC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2xpa2UtYnV0dG9uXCIpXHJcbiAgICAgICAgLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICAgICAgICB0aGlzLl9oYW5kbGVMaWtlSWNvbigpO1xyXG4gICAgICAgIH0pO1xyXG4gIFxyXG4gICAgICB0aGlzLl9jYXJkRWxlbWVudFxyXG4gICAgICAgIC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2J1dHRvbi1yZW1vdmVcIilcclxuICAgICAgICAuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgICAgICAgIHRoaXMuX2hhbmRsZURlbGV0ZUNhcmQoKTtcclxuICAgICAgICB9KTtcclxuICBcclxuICAgICAgLy8gVXBkYXRlIHRoZSBldmVudCBsaXN0ZW5lciBmb3IgaW1hZ2UgY2xpY2tcclxuICAgICAgdGhpcy5fY2FyZEVsZW1lbnRcclxuICAgICAgICAucXVlcnlTZWxlY3RvcihcIi5jYXJkX19pbWFnZVwiKVxyXG4gICAgICAgIC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgICAgICAgdGhpcy5faGFuZGxlSW1hZ2VDbGljayh7IG5hbWU6IHRoaXMuX25hbWUsIGxpbms6IHRoaXMuX2xpbmsgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgXHJcbiAgICBfaGFuZGxlTGlrZUljb24oKSB7XHJcbiAgICAgIHRoaXMuX2NhcmRFbGVtZW50XHJcbiAgICAgICAgLnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9fbGlrZS1idXR0b25cIilcclxuICAgICAgICAuY2xhc3NMaXN0LnRvZ2dsZShcImNhcmRfX2xpa2UtYnV0dG9uX2FjdGl2ZVwiKTtcclxuICAgIH1cclxuICBcclxuICAgIF9oYW5kbGVEZWxldGVDYXJkKCkge1xyXG4gICAgICB0aGlzLl9jYXJkRWxlbWVudC5yZW1vdmUoKTtcclxuICAgICAgdGhpcy5fY2FyZEVsZW1lbnQgPSBudWxsO1xyXG4gICAgfVxyXG4gIFxyXG4gICAgZ2V0VmlldygpIHtcclxuICAgICAgY29uc3QgY2FyZERhdGEgPSB7IGxpbms6IHRoaXMuX2xpbmssIG5hbWU6IHRoaXMuX25hbWUgfTtcclxuICBcclxuICAgICAgdGhpcy5fY2FyZEVsZW1lbnQgPSBkb2N1bWVudFxyXG4gICAgICAgIC5xdWVyeVNlbGVjdG9yKHRoaXMuX2NhcmRTZWxlY3RvcilcclxuICAgICAgICAuY29udGVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRcIilcclxuICAgICAgICAuY2xvbmVOb2RlKHRydWUpO1xyXG4gIFxyXG4gICAgICBjb25zdCBjYXJkSW1hZ2VFTCA9IHRoaXMuX2NhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9faW1hZ2VcIik7XHJcbiAgICAgIGNhcmRJbWFnZUVMLnNyYyA9IHRoaXMuX2xpbms7XHJcbiAgICAgIGNhcmRJbWFnZUVMLmFsdCA9IHRoaXMuX25hbWU7XHJcbiAgXHJcbiAgICAgIGNvbnN0IGNhcmRUaXRsZUVMID0gdGhpcy5fY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX19sYWJlbC10aXRsZVwiKTtcclxuICAgICAgY2FyZFRpdGxlRUwudGV4dENvbnRlbnQgPSBjYXJkRGF0YS5uYW1lO1xyXG4gIFxyXG4gICAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xyXG4gIFxyXG4gICAgICByZXR1cm4gdGhpcy5fY2FyZEVsZW1lbnQ7XHJcbiAgICB9XHJcbiAgfSIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIEZvcm1WYWxpZGF0b3Ige1xyXG4gICAgY29uc3RydWN0b3IoZm9ybUVsLCB2YWxpZGF0aW9uU2V0dGluZ3MpIHtcclxuICAgICAgdGhpcy5fZm9ybUVsID0gZm9ybUVsO1xyXG4gICAgICB0aGlzLl9mb3JtU2VsZWN0b3IgPSB2YWxpZGF0aW9uU2V0dGluZ3MuZm9ybVNlbGVjdG9yO1xyXG4gICAgICB0aGlzLl9pbnB1dFNlbGVjdG9yID0gdmFsaWRhdGlvblNldHRpbmdzLmlucHV0U2VsZWN0b3I7XHJcbiAgICAgIHRoaXMuX3N1Ym1pdEJ1dHRvblNlbGVjdG9yID0gdmFsaWRhdGlvblNldHRpbmdzLnN1Ym1pdEJ1dHRvblNlbGVjdG9yO1xyXG4gICAgICB0aGlzLl9pbmFjdGl2ZUJ1dHRvbkNsYXNzID0gdmFsaWRhdGlvblNldHRpbmdzLmluYWN0aXZlQnV0dG9uQ2xhc3M7XHJcbiAgICAgIHRoaXMuX2lucHV0RXJyb3JDbGFzcyA9IHZhbGlkYXRpb25TZXR0aW5ncy5pbnB1dEVycm9yQ2xhc3M7XHJcbiAgICAgIHRoaXMuX2Vycm9yQ2xhc3MgPSB2YWxpZGF0aW9uU2V0dGluZ3MuZXJyb3JDbGFzcztcclxuICAgIH1cclxuICBcclxuICAgIF9jaGVja0lucHV0VmFsaWRpdHkoaW5wdXRFbCkge1xyXG4gICAgICBpZiAoIWlucHV0RWwudmFsaWRpdHkudmFsaWQpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fc2hvd0lucHV0RXJyb3IoaW5wdXRFbCk7XHJcbiAgICAgIH1cclxuICAgICAgdGhpcy5faGlkZUlucHV0RXJyb3IoaW5wdXRFbCk7XHJcbiAgICB9XHJcbiAgXHJcbiAgICBfc2hvd0lucHV0RXJyb3IoaW5wdXQpIHtcclxuICAgICAgY29uc3QgZXJyb3JNZXNzYWdlRWwgPSB0aGlzLl9mb3JtRWwucXVlcnlTZWxlY3RvcihgIyR7aW5wdXQuaWR9LWVycm9yYCk7XHJcbiAgICAgIGlucHV0LmNsYXNzTGlzdC5hZGQodGhpcy5faW5wdXRFcnJvckNsYXNzKTtcclxuICAgICAgZXJyb3JNZXNzYWdlRWwudGV4dENvbnRlbnQgPSBpbnB1dC52YWxpZGF0aW9uTWVzc2FnZTtcclxuICAgICAgZXJyb3JNZXNzYWdlRWwuY2xhc3NMaXN0LmFkZCh0aGlzLl9lcnJvckNsYXNzKTtcclxuICAgIH1cclxuICBcclxuICAgIF9oaWRlSW5wdXRFcnJvcihpbnB1dCkge1xyXG4gICAgICBjb25zdCBlcnJvck1lc3NhZ2VFbCA9IHRoaXMuX2Zvcm1FbC5xdWVyeVNlbGVjdG9yKGAjJHtpbnB1dC5pZH0tZXJyb3JgKTtcclxuICAgICAgaW5wdXQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9pbnB1dEVycm9yQ2xhc3MpO1xyXG4gICAgICBlcnJvck1lc3NhZ2VFbC50ZXh0Q29udGVudCA9IFwiXCI7XHJcbiAgICAgIGVycm9yTWVzc2FnZUVsLmNsYXNzTGlzdC5yZW1vdmUodGhpcy5fZXJyb3JDbGFzcyk7XHJcbiAgICB9XHJcbiAgXHJcbiAgICBfc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICAgIHRoaXMuX2lucHV0RWxzID0gWy4uLnRoaXMuX2Zvcm1FbC5xdWVyeVNlbGVjdG9yQWxsKHRoaXMuX2lucHV0U2VsZWN0b3IpXTtcclxuICAgICAgdGhpcy5fc3VibWl0QnV0dG9ucyA9IHRoaXMuX2Zvcm1FbC5xdWVyeVNlbGVjdG9yKFxyXG4gICAgICAgIHRoaXMuX3N1Ym1pdEJ1dHRvblNlbGVjdG9yXHJcbiAgICAgICk7XHJcbiAgXHJcbiAgICAgIHRoaXMuX2lucHV0RWxzLmZvckVhY2goKGlucHV0RWwpID0+IHtcclxuICAgICAgICBpbnB1dEVsLmFkZEV2ZW50TGlzdGVuZXIoXCJpbnB1dFwiLCAoZSkgPT4ge1xyXG4gICAgICAgICAgdGhpcy5fY2hlY2tJbnB1dFZhbGlkaXR5KGlucHV0RWwpO1xyXG4gICAgICAgICAgdGhpcy50b2dnbGVCdXR0b25TdGF0ZSgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuICBcclxuICAgIF9oYXNJbnZhbGlkSW5wdXQoaW5wdXRMaXN0KSB7XHJcbiAgICAgIHJldHVybiAhaW5wdXRMaXN0LmV2ZXJ5KChpbnB1dEVsKSA9PiBpbnB1dEVsLnZhbGlkaXR5LnZhbGlkKTtcclxuICAgIH1cclxuICBcclxuICAgIHRvZ2dsZUJ1dHRvblN0YXRlKCkge1xyXG4gICAgICBpZiAodGhpcy5faGFzSW52YWxpZElucHV0KHRoaXMuX2lucHV0RWxzKSkge1xyXG4gICAgICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbnMuY2xhc3NMaXN0LmFkZCh0aGlzLl9pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcclxuICAgICAgICB0aGlzLl9zdWJtaXRCdXR0b25zLmRpc2FibGVkID0gdHJ1ZTtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuICAgICAgdGhpcy5fc3VibWl0QnV0dG9ucy5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2luYWN0aXZlQnV0dG9uQ2xhc3MpO1xyXG4gICAgICB0aGlzLl9zdWJtaXRCdXR0b25zLmRpc2FibGVkID0gZmFsc2U7XHJcbiAgICB9XHJcbiAgXHJcbiAgICBlbmFibGVWYWxpZGF0aW9uKCkge1xyXG4gICAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xyXG4gICAgfVxyXG4gIH1cclxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2VjdGlvbiB7XHJcbiAgY29uc3RydWN0b3IoeyBpdGVtcywgcmVuZGVyZXIgfSwgY29udGFpbmVyU2VsZWN0b3IpIHtcclxuICAgIHRoaXMuX2l0ZW1zID0gaXRlbXM7XHJcbiAgICB0aGlzLl9yZW5kZXJlciA9IHJlbmRlcmVyO1xyXG4gICAgdGhpcy5fY29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihjb250YWluZXJTZWxlY3Rvcik7XHJcbiAgfVxyXG5cclxuICByZW5kZXJJdGVtcygpIHtcclxuICAgIHRoaXMuX2l0ZW1zLmZvckVhY2goKGRhdGEpID0+IHtcclxuICAgICAgdGhpcy5fcmVuZGVyZXIoZGF0YSk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGFkZEl0ZW0oZWxlbWVudCkge1xyXG4gICAgdGhpcy5fY29udGFpbmVyLnByZXBlbmQoZWxlbWVudCk7XHJcbiAgfVxyXG59IiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXAge1xyXG4gICAgY29uc3RydWN0b3IoeyBwb3B1cFNlbGVjdG9yIH0pICB7XHJcbiAgICB0aGlzLl9wb3B1cEVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHBvcHVwU2VsZWN0b3IpO1xyXG4gICAgfSBcclxuICAgIFxyXG4gICAgb3BlbigpIHtcclxuICAgICAgICAvL29wZW4gcG9wdXBzXHJcbiAgICAgICAgdGhpcy5fcG9wdXBFbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJtb2RhbF9vcGVuZWRcIik7XHJcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgdGhpcy5faGFuZGxlRXNjQ2xvc2UpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgIGNsb3NlKCkge1xyXG4gICAgICAgIC8vY2xvc2UgcG9wdXBzXHJcbiAgICAgICAgICAgIHRoaXMuX3BvcHVwRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKFwibW9kYWxfb3BlbmVkXCIpO1xyXG4gICAgICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCB0aGlzLl9oYW5kbGVFc2NDbG9zZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgX2hhbmRsZUVzY0Nsb3NlID0gKGUpID0+IHtcclxuICAgICAgICAvL2xpc3RlbnMgZm9yIGVzYyBidXR0b25cclxuICAgICAgICAgIGlmIChlLmtleSA9PT0gXCJFc2NhcGVcIikge1xyXG4gICAgICAgICAgICB0aGlzLmNsb3NlKCk7XHJcbiAgICAgICAgICB9ICAgICAgXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICBzZXRFdmVudExpc3RlbmVycygpe1xyXG4gICAgICAgIC8vc2V0cyBsaXN0ZW5lcnNcclxuICAgICAgICB0aGlzLl9wb3B1cEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChldnQpID0+IHtcclxuICAgICAgICAgICAgaWYoXHJcbiAgICAgICAgICAgICAgICBldnQudGFyZ2V0ID09PSB0aGlzLl9wb3B1cEVsZW1lbnQgfHwgZXZ0LnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoXCJtb2RhbF9fY2xvc2VcIilcclxuICAgICAgICAgICAgKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNsb3NlKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbn1cclxuXHJcbiIsImltcG9ydCBQb3B1cCBmcm9tIFwiLi9Qb3B1cC5qc1wiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoSW1hZ2UgZXh0ZW5kcyBQb3B1cCB7XHJcbiAgICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yKSB7XHJcbiAgICAgICAgc3VwZXIoeyBwb3B1cFNlbGVjdG9yIH0pO1xyXG4gICAgICAgIHRoaXMuX3BvcHVwSW1hZ2UgPSB0aGlzLl9wb3B1cEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9faW1hZ2VcIik7XHJcbiAgICAgICAgdGhpcy5fcG9wdXBUaXRsZSA9IHRoaXMuX3BvcHVwRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19wcmV2aWV3LXRpdGxlXCIpO1xyXG4gICAgfVxyXG5cclxuICAgIG9wZW4oIGxpbmssIG5hbWUgKXtcclxuICAgICAgICB0aGlzLl9wb3B1cEltYWdlLnNyYyA9IGxpbms7XHJcbiAgICAgICAgdGhpcy5fcG9wdXBJbWFnZS5hbHQgPSBuYW1lO1xyXG4gICAgICAgIHRoaXMuX3BvcHVwVGl0bGUudGV4dENvbnRlbnQgPSBuYW1lO1xyXG4gICAgICAgIHN1cGVyLm9wZW4oKTtcclxuICAgIH1cclxufSIsImltcG9ydCBQb3B1cCBmcm9tIFwiLi9Qb3B1cC5qc1wiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoRm9ybSBleHRlbmRzIFBvcHVwIHtcclxuICAgIGNvbnN0cnVjdG9yIChwb3B1cFNlbGVjdG9yLCBoYW5kbGVGb3JtU3VibWl0KSB7XHJcbiAgICAgICAgc3VwZXIoeyBwb3B1cFNlbGVjdG9yIH0pO1xyXG4gICAgICAgIHRoaXMuX2hhbmRsZUZvcm1TdWJtaXQgPSBoYW5kbGVGb3JtU3VibWl0O1xyXG4gICAgICAgIHRoaXMuX3BvcHVwRm9ybSA9IHRoaXMuX3BvcHVwRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19mb3JtXCIpXHJcbiAgICB9XHJcblxyXG4gICAgY2xvc2UoKSB7XHJcbiAgICAgICAgdGhpcy5fcG9wdXBGb3JtLnJlc2V0KCk7XHJcbiAgICAgICAgc3VwZXIuY2xvc2UoKTtcclxuICAgIH1cclxuXHJcbiAgICBfZ2V0SW5wdXRWYWx1ZXMoKSB7XHJcbiAgICAgICAgY29uc3QgaW5wdXRzID0gdGhpcy5fcG9wdXBGb3JtLnF1ZXJ5U2VsZWN0b3JBbGwoXCIubW9kYWxfX2lucHV0XCIpO1xyXG4gICAgICAgIGNvbnN0IGlucHV0VmFsdWVzID0ge307XHJcbiAgICAgICAgaW5wdXRzLmZvckVhY2goKGlucHV0KSA9PiBcclxuICAgICAgICAgICAgKGlucHV0VmFsdWVzW2lucHV0Lm5hbWVdID0gaW5wdXQudmFsdWUpKTtcclxuICAgICAgICAgICAgcmV0dXJuIGlucHV0VmFsdWVzO1xyXG4gICAgfVxyXG5cclxuICAgIHNldEV2ZW50TGlzdGVuZXJzKCl7XHJcbiAgICAgICAgdGhpcy5fcG9wdXBGb3JtLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgKGV2dCkgPT4ge1xyXG4gICAgICAgICAgICBldnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgdGhpcy5faGFuZGxlRm9ybVN1Ym1pdCh0aGlzLl9nZXRJbnB1dFZhbHVlcygpKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBzdXBlci5zZXRFdmVudExpc3RlbmVycygpO1xyXG4gICAgfVxyXG5cclxuICAgIGdldEZvcm0oKXtcclxuICAgICAgICByZXR1cm4gdGhpcy5fcG9wdXBGb3JtO1xyXG4gICAgfVxyXG5cclxufVxyXG4iLCJleHBvcnQgY2xhc3MgVXNlckluZm8ge1xyXG4gICAgY29uc3RydWN0b3IodGl0bGVTZWxlY3RvciwgZGVzY3JpcHRpb25TZWxlY3Rvcikge1xyXG4gICAgICAgIHRoaXMuX3RpdGxlRWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRpdGxlU2VsZWN0b3IpO1xyXG4gICAgICAgIHRoaXMuX2Rlc2NyaXB0aW9uRWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGRlc2NyaXB0aW9uU2VsZWN0b3IpO1xyXG4gICAgfVxyXG5cclxuICAgIGdldFVzZXJJbmZvKCkge1xyXG4gICAgICAgIGNvbnN0IHVzZXJJbmZvID0ge1xyXG4gICAgICAgICAgICB0aXRsZTogdGhpcy5fdGl0bGVFbC50ZXh0Q29udGVudCxcclxuICAgICAgICAgICAgZGVzY3JpcHRpb246IHRoaXMuX2Rlc2NyaXB0aW9uRWwudGV4dENvbnRlbnQsXHJcbiAgICAgICAgfTtcclxuICAgICAgICByZXR1cm4gdXNlckluZm87XHJcbiAgICB9XHJcblxyXG4gICAgc2V0VXNlckluZm8odGl0bGUsIGRlc2NyaXB0aW9uKSB7XHJcbiAgICAgICAgdGhpcy5fdGl0bGVFbC50ZXh0Q29udGVudCA9IHRpdGxlO1xyXG4gICAgICAgIHRoaXMuX2Rlc2NyaXB0aW9uRWwudGV4dENvbnRlbnQgPSBkZXNjcmlwdGlvbjtcclxuICAgIH1cclxuXHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IFVzZXJJbmZvOyIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIEFwaSB7XHJcbiAgY29uc3RydWN0b3IoKSB7XHJcbiAgICB0aGlzLl9iYXNlVXJsID0gXCJodHRwczovL2Fyb3VuZC1hcGkuZW4udHJpcGxldGVuLXNlcnZpY2VzLmNvbS92MVwiO1xyXG4gICAgdGhpcy5faGVhZGVycyA9IHtcclxuICAgICAgYXV0aG9yaXphdGlvbjogXCJmMDBkYmU0ZC0zYmNmLTQwZTMtYTQ2Zi05ZTFlZDgyMDZiZDVcIixcclxuICAgICAgXCJDb250ZW50LXR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXHJcbiAgICB9O1xyXG4gIH1cclxuXHJcbiAgX2dldFJlc3BvbnNlKHJlcykge1xyXG4gICAgaWYgKHJlcy5vaykge1xyXG4gICAgICByZXR1cm4gcmVzLmpzb24oKTtcclxuICAgIH1cclxuICAgIHJldHVybiBQcm9taXNlLnJlamVjdChgRXJyb3I6ICR7cmVzLnN0YXR1c31gKTtcclxuICB9XHJcblxyXG4gIC8vIDEgTE9BRElORyBVU0VSIElORk9STUFUSU9OIElOVE8gVEhFIFNFUlZFUlxyXG4gIC8vIEdFVCBodHRwczovL2Fyb3VuZC1hcGkuZW4udHJpcGxldGVuLXNlcnZpY2VzLmNvbS92MS91c2Vycy9tZSBcclxuICBnZXRVc2VySW5mbygpIHtcclxuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS91c2Vycy9tZWAsIHtcclxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgIH0pLnRoZW4odGhpcy5fY2hlY2tSZXNwb25zZSk7XHJcbiAgfVxyXG5cclxuICAvLyAyIExPQURJTkcgQ0FSRFMgRlJPTSBUSEUgU0VSVkVSXHJcbiAgLy8gR0VUIGh0dHBzOi8vYXJvdW5kLWFwaS5lbi50cmlwbGV0ZW4tc2VydmljZXMuY29tL3YxL2NhcmRzIFxyXG4gIC8vIGluaXRpYWwgcmVzcG9uc2Ugd2lsbCBiZSBhbiBlbXB0eSBKU09OIGFycmF5IFtdXHJcbiAgZ2V0SW5pdGlhbENhcmRzKCkge1xyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzYCwge1xyXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgfSkudGhlbih0aGlzLl9jaGVja1Jlc3BvbnNlKTtcclxuICB9XHJcblxyXG4gIC8vIDMgIEVESVRJTkcgVEhFIFBST0ZJTEUgXHJcbiAgLy8gIFBBVENIIGh0dHBzOi8vYXJvdW5kLWFwaS5lbi50cmlwbGV0ZW4tc2VydmljZXMuY29tL3YxL3VzZXJzL21lIFxyXG4gIC8vIEFkZCBDb250ZW50LXR5cGUgYWZ0ZXIgdGhlIGF1dGhvcml6YXRpb24gdG9rZW4gXHJcbiAgLy8gYm9keTogSlNPTi5zdHJpbmdpZnkgKHtOQU1FIGFuZCBBQk9VVH0pIFxyXG4gIGdldEVkaXRQcm9maWxlKG5hbWUsIGFib3V0KSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vdXNlcnMvbWVgLCB7XHJcbiAgICAgIG1ldGhvZDogXCJQQVRDSFwiLFxyXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgbmFtZSwgXHJcbiAgICAgICAgYWJvdXQ6IGFib3V0XHJcbiAgICAgIH0pXHJcbiAgICAgIFxyXG4gICAgfSkudGhlbih0aGlzLl9jaGVja1Jlc3BvbnNlKTtcclxuICB9XHJcbiAgLy8gNCBBRERJTkcgQSBORVcgQ0FSRFxyXG4gIC8vIFBPU1QgaHR0cHM6Ly9hcm91bmQtYXBpLmVuLnRyaXBsZXRlbi1zZXJ2aWNlcy5jb20vdjEvY2FyZHNcclxuICAvLyBib2R5OiBKU09OLnN0cmluZ2lmeSAoe05BTUUgYW5kIExJTkt9KVxyXG4gIGdldE5ld0NhcmQobmFtZSwgbGluaykge1xyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzYCwge1xyXG4gICAgICBtZXRob2Q6IFwiUE9TVFwiLFxyXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSAoe1xyXG4gICAgICAgIG5hbWU6IG5hbWUsXHJcbiAgICAgICAgbGluazogbGlua1xyXG4gICAgICB9KVxyXG4gICAgfSlcclxuXHJcbn1cclxuXHJcbi8vIDUgJiA2IENSRUFUSU5HIEEgTkVXIFBPUFVQIEZPUiBERUxFVElORyBBIENBUkRcclxuICAvLyBzZW5kIERFTEVURSByZXF1ZXN0IFxyXG4gICAgLy8gREVMRVRFIGh0dHBzOi8vYXJvdW5kLWFwaS5lbi50cmlwbGV0ZW4tc2VydmljZXMuY29tL3YxL2NhcmRzL2NhcmRJZCBcclxuICAgIGRlbGV0ZUNhcmQoY2FyZElkKSB7XHJcbiAgICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS9jYXJkcy8ke2NhcmRJZH1gLCB7XHJcbiAgICAgICAgbWV0aG9kOiBcIkRFTEVURVwiLFxyXG4gICAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICAgIH0pLnRoZW4odGhpcy5fY2hlY2tSZXNwb25zZSk7XHJcbiAgICB9XHJcblxyXG4gICAgY2hhbmdlQXZhdGFyKGF2YXRhclVybCkge1xyXG4gICAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vdXNlcnMvbWUvYXZhdGFyYCwge1xyXG4gICAgICAgIG1ldGhvZDogXCJQQVRDSFwiLFxyXG4gICAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyBhdmF0YXJVcmw6IGF2YXRhclVybCB9KSxcclxuICAgICAgfSkudGhlbih0aGlzLl9jaGVja1Jlc3BvbnNlKTtcclxuICAgIH1cclxuICB9XHJcbiAgICAvLyBUaGUgY2FyZElkIGluIHRoZSBVUkwgc2hvdWxkIGJlIHJlcGxhY2VkIHdpdGggdGhlIF9pZCBwYXJhbWV0ZXIgb2YgdGhlIGNhcmQgdG8gYmUgZGVsZXRlZC4gXHJcbiAgICAvLyBUaGUgX2lkIG9mIGVhY2ggY2FyZCBpcyBmb3VuZCBpbiBpdHMgcmVzcGVjdGl2ZSBKU09OOlxyXG4gICAgLy8ge1xyXG4gICAgLy8gICBcImlzTGlrZWRcIjogZmFsc2UsXHJcbiAgICAvLyAgIFwiX2lkXCI6IFwiNWQxZjA2MTFkMzIxZWI0YmRjZDcwN2RkXCIsIC8vIOKAlCBoZXJlIGl0IGlzXHJcbiAgICAvLyAgIC8vIC4uLm90aGVyIGNhcmQgZGF0YVxyXG4gICAgLy8gfVxyXG5cclxuICAgIC8vIFJlcXVlc3QgdG8gZGVsZXRpbmcgY2FyZCBsb29rcyBsaWtlIHRoaXNcclxuICAgIC8vREVMRVRFIGh0dHBzOi8vYXJvdW5kLWFwaS5lbi50cmlwbGV0ZW4tc2VydmljZXMuY29tL3YxL2NhcmRzLzVkMWYwNjExZDMyMWViNGJkY2Q3MDdkZFxyXG4gIFxyXG5cclxuXHJcbiIsIiAgY29uc3QgaW5pdGlhbENhcmRzID0gW1xyXG4gICAge1xyXG4gICAgICBuYW1lOiBcIllvc2VtaXRlIFZhbGxleVwiLFxyXG4gICAgICBsaW5rOiBcImh0dHBzOi8vcHJhY3RpY3VtLWNvbnRlbnQuczMudXMtd2VzdC0xLmFtYXpvbmF3cy5jb20vc29mdHdhcmUtZW5naW5lZXIvYXJvdW5kLXByb2plY3QveW9zZW1pdGUuanBnXCIsXHJcbiAgICAgIGFsdDogXCJZb3NlbWl0ZSBWYWxsZXlcIixcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgIG5hbWU6IFwiTGFrZSBMb3Vpc2VcIixcclxuICAgICAgbGluazogXCJodHRwczovL3ByYWN0aWN1bS1jb250ZW50LnMzLnVzLXdlc3QtMS5hbWF6b25hd3MuY29tL3NvZnR3YXJlLWVuZ2luZWVyL2Fyb3VuZC1wcm9qZWN0L2xha2UtbG91aXNlLmpwZ1wiLFxyXG4gICAgICBhbHQ6IFwiTGFrZSBMb3Vpc2VcIixcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgIG5hbWU6IFwiQmFsZCBNb3VudGFpbnNcIixcclxuICAgICAgbGluazogXCJodHRwczovL3ByYWN0aWN1bS1jb250ZW50LnMzLnVzLXdlc3QtMS5hbWF6b25hd3MuY29tL3NvZnR3YXJlLWVuZ2luZWVyL2Fyb3VuZC1wcm9qZWN0L2JhbGQtbW91bnRhaW5zLmpwZ1wiLFxyXG4gICAgICBhbHQ6IFwiQmFsZCBNb3VudGFpbnNcIixcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgIG5hbWU6IFwiTGF0ZW1hclwiLFxyXG4gICAgICBsaW5rOiBcImh0dHBzOi8vcHJhY3RpY3VtLWNvbnRlbnQuczMudXMtd2VzdC0xLmFtYXpvbmF3cy5jb20vc29mdHdhcmUtZW5naW5lZXIvYXJvdW5kLXByb2plY3QvbGF0ZW1hci5qcGdcIixcclxuICAgICAgYWx0OiBcIkxhdGVtYXJcIixcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgIG5hbWU6IFwiVmFub2lzZSBOYXRpb25hbCBQYXJrXCIsXHJcbiAgICAgIGxpbms6IFwiaHR0cHM6Ly9wcmFjdGljdW0tY29udGVudC5zMy51cy13ZXN0LTEuYW1hem9uYXdzLmNvbS9zb2Z0d2FyZS1lbmdpbmVlci9hcm91bmQtcHJvamVjdC92YW5vaXNlLmpwZyBcIixcclxuICAgICAgYWx0OiBcIlZhbm9pc2UgTmF0aW9uYWwgUGFya1wiLFxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgbmFtZTogXCJMYWdvIGRpIEJyYWllc1wiLFxyXG4gICAgICBsaW5rOiBcImh0dHBzOi8vcHJhY3RpY3VtLWNvbnRlbnQuczMudXMtd2VzdC0xLmFtYXpvbmF3cy5jb20vc29mdHdhcmUtZW5naW5lZXIvYXJvdW5kLXByb2plY3QvbGFnby5qcGcgIFwiLFxyXG4gICAgICBhbHQ6IFwiTGFnbyBkaSBCcmFpZXNcIixcclxuICAgIH0sXHJcbiAgXTtcclxuXHJcbiAgICBjb25zdCB2YWxpZGF0aW9uU2V0dGluZ3MgPSB7XHJcbiAgICBmb3JtU2VsZWN0b3I6IFwiLm1vZGFsX19mb3JtXCIsXHJcbiAgICBpbnB1dFNlbGVjdG9yOiBcIi5tb2RhbF9faW5wdXRcIixcclxuICAgIHN1Ym1pdEJ1dHRvblNlbGVjdG9yOiBcIi5tb2RhbF9fYnV0dG9uXCIsXHJcbiAgICBpbmFjdGl2ZUJ1dHRvbkNsYXNzOiBcIm1vZGFsX19idXR0b25fZGlzYWJsZWRcIixcclxuICAgIGlucHV0RXJyb3JDbGFzczogXCJtb2RhbF9faW5wdXRfdHlwZV9lcnJvclwiLFxyXG4gICAgZXJyb3JDbGFzczogXCJtb2RhbF9fZXJyb3JcIlxyXG4gIH07XHJcblxyXG4gIGNvbnN0IHZhcmlhYmxlcyA9IHtcclxuICAgICAgcHJvZmlsZUVkaXRCdXR0b246IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcHJvZmlsZS1lZGl0LWJ1dHRvblwiKSxcclxuICAgICAgcHJvZmlsZUVkaXRNb2RhbDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNwcm9maWxlLWVkaXQtbW9kYWxcIiksXHJcbiAgICAgIHByb2ZpbGVUaXRsZUlucHV0OiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3Byb2ZpbGUtdGl0bGUtaW5wdXRcIiksXHJcbiAgICAgIHByb2ZpbGVEZXNjcmlwdGlvbklucHV0OiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3Byb2ZpbGUtZGVzY3JpcHRpb24taW5wdXRcIiksXHJcbiAgICAgIHByb2ZpbGVJbWFnZTogZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19pbWFnZVwiKSxcclxuICAgICAgYWRkTmV3TW9kYWxDYXJkOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2FkZC1jYXJkLWZvcm1cIiksXHJcbiAgICAgIGNhcmRMaXN0RWw6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZHNfX2xpc3RcIiksXHJcbiAgICAgIGFkZE5ld0NhcmRCdXR0b246IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fcGx1cy1idXR0b25cIiksXHJcbiAgICAgIGRlbGV0ZU1vZGFsOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2RlbGV0ZS1tb2RhbFwiKSxcclxuICAgICAgYXZhdGFySW5wdXQ6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjYXZhdGFyLXVybC1pbnB1dFwiKSxcclxuICAgICAgYXZhdGFyTW9kYWw6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjYXZhdGFyLW1vZGFsXCIpLFxyXG4gICAgICBhdmF0YXJNb2RhbEJ1dHRvbjogZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNhdmF0YXItbW9kYWwtYnV0dG9uXCIpLFxyXG4gICAgXHJcbiAgICB9XHJcblxyXG5cclxuZXhwb3J0IHtpbml0aWFsQ2FyZHMsIHZhbGlkYXRpb25TZXR0aW5ncywgdmFyaWFibGVzfTsiLCJpbXBvcnQgQ2FyZCBmcm9tIFwiLi4vY29tcG9uZW50cy9DYXJkLmpzXCI7XHJcbmltcG9ydCBGb3JtVmFsaWRhdG9yIGZyb20gXCIuLi9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanNcIjtcclxuaW1wb3J0IFwiLi9pbmRleC5jc3NcIjtcclxuaW1wb3J0IFNlY3Rpb24gZnJvbSBcIi4uL2NvbXBvbmVudHMvU2VjdGlvbi5qc1wiO1xyXG5pbXBvcnQgUG9wdXBXaXRoSW1hZ2UgZnJvbSBcIi4uL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanNcIjtcclxuaW1wb3J0IFBvcHVwV2l0aEZvcm0gZnJvbSBcIi4uL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qc1wiO1xyXG5pbXBvcnQgUG9wdXBXaXRoRGVsZXRlIGZyb20gXCIuLi9jb21wb25lbnRzL1BvcHVwV2l0aERlbGV0ZS5qc1wiO1xyXG5pbXBvcnQgVXNlckluZm8gZnJvbSBcIi4uL2NvbXBvbmVudHMvVXNlckluZm8uanNcIjtcclxuaW1wb3J0IEFwaSBmcm9tIFwiLi4vY29tcG9uZW50cy9BcGkuanNcIjtcclxuaW1wb3J0IHtcclxuICBpbml0aWFsQ2FyZHMsIFxyXG4gIHZhbGlkYXRpb25TZXR0aW5ncywgXHJcbiAgdmFyaWFibGVzfSBmcm9tIFwiLi4vdXRpbHMvY29uc3RhbnRzLmpzXCI7XHJcblxyXG4vL1ZhcmlhYmxlc1xyXG5cclxuY29uc3QgYXBpID0gbmV3IEFwaSh7XHJcbiAgYmFzZVVybDogXCJodHRwczovL2Fyb3VuZC1hcGkuZW4udHJpcGxldGVuLXNlcnZpY2VzLmNvbS92MVwiLFxyXG4gIGhlYWRlcnM6IHtcclxuICAgIGF1dGhvcml6YXRpb246IFwiZjAwZGJlNGQtM2JjZi00MGUzLWE0NmYtOWUxZWQ4MjA2YmQ1XCIsXHJcbiAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIlxyXG4gIH1cclxufSk7IFxyXG5cclxuY29uc3QgY2FyZEZvcm1WYWxpZGF0b3IgPSBuZXcgRm9ybVZhbGlkYXRvcih2YXJpYWJsZXMuYWRkTmV3TW9kYWxDYXJkLCB2YWxpZGF0aW9uU2V0dGluZ3MpO1xyXG5jYXJkRm9ybVZhbGlkYXRvci5lbmFibGVWYWxpZGF0aW9uKCk7XHJcblxyXG5jb25zdCBwcm9maWxlRWRpdEZvcm0gPSBwcm9maWxlRWRpdE1vZGFsLnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2Zvcm1cIik7XHJcbmNvbnN0IGVkaXRGb3JtVmFsaWRhdG9yID0gbmV3IEZvcm1WYWxpZGF0b3IoXHJcbiAgcHJvZmlsZUVkaXRGb3JtLFxyXG4gIHZhbGlkYXRpb25TZXR0aW5nc1xyXG4pO1xyXG5cclxuY29uc3QgdXNlckluZm8gPSBuZXcgVXNlckluZm8oXCIucHJvZmlsZV9fdGl0bGVcIiwgXCIucHJvZmlsZV9fZGVzY3JpcHRpb25cIik7XHJcblxyXG5jb25zdCBjYXJkU2VjdGlvbiA9IG5ldyBTZWN0aW9uKFxyXG4gIHtcclxuICAgIGl0ZW1zOiBpbml0aWFsQ2FyZHMsXHJcbiAgICByZW5kZXJlcjogKGNhcmREYXRhKSA9PiB7XHJcbiAgICAgIGNvbnN0IGNhcmRMaXN0RWwgPSBjcmVhdGVDYXJkKGNhcmREYXRhKTtcclxuICAgICAgY2FyZFNlY3Rpb24uYWRkSXRlbShjYXJkTGlzdEVsKTtcclxuICAgIH0sXHJcbiAgfSxcclxuICBcIi5jYXJkc19fbGlzdFwiXHJcbik7XHJcblxyXG5jb25zdCBwcm9maWxlRWRpdEZvcm1Qb3B1cCA9IG5ldyBQb3B1cFdpdGhGb3JtKFxyXG4gIFwiI3Byb2ZpbGUtZWRpdC1tb2RhbFwiLFxyXG4gIGhhbmRsZVByb2ZpbGVFZGl0Rm9ybVN1Ym1pdFxyXG4pO1xyXG5cclxuY29uc3QgcG9wdXBXaXRoSW1hZ2UgPSBuZXcgUG9wdXBXaXRoSW1hZ2UoXCIjbW9kYWwtcHJldmlld1wiKTtcclxucG9wdXBXaXRoSW1hZ2Uuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuXHJcbmNvbnN0IGFkZENhcmRQb3B1cCA9IG5ldyBQb3B1cFdpdGhGb3JtKFxyXG4gIFwiI2FkZC1jYXJkLW1vZGFsXCIsXHJcbiAgaGFuZGxlQWRkQ2FyZEZvcm1TdWJtaXRcclxuKTtcclxuXHJcbi8vZnVuY3Rpb25zXHJcblxyXG4vLyBmdW5jdGlvbiBjcmVhdGVDYXJkKGNhcmREYXRhKSB7XHJcbi8vICAgY29uc3QgY2FyZCA9IG5ldyBDYXJkKFxyXG4vLyAgICAgY2FyZERhdGEsXHJcbi8vICAgICBcIiNjYXJkLXRlbXBsYXRlXCIsXHJcbi8vICAgICBoYW5kbGVJbWFnZUNsaWNrLFxyXG4vLyAgICAgaGFuZGxlRGVsZXRlQ2xpY2ssXHJcbi8vICAgICBoYW5kbGVMaWtlQ2xpY2tcclxuLy8gICApO1xyXG4vLyAgIHNlY3Rpb24uYWRkSXRlbShjYXJkLmdlbmVyYXRlQ2FyZCgpKTtcclxuLy8gfVxyXG5cclxuZnVuY3Rpb24gc2V0QnV0dG9uVGV4dChidXR0b24sIHRleHQpIHtcclxuICBidXR0b24udGV4dENvbnRlbnQgPSB0ZXh0O1xyXG59XHJcblxyXG5mdW5jdGlvbiBoYW5kbGVBZGRDYXJkRm9ybVN1Ym1pdChpbnB1dFZhbHVlcykge1xyXG4gIHNldEJ1dHRvblRleHQodmFyaWFibGVzLmFkZE5ld0NhcmRCdXR0b24sIFwiU2F2aW5nLi4uXCIpO1xyXG4gIGFwaVxyXG4gICAgLmFkZE5ld0NhcmQoaW5wdXRWYWx1ZXMpXHJcbiAgICAudGhlbigocmVzKSA9PiB7XHJcbiAgICAgIGNvbnNvbGUubG9nKHJlcyk7XHJcbiAgICAgIC8vIGNyZWF0ZSBhIG5ldyBjYXJkXHJcbiAgICAgIGNyZWF0ZUNhcmQocmVzKTtcclxuICAgICAgLy8gcmVuZGVyIGl0XHJcbiAgICAgIHZhcmlhYmxlcy5hZGROZXdNb2RhbENhcmQucmVzZXQoKTtcclxuICAgICAgLy8gdG9nZ2xlIGJ1dHRvbiBzdGF0ZVxyXG4gICAgICBjYXJkRm9ybVZhbGlkYXRvci50b2dnbGVCdXR0b25TdGF0ZSgpO1xyXG4gICAgICAvLyBjbG9zZSBtb2RhbFxyXG4gICAgICBhZGRDYXJkUG9wdXAuY2xvc2UoKTtcclxuICAgIH0pXHJcbiAgICAuY2F0Y2goY29uc29sZS5lcnJvcilcclxuICAgIC5maW5hbGx5KCgpID0+IHtcclxuICAgICAgc2V0QnV0dG9uVGV4dCh2YXJpYWJsZXMuYWRkTmV3Q2FyZEJ1dHRvbiwgXCJTYXZlXCIpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgY29uc3QgZGVsZXRlTW9kYWwgPSBuZXcgUG9wdXBXaXRoRGVsZXRlKHZhcmlhYmxlcy5kZWxldGVNb2RhbCk7XHJcbiAgICBkZWxldGVNb2RhbC5zZXRFdmVudExpc3RlbmVycygpO1xyXG5cclxuZnVuY3Rpb24gaGFuZGxlRGVsZXRlQ2xpY2soY2FyZCkge1xyXG4gIC8vIG9wZW4gdGhlIG1vZGFsXHJcbiAgZGVsZXRlTW9kYWwub3BlbigpO1xyXG4gIC8vIHNldCB0aGUgc3VibWl0IGFjdGlvblxyXG4gIGRlbGV0ZU1vZGFsLnNldFN1Ym1pdEFjdGlvbigoKSA9PiB7XHJcbiAgICBhcGlcclxuICAgICAgLmRlbGV0ZUNhcmQoY2FyZC5faWQpXHJcbiAgICAgIC50aGVuKCgpID0+IHtcclxuICAgICAgICBkZWxldGVNb2RhbC5jbG9zZSgpO1xyXG4gICAgICAgIGNhcmQuaGFuZGxlRGVsZXRlKCk7XHJcbiAgICAgIH0pXHJcbiAgICAgIC5jYXRjaChjb25zb2xlLmVycm9yKTtcclxuICB9KTtcclxufVxyXG59XHJcblxyXG5mdW5jdGlvbiBoYW5kbGVBdmF0YXJGb3JtU3VibWl0KGlucHV0VmFsdWVzKSB7XHJcbiAgc2V0QnV0dG9uVGV4dCh2YXJpYWJsZXMuYXZhdGFyTW9kYWxCdXR0b24sIFwiU2F2aW5nLi4uXCIpO1xyXG4gIGFwaVxyXG4gICAgLnVwZGF0ZUF2YXRhcihpbnB1dFZhbHVlcy5saW5rKVxyXG4gICAgLnRoZW4oKHJlcykgPT4ge1xyXG4gICAgICB1c2VyaW5mby5zZXRBdmF0YXIocmVzLmF2YXRhcik7XHJcbiAgICAgIGNvbnNvbGUubG9nKHJlcyk7XHJcbiAgICAgIGF2YXRhck1vZGFsLmNsb3NlKCk7XHJcbiAgICB9KVxyXG4gICAgLmNhdGNoKGNvbnNvbGUuZXJyb3IpXHJcbiAgICAuZmluYWxseSgoKSA9PiB7XHJcbiAgICAgIHNldEJ1dHRvblRleHQodmFyaWFibGVzLmF2YXRhck1vZGFsQnV0dG9uLCBcIlNhdmVcIik7XHJcbiAgICB9KTtcclxufVxyXG4vLyBmdW5jdGlvbiBoYW5kbGVBZGRDYXJkRm9ybVN1Ym1pdChmb3JtRGF0YSkge1xyXG4vLyAgIGNvbnN0IGNhcmQgPSBjcmVhdGVDYXJkKHsgbmFtZTogZm9ybURhdGEudGl0bGUsIGxpbms6IGZvcm1EYXRhLnVybCB9KTtcclxuLy8gICBjYXJkU2VjdGlvbi5hZGRJdGVtKGNhcmQpO1xyXG4vLyAgIGFkZENhcmRQb3B1cC5jbG9zZSgpO1xyXG4vLyB9XHJcblxyXG5mdW5jdGlvbiBjcmVhdGVDYXJkKGNhcmREYXRhKSB7XHJcbiAgcmV0dXJuIG5ldyBDYXJkKGNhcmREYXRhLCBcIiNjYXJkLXRlbXBsYXRlXCIsICgpID0+IHtcclxuICAgIHBvcHVwV2l0aEltYWdlLm9wZW4oY2FyZERhdGEubGluaywgY2FyZERhdGEubmFtZSk7XHJcbiAgfSkuZ2V0VmlldygpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBoYW5kbGVQcm9maWxlRWRpdEZvcm1TdWJtaXQoZm9ybURhdGEpIHtcclxuICB1c2VySW5mby5zZXRVc2VySW5mbyhmb3JtRGF0YS50aXRsZSwgZm9ybURhdGEuZGVzY3JpcHRpb24pO1xyXG4gIHByb2ZpbGVFZGl0Rm9ybVBvcHVwLmNsb3NlKCk7XHJcbn1cclxuXHJcbmNhcmRTZWN0aW9uLnJlbmRlckl0ZW1zKCk7XHJcblxyXG5lZGl0Rm9ybVZhbGlkYXRvci5lbmFibGVWYWxpZGF0aW9uKCk7XHJcblxyXG5hcGkuZ2V0VXNlckluZm8oKS50aGVuKChVc2VySW5mbykgPT4ge1xyXG4gIHVzZXJJbmZvLmdldFVzZXJJbmZvKFVzZXJJbmZvLm5hbWUsIFVzZXJJbmZvLmFib3V0KTtcclxufSk7XHJcblxyXG5hcGkuZ2V0SW5pdGlhbENhcmRzKCkudGhlbigoY2FyZHMpID0+IHtcclxuICBjYXJkcy5mb3JFYWNoKChjYXJkKSA9PiB7XHJcbiAgICBjb25zdCBjYXJkRWxlbWV0ID0gZ2VuZXJhdGVDYXJkKGNhcmQpO1xyXG4gICAgY2FyZFNlY3Rpb24uYWRkSXRlbShjYXJkRWxlbWV0KTtcclxuICB9KTtcclxufSk7XHJcblxyXG5sZXQgc2VjdGlvbjtcclxuXHJcbmFwaVxyXG4gIC5nZXRJbml0aWFsQ2FyZHMoKVxyXG4gIC50aGVuKChyZXMpID0+IHtcclxuICAgIHNlY3Rpb24gPSBuZXcgU2VjdGlvbihcclxuICAgICAge1xyXG4gICAgICAgIGl0ZW1zOiByZXMsXHJcbiAgICAgICAgcmVuZGVyZXI6IChjYXJkRGF0YSkgPT4ge1xyXG4gICAgICAgICAgY3JlYXRlQ2FyZChjYXJkRGF0YSk7XHJcbiAgICAgICAgfSxcclxuICAgICAgfSxcclxuICAgICAgXCJnYWxsZXJ5X19jYXJkc1wiXHJcbiAgICApO1xyXG4gICAgc2VjdGlvbi5yZW5kZXJJdGVtcygpO1xyXG4gICAgY29uc29sZS5sb2cocmVzKTtcclxuICB9KVxyXG4gIC5jYXRjaChjb25zb2xlLmVycm9yKTtcclxuXHJcbmFwaVxyXG4gIC5sb2FkSW5mbygpXHJcbiAgLnRoZW4oKHJlcykgPT4ge1xyXG4gICAgY29uc29sZS5sb2cocmVzKTtcclxuICAgIHVzZXJJbmZvLnNldFVzZXJJbmZvKHJlcy5uYW1lLCByZXMuYWJvdXQpO1xyXG4gICAgdXNlckluZm8uc2V0QXZhdGFyKHJlcy5hdmF0YXIpO1xyXG4gIH0pXHJcbiAgLmNhdGNoKGNvbnNvbGUuZXJyb3IpO1xyXG5cclxuLy9FdmVudCBMaXN0ZW5lcnNcclxuXHJcbnByb2ZpbGVFZGl0QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgY29uc3QgcHJvZmlsZVVzZXJJbmZvID0gdXNlckluZm8uZ2V0VXNlckluZm8oKTtcclxuICBwcm9maWxlVGl0bGVJbnB1dC52YWx1ZSA9IHByb2ZpbGVVc2VySW5mby50aXRsZTtcclxuICBwcm9maWxlRGVzY3JpcHRpb25JbnB1dC52YWx1ZSA9IHByb2ZpbGVVc2VySW5mby5kZXNjcmlwdGlvbjtcclxuICBwcm9maWxlRWRpdEZvcm1Qb3B1cC5vcGVuKCk7XHJcbn0pO1xyXG5cclxuYWRkQ2FyZFBvcHVwLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcbnByb2ZpbGVFZGl0Rm9ybVBvcHVwLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcblxyXG5kb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX3BsdXMtYnV0dG9uXCIpLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgY2FyZEZvcm1WYWxpZGF0b3IudG9nZ2xlQnV0dG9uU3RhdGUoKTtcclxuICBhZGRDYXJkUG9wdXAub3BlbigpO1xyXG59KTsiXSwibmFtZXMiOlsiZXhwb3J0cyIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJ2YWx1ZSIsIkNhcmQiLCJfcmVmIiwiY2FyZFNlbGVjdG9yIiwiaGFuZGxlSW1hZ2VDbGljayIsIm5hbWUiLCJsaW5rIiwiX2NsYXNzQ2FsbENoZWNrIiwidGhpcyIsIl9uYW1lIiwiX2xpbmsiLCJfY2FyZFNlbGVjdG9yIiwiX2hhbmRsZUltYWdlQ2xpY2siLCJrZXkiLCJfdGhpcyIsIl9jYXJkRWxlbWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJhZGRFdmVudExpc3RlbmVyIiwiX2hhbmRsZUxpa2VJY29uIiwiX2hhbmRsZURlbGV0ZUNhcmQiLCJjbGFzc0xpc3QiLCJ0b2dnbGUiLCJyZW1vdmUiLCJjYXJkRGF0YSIsImRvY3VtZW50IiwiY29udGVudCIsImNsb25lTm9kZSIsImNhcmRJbWFnZUVMIiwic3JjIiwiYWx0IiwidGV4dENvbnRlbnQiLCJfc2V0RXZlbnRMaXN0ZW5lcnMiLCJGb3JtVmFsaWRhdG9yIiwiZm9ybUVsIiwidmFsaWRhdGlvblNldHRpbmdzIiwiX2Zvcm1FbCIsIl9mb3JtU2VsZWN0b3IiLCJmb3JtU2VsZWN0b3IiLCJfaW5wdXRTZWxlY3RvciIsImlucHV0U2VsZWN0b3IiLCJfc3VibWl0QnV0dG9uU2VsZWN0b3IiLCJzdWJtaXRCdXR0b25TZWxlY3RvciIsIl9pbmFjdGl2ZUJ1dHRvbkNsYXNzIiwiaW5hY3RpdmVCdXR0b25DbGFzcyIsIl9pbnB1dEVycm9yQ2xhc3MiLCJpbnB1dEVycm9yQ2xhc3MiLCJfZXJyb3JDbGFzcyIsImVycm9yQ2xhc3MiLCJpbnB1dEVsIiwidmFsaWRpdHkiLCJ2YWxpZCIsIl9zaG93SW5wdXRFcnJvciIsIl9oaWRlSW5wdXRFcnJvciIsImlucHV0IiwiZXJyb3JNZXNzYWdlRWwiLCJjb25jYXQiLCJpZCIsImFkZCIsInZhbGlkYXRpb25NZXNzYWdlIiwiX2lucHV0RWxzIiwicXVlcnlTZWxlY3RvckFsbCIsIl9zdWJtaXRCdXR0b25zIiwiZm9yRWFjaCIsImUiLCJfY2hlY2tJbnB1dFZhbGlkaXR5IiwidG9nZ2xlQnV0dG9uU3RhdGUiLCJpbnB1dExpc3QiLCJldmVyeSIsIl9oYXNJbnZhbGlkSW5wdXQiLCJkaXNhYmxlZCIsIlNlY3Rpb24iLCJjb250YWluZXJTZWxlY3RvciIsIml0ZW1zIiwicmVuZGVyZXIiLCJfaXRlbXMiLCJfcmVuZGVyZXIiLCJfY29udGFpbmVyIiwiZGF0YSIsImVsZW1lbnQiLCJwcmVwZW5kIiwiUG9wdXAiLCJwb3B1cFNlbGVjdG9yIiwiY2xvc2UiLCJfcG9wdXBFbGVtZW50IiwiX2hhbmRsZUVzY0Nsb3NlIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsIl90aGlzMiIsImV2dCIsInRhcmdldCIsImNvbnRhaW5zIiwiUG9wdXBXaXRoSW1hZ2UiLCJfUG9wdXAiLCJfaW5oZXJpdHMiLCJfc3VwZXIiLCJjYWxsIiwiX3BvcHVwSW1hZ2UiLCJfcG9wdXBUaXRsZSIsIl9nZXQiLCJfZ2V0UHJvdG90eXBlT2YiLCJwcm90b3R5cGUiLCJQb3B1cFdpdGhGb3JtIiwiaGFuZGxlRm9ybVN1Ym1pdCIsIl9oYW5kbGVGb3JtU3VibWl0IiwiX3BvcHVwRm9ybSIsInJlc2V0IiwiaW5wdXRzIiwiaW5wdXRWYWx1ZXMiLCJwcmV2ZW50RGVmYXVsdCIsIl9nZXRJbnB1dFZhbHVlcyIsIlVzZXJJbmZvIiwidGl0bGVTZWxlY3RvciIsImRlc2NyaXB0aW9uU2VsZWN0b3IiLCJfdGl0bGVFbCIsIl9kZXNjcmlwdGlvbkVsIiwidGl0bGUiLCJkZXNjcmlwdGlvbiIsIkFwaSIsIl9iYXNlVXJsIiwiX2hlYWRlcnMiLCJhdXRob3JpemF0aW9uIiwicmVzIiwib2siLCJqc29uIiwiUHJvbWlzZSIsInJlamVjdCIsInN0YXR1cyIsImZldGNoIiwiaGVhZGVycyIsInRoZW4iLCJfY2hlY2tSZXNwb25zZSIsImFib3V0IiwibWV0aG9kIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJjYXJkSWQiLCJhdmF0YXJVcmwiLCJ2YXJpYWJsZXMiLCJwcm9maWxlRWRpdEJ1dHRvbiIsInByb2ZpbGVFZGl0TW9kYWwiLCJwcm9maWxlVGl0bGVJbnB1dCIsInByb2ZpbGVEZXNjcmlwdGlvbklucHV0IiwicHJvZmlsZUltYWdlIiwiYWRkTmV3TW9kYWxDYXJkIiwiY2FyZExpc3RFbCIsImFkZE5ld0NhcmRCdXR0b24iLCJkZWxldGVNb2RhbCIsImF2YXRhcklucHV0IiwiYXZhdGFyTW9kYWwiLCJhdmF0YXJNb2RhbEJ1dHRvbiIsImFwaSIsImJhc2VVcmwiLCJjYXJkRm9ybVZhbGlkYXRvciIsImVuYWJsZVZhbGlkYXRpb24iLCJlZGl0Rm9ybVZhbGlkYXRvciIsInVzZXJJbmZvIiwiY2FyZFNlY3Rpb24iLCJjcmVhdGVDYXJkIiwiYWRkSXRlbSIsInByb2ZpbGVFZGl0Rm9ybVBvcHVwIiwiZm9ybURhdGEiLCJzZXRVc2VySW5mbyIsInBvcHVwV2l0aEltYWdlIiwic2V0RXZlbnRMaXN0ZW5lcnMiLCJhZGRDYXJkUG9wdXAiLCJzZXRCdXR0b25UZXh0IiwiYWRkTmV3Q2FyZCIsImNvbnNvbGUiLCJsb2ciLCJjYXRjaCIsImVycm9yIiwiZmluYWxseSIsIlBvcHVwV2l0aERlbGV0ZSIsImJ1dHRvbiIsInRleHQiLCJvcGVuIiwiZ2V0VmlldyIsInJlbmRlckl0ZW1zIiwiZ2V0VXNlckluZm8iLCJnZXRJbml0aWFsQ2FyZHMiLCJjYXJkcyIsImNhcmQiLCJjYXJkRWxlbWV0IiwiZ2VuZXJhdGVDYXJkIiwibG9hZEluZm8iLCJzZXRBdmF0YXIiLCJhdmF0YXIiLCJwcm9maWxlVXNlckluZm8iXSwic291cmNlUm9vdCI6IiJ9