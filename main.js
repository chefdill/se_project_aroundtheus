!function(){"use strict";function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(e)}function e(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,r(o.key),o)}}function r(e){var r=function(e,r){if("object"!==t(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,"string");if("object"!==t(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===t(r)?r:String(r)}var n=function(){function t(e){var n,o,i,a=this,u=e.popupSelector;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,i=function(t){"Escape"===t.key&&a.close()},(o=r(o="_handleEscClose"))in n?Object.defineProperty(n,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[o]=i,console.log(u),this._popupElement=document.querySelector(u)}var n,o;return n=t,(o=[{key:"open",value:function(){this._popupElement.classList.add("modal_opened"),document.addEventListener("keydown",this._handleEscClose)}},{key:"close",value:function(){this._popupElement.classList.remove("modal_opened"),document.removeEventListener("keydown",this._handleEscClose)}},{key:"setEventListeners",value:function(){var t=this;this._popupElement.addEventListener("click",(function(e){(e.target.classList.contains("modal")||e.target.classList.contains("modal__close"))&&t.close()}))}}])&&e(n.prototype,o),Object.defineProperty(n,"prototype",{writable:!1}),t}();function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function i(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function a(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,i=function(t,e){if("object"!==o(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===o(i)?i:String(i)),n)}var i}function u(){return u="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=c(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},u.apply(this,arguments)}function l(t,e){return l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},l(t,e)}function c(t){return c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},c(t)}var s=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&l(t,e)}(p,t);var e,r,n,s,f=(n=p,s=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=c(n);if(s){var r=c(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===o(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function p(t,e){var r,n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,p),(r=f.call(this,{popupSelector:t}))._handleFormSubmit=e,r._popupForm=r._popupElement.querySelector(".modal__form"),r._inputEls=function(t){if(Array.isArray(t))return i(t)}(n=r._popupForm.querySelectorAll(".modal__input"))||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(n)||function(t,e){if(t){if("string"==typeof t)return i(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?i(t,e):void 0}}(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),r}return e=p,(r=[{key:"close",value:function(){this._popupForm.reset(),u(c(p.prototype),"close",this).call(this)}},{key:"_getInputValues",value:function(){var t={};return this._inputEls.forEach((function(e){t[e.name]=e.value})),t}},{key:"setEventListeners",value:function(){var t=this;this._popupForm.addEventListener("submit",(function(e){e.preventDefault(),t._handleFormSubmit(t._getInputValues())})),u(c(p.prototype),"setEventListeners",this).call(this)}},{key:"getForm",value:function(){return this._popupForm}}])&&a(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),p}(n);function f(t){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},f(t)}function p(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==f(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==f(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===f(o)?o:String(o)),n)}var o}function y(){return y="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=m(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},y.apply(this,arguments)}function d(t,e){return d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},d(t,e)}function m(t){return m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},m(t)}var h=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&d(t,e)}(a,t);var e,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=m(n);if(o){var r=m(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===f(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function a(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(e=i.call(this,{popupSelector:t}))._popupImage=e._popupElement.querySelector(".modal__image"),e._popupTitle=e._popupElement.querySelector(".modal__preview-title"),e}return e=a,(r=[{key:"open",value:function(t,e){this._popupImage.src=t,this._popupImage.alt="A photo of ".concat(e),this._popupTitle.textContent="".concat(e),y(m(a.prototype),"open",this).call(this)}}])&&p(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),a}(n);function v(t){return v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},v(t)}function b(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==v(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==v(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===v(o)?o:String(o)),n)}var o}function _(){return _="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=g(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},_.apply(this,arguments)}function S(t,e){return S=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},S(t,e)}function g(t){return g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},g(t)}var E=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&S(t,e)}(a,t);var e,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=g(n);if(o){var r=g(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===v(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function a(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(e=i.call(this,{popupSelector:t}))._formEl=e._popupElement.querySelector(".modal__form"),e}return e=a,(r=[{key:"setEventListeners",value:function(){var t=this;this._formEl.addEventListener("submit",(function(e){e.preventDefault(),t._handleFormSubmit()})),_(g(a.prototype),"setEventListeners",this).call(this)}},{key:"setSubmitAction",value:function(t){this._handleFormSubmit=t}}])&&b(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),a}(n);function w(t){return w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},w(t)}function k(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function j(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==w(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==w(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===w(o)?o:String(o)),n)}var o}var O=function(){function t(e,r){var n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._inputSelector=r.inputSelector,this._submitButtonSelector=r.submitButtonSelector,this._inactiveButtonClass=r.inactiveButtonClass,this._inputErrorClass=r.inputErrorClass,this._errorClass=r.errorClass,this._formEl=e,this._inputEls=function(t){if(Array.isArray(t))return k(t)}(n=this._formEl.querySelectorAll(this._inputSelector))||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(n)||function(t,e){if(t){if("string"==typeof t)return k(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?k(t,e):void 0}}(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),this._submitButtons=this._formEl.querySelector(this._submitButtonSelector)}var e,r;return e=t,(r=[{key:"_checkInputValidity",value:function(t){if(!t.validity.valid)return this._showInputError(t);this._hideInputError(t)}},{key:"_showInputError",value:function(t){var e=this._formEl.querySelector("#".concat(t.id,"-error"));t.classList.add(this._inputErrorClass),e.textContent=t.validationMessage,e.classList.add(this._errorClass)}},{key:"_hideInputError",value:function(t){var e=this._formEl.querySelector("#".concat(t.id,"-error"));t.classList.remove(this._inputErrorClass),e.textContent="",e.classList.remove(this._errorClass)}},{key:"_hasInvalidInput",value:function(t){return!t.every((function(t){return t.validity.valid}))}},{key:"toggleButtonState",value:function(){if(this._hasInvalidInput(this._inputEls))return this._submitButtons.classList.add(this._inactiveButtonClass),void(this._submitButtons.disabled=!0);this._submitButtons.classList.remove(this._inactiveButtonClass),this._submitButtons.disabled=!1}},{key:"_setEventListeners",value:function(){var t=this;this._inputEls.forEach((function(e){e.addEventListener("input",(function(r){t._checkInputValidity(e),t.toggleButtonState()}))}))}},{key:"enableValidation",value:function(){this._formEl.addEventListener("submit",(function(t){t.preventDefault()})),this._setEventListeners()}}])&&j(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}(),P=O;function C(t){return C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},C(t)}function L(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==C(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==C(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===C(o)?o:String(o)),n)}var o}var I=function(){function t(e,r,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._titleEl=document.querySelector(e),this._descriptionEl=document.querySelector(r),this._avatarEl=document.querySelector(n)}var e,r;return e=t,(r=[{key:"getUserInfo",value:function(){return{title:this._titleEl.textContent,description:this._descriptionEl.textContent}}},{key:"setUserInfo",value:function(t,e){this._titleEl.textContent=t,this._descriptionEl.textContent=e}},{key:"setAvatar",value:function(t){this._avatarEl.src=t}}])&&L(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function B(t){return B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},B(t)}function T(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==B(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==B(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===B(o)?o:String(o)),n)}var o}var R=function(){function t(e,r){var n=e.items,o=e.renderer;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._items=n,this._renderer=o,this._container=document.querySelector(r)}var e,r;return e=t,(r=[{key:"renderItems",value:function(){var t=this;this._items.forEach((function(e){t._renderer(e)}))}},{key:"addItem",value:function(t){this._container.prepend(t)}}])&&T(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function q(t){return q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},q(t)}function A(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,U(n.key),n)}}function M(t,e,r){return(e=U(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function U(t){var e=function(t,e){if("object"!==q(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==q(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===q(e)?e:String(e)}var D=function(){function t(e,r,n,o,i){var a=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),M(this,"handleLike",(function(){a._likeButton.classList.toggle("card__like-button_active")})),M(this,"handleDelete",(function(){a._element.remove(),a._element=null})),this._name=e.name,this._link=e.link,this._id=e._id,this._isLiked=e.isLiked,this._handleImageClick=n,this._handleDeleteClick=o,this._handleLikeClick=i,this._cardSelector=r}var e,r;return e=t,(r=[{key:"_getTemplate",value:function(){return document.querySelector(this._cardSelector).content.firstElementChild.cloneNode(!0)}},{key:"isLiked",value:function(){return this._isLiked}},{key:"updateLikeView",value:function(){this._isLiked?this._likeButton.classList.add("card__like-button_active"):this._likeButton.classList.remove("card__like-button_active")}},{key:"_setEventListeners",value:function(){var t=this;this._cardTrash.addEventListener("click",(function(){t._handleDeleteClick(t)})),this._likeButton.addEventListener("click",(function(){t._handleLikeClick(t)})),this._cardImageEl.addEventListener("click",(function(){t._handleImageClick({name:t._name,link:t._link})}))}},{key:"generateCard",value:function(){return this._element=this._getTemplate(),this._likeButton=this._element.querySelector(".card__like-button"),this._removeButton=this._element.querySelector(".card__button-remove"),this._cardImageEl=this._element.querySelector(".card__image"),this._setEventListeners(),this._cardImageEl.src=this._link,this._cardImageEl.alt="Photo of ".concat(this._name),this._element.querySelector(".card__label-title").textContent=this._name,this.updateLikeView(),this._element}}])&&A(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}(),x=D;function F(t){return F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},F(t)}function N(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==F(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==F(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===F(o)?o:String(o)),n)}var o}var V,J=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._headers=e.headers,this.baseUrl=e.baseUrl}var e,r;return e=t,(r=[{key:"_checkResponse",value:function(t){return t.ok?t.json():Promise.reject("Error ".concat(t.status))}},{key:"getInitialCards",value:function(){return fetch(this.baseUrl+"/cards",{headers:this._headers}).then(this._checkResponse)}},{key:"loadInfo",value:function(){return fetch(this.baseUrl+"/users/me",{method:"GET",cohort:"group-42",headers:this._headers}).then(this._checkResponse)}},{key:"editProfile",value:function(t,e){return fetch(this.baseUrl+"/users/me",{method:"PATCH",headers:this._headers,body:JSON.stringify({name:t,about:e})}).then(this._checkResponse)}},{key:"addNewCard",value:function(t){return fetch(this.baseUrl+"/cards",{method:"POST",headers:this._headers,body:JSON.stringify({name:t.name,link:t.link})}).then(this._checkResponse)}},{key:"deleteCard",value:function(t){return fetch(this.baseUrl+"/cards/".concat(t),{method:"DELETE",headers:this._headers,body:JSON.stringify({_id:t})}).then(this._checkResponse)}},{key:"updateLike",value:function(t,e){return fetch(this.baseUrl+"/cards/".concat(t,"/likes"),{method:e?"DELETE":"PUT",headers:this._headers}).then(this._checkResponse)}},{key:"updateAvatar",value:function(t){return fetch(this.baseUrl+"/users/me/avatar",{method:"PATCH",headers:this._headers,body:JSON.stringify({avatar:t})}).then(this._checkResponse)}}])&&N(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}(),H={inputSelector:".modal__input",submitButtonSelector:".modal__button",inactiveButtonClass:"modal__button_disabled",inputErrorClass:"modal__input_type_error",errorClass:"modal__error"},$={profileEditButton:document.querySelector("#profile-edit-button"),profileEditModal:"#profile-edit-modal",profileTitleInput:document.querySelector("#profile-title-input"),profileDescriptionInput:document.querySelector("#profile-description-input"),profileEditForm:document.querySelector("#edit-card-form"),profileAddForm:document.querySelector("#add-card-form"),profileImage:document.querySelector(".profile__image"),addNewModalCard:"#add-card-modal",cardListEl:document.querySelector(".cards__list"),profileAddButton:document.querySelector(".profile__plus-button"),deleteModal:"#delete-card-form",avatarInput:document.querySelector("#avatar-url-input"),avatarModal:"#avatar-modal",avatarModalButton:document.querySelector("#avatar-modal-button"),addModalButton:document.querySelector(".modal__button"),editModalButton:document.querySelector("#edit-button")},z=new J({baseUrl:"https://around-api.en.tripleten-services.com/v1",headers:{authorization:"f00dbe4d-3bcf-40e3-a46f-9e1ed8206bd5","Content-Type":"application/json"}});z.getInitialCards().then((function(t){(V=new R({items:t,renderer:function(t){W(t)}},"cards__list")).renderItems(),console.log(t)})).catch(console.error),z.loadInfo().then((function(t){console.log(t),ot.setUserInfo(t.name,t.about),ot.setAvatar(t.avatar)})).catch(console.error);var G=new h("#modal-preview");function K(t,e){t.textContent=e}function Q(t){G.open(t)}function W(t){var e=new x(t,"#card-template",Q,Y,Z);V.addItem(e.generateCard())}G.setEventListeners();var X=new E($.deleteModal);function Y(t){X.open(),X.setSubmitAction((function(){z.deleteCard(t._id).then((function(){X.close(),t.handleDelete()})).catch(console.error)}))}function Z(t){z.updateLike(t._id,t.isLiked()).then((function(){t.handleLike(),console.log(t)})).catch(console.error)}X.setEventListeners();var tt=new P($.addNewModalCard,H);tt.enableValidation(),new P($.profileEditForm,H).enableValidation(),new P($.avatarModal,H).enableValidation();var et=new s($.profileAddForm,(function(t){K($.addModalButton,"Saving..."),z.addNewCard(t).then((function(t){console.log(t),W(t),$.addNewModalCard.reset(),tt.toggleButtonState(),et.close()})).catch(console.error).finally((function(){K($.addModalButton,"Save")}))}));et.setEventListeners(),$.profileAddButton.addEventListener("click",(function(){et.open()}));var rt=new s($.profileEditModal,(function(t){K($.editModalButton,"Saving..."),z.editProfile(t.name,t.description).then((function(t){ot.setUserInfo(t.name,t.about),console.log(t),rt.close()})).catch(console.error).finally((function(){K($.editModalButton,"Save")}))}));rt.setEventListeners(),$.profileEditButton.addEventListener("click",(function(){var t;t=ot.getUserInfo(),$.nameInput.value=t.name,$.descriptionInput.value=t.description,rt.open()}));var nt=new s($.avatarModal,(function(t){K($.avatarModalButton,"Saving..."),z.updateAvatar(t.link).then((function(t){ot.setAvatar(t.avatar),console.log(t),nt.close()})).catch(console.error).finally((function(){K($.avatarModalButton,"Save")}))}));nt.setEventListeners(),$.profileImage.addEventListener("click",(function(){nt.open()}));var ot=new I(".profile__title",".profile__description",".profile__avatar")}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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SixJQTFEQWdDLEdBQVVYLG9CQUVWckMsRUFBVUMsa0JBQWtCekksaUJBQWlCLFNBQVMsV0FUdEQsSUFDUTBMLElBQU94QixHQUFTeUIsY0FDdEJuRCxFQUFVb0QsVUFBVS9MLE1BQVE2TCxFQUFLakssS0FDakMrRyxFQUFVcUQsaUJBQWlCaE0sTUFBUTZMLEVBQUsvRyxZQUN4QzZHLEdBQVVmLE1BT1osSUFJQSxJQUFNcEIsR0FBYyxJQUFJN0ksRUFDdEJnSSxFQUFVYSxhQWFaLFNBQWdDL0gsR0FDOUJnSixFQUFjOUIsRUFBVWMsa0JBQW1CLGFBQzNDRyxFQUNHcUMsYUFBYXhLLEVBQVlTLE1BQ3pCZ0csTUFBSyxTQUFDUCxHQUNMMEMsR0FBU0UsVUFBVTVDLEVBQUk1QyxRQUN2QnJGLFFBQVFDLElBQUlnSSxHQUNaNkIsR0FBWS9KLE9BQ2QsSUFDQ3lLLE1BQU14SyxRQUFReUssT0FDZHVCLFNBQVEsV0FDUGpCLEVBQWM5QixFQUFVYyxrQkFBbUIsT0FDN0MsR0FDSixJQXZCQUQsR0FBWXdCLG9CQU1ackMsRUFBVU8sYUFBYS9JLGlCQUFpQixTQUFTLFdBSC9DcUosR0FBWW9CLE1BS2QsSUFtQkEsSUFBTVAsR0FBVyxJQUFJL0YsRUFDbkIsa0JBQ0Esd0JBQ0EsbUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvY29tcG9uZW50cy9Qb3B1cC5qcyIsIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzIiwid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzIiwid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aERlbGV0ZS5qcyIsIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzIiwid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy9jb21wb25lbnRzL1VzZXJJbmZvLmpzIiwid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy9jb21wb25lbnRzL1NlY3Rpb24uanMiLCJ3ZWJwYWNrOi8vcHJhY3RpY3VtLy4vc3JjL2NvbXBvbmVudHMvQ2FyZC5qcyIsIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvcGFnZXMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vcHJhY3RpY3VtLy4vc3JjL2NvbXBvbmVudHMvQXBpLmpzIiwid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy91dGlscy9jb25zdGFudHMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXAge1xyXG4gICAgY29uc3RydWN0b3IoeyBwb3B1cFNlbGVjdG9yIH0pICB7XHJcbiAgICAgICAgY29uc29sZS5sb2cocG9wdXBTZWxlY3Rvcik7XHJcbiAgICB0aGlzLl9wb3B1cEVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHBvcHVwU2VsZWN0b3IpO1xyXG4gICAgfSBcclxuICAgIFxyXG4gICAgb3BlbigpIHtcclxuICAgICAgICAvL29wZW4gcG9wdXBzXHJcbiAgICAgICAgdGhpcy5fcG9wdXBFbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJtb2RhbF9vcGVuZWRcIik7XHJcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgdGhpcy5faGFuZGxlRXNjQ2xvc2UpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgIGNsb3NlKCkge1xyXG4gICAgICAgIC8vY2xvc2UgcG9wdXBzXHJcbiAgICAgICAgICAgIHRoaXMuX3BvcHVwRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKFwibW9kYWxfb3BlbmVkXCIpO1xyXG4gICAgICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCB0aGlzLl9oYW5kbGVFc2NDbG9zZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgX2hhbmRsZUVzY0Nsb3NlID0gKGUpID0+IHtcclxuICAgICAgICAvL2xpc3RlbnMgZm9yIGVzYyBidXR0b25cclxuICAgICAgICAgIGlmIChlLmtleSA9PT0gXCJFc2NhcGVcIikge1xyXG4gICAgICAgICAgICB0aGlzLmNsb3NlKCk7XHJcbiAgICAgICAgICB9ICAgICAgXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICBzZXRFdmVudExpc3RlbmVycygpe1xyXG4gICAgICAgIC8vc2V0cyBsaXN0ZW5lcnNcclxuICAgICAgICB0aGlzLl9wb3B1cEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChldnQpID0+e1xyXG4gICAgICAgICAgICBpZiAoXHJcbiAgICAgICAgICAgICAgZXZ0LnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoXCJtb2RhbFwiKSB8fFxyXG4gICAgICAgICAgICAgIGV2dC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKFwibW9kYWxfX2Nsb3NlXCIpXHJcbiAgICAgICAgICAgICkge1xyXG4gICAgICAgICAgICAgIHRoaXMuY2xvc2UoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxufVxyXG5cclxuIiwiaW1wb3J0IFBvcHVwIGZyb20gXCIuL1BvcHVwLmpzXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhGb3JtIGV4dGVuZHMgUG9wdXAge1xyXG4gICAgY29uc3RydWN0b3IgKHBvcHVwU2VsZWN0b3IsIGhhbmRsZUZvcm1TdWJtaXQpIHtcclxuICAgICAgICBzdXBlcih7IHBvcHVwU2VsZWN0b3IgfSk7XHJcbiAgICAgICAgdGhpcy5faGFuZGxlRm9ybVN1Ym1pdCA9IGhhbmRsZUZvcm1TdWJtaXQ7XHJcbiAgICAgICAgdGhpcy5fcG9wdXBGb3JtID0gdGhpcy5fcG9wdXBFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2Zvcm1cIilcclxuICAgICAgICB0aGlzLl9pbnB1dEVscyA9IFsuLi50aGlzLl9wb3B1cEZvcm0ucXVlcnlTZWxlY3RvckFsbChcIi5tb2RhbF9faW5wdXRcIildO1xyXG4gICAgfVxyXG5cclxuICAgIGNsb3NlKCkge1xyXG4gICAgICAgIHRoaXMuX3BvcHVwRm9ybS5yZXNldCgpO1xyXG4gICAgICAgIHN1cGVyLmNsb3NlKCk7XHJcbiAgICB9XHJcblxyXG4gICAgX2dldElucHV0VmFsdWVzKCkge1xyXG4gICAgICAgIGNvbnN0IGlucHV0VmFsdWVzID0ge307XHJcbiAgICAgICAgdGhpcy5faW5wdXRFbHMuZm9yRWFjaCgoaW5wdXRFbCkgPT4ge1xyXG4gICAgICAgICAgaW5wdXRWYWx1ZXNbaW5wdXRFbC5uYW1lXSA9IGlucHV0RWwudmFsdWU7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuIGlucHV0VmFsdWVzO1xyXG4gICAgICB9XHJcblxyXG4gICAgc2V0RXZlbnRMaXN0ZW5lcnMoKXtcclxuICAgICAgICB0aGlzLl9wb3B1cEZvcm0uYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCAoZXZ0KSA9PiB7XHJcbiAgICAgICAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICB0aGlzLl9oYW5kbGVGb3JtU3VibWl0KHRoaXMuX2dldElucHV0VmFsdWVzKCkpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHN1cGVyLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0Rm9ybSgpe1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9wb3B1cEZvcm07XHJcbiAgICB9XHJcblxyXG59XHJcbiIsImltcG9ydCBQb3B1cCBmcm9tIFwiLi9Qb3B1cC5qc1wiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoSW1hZ2UgZXh0ZW5kcyBQb3B1cCB7XHJcbiAgICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yKSB7XHJcbiAgICAgICAgc3VwZXIoeyBwb3B1cFNlbGVjdG9yIH0pO1xyXG4gICAgICAgIHRoaXMuX3BvcHVwSW1hZ2UgPSB0aGlzLl9wb3B1cEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9faW1hZ2VcIik7XHJcbiAgICAgICAgdGhpcy5fcG9wdXBUaXRsZSA9IHRoaXMuX3BvcHVwRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19wcmV2aWV3LXRpdGxlXCIpO1xyXG4gICAgfVxyXG5cclxuICAgIG9wZW4oIGxpbmssIG5hbWUgKXtcclxuICAgICAgICB0aGlzLl9wb3B1cEltYWdlLnNyYyA9IGxpbms7XHJcbiAgICAgICAgdGhpcy5fcG9wdXBJbWFnZS5hbHQgPSBgQSBwaG90byBvZiAke25hbWV9YDtcclxuICAgICAgICB0aGlzLl9wb3B1cFRpdGxlLnRleHRDb250ZW50ID0gYCR7bmFtZX1gO1xyXG4gICAgICAgIHN1cGVyLm9wZW4oKTtcclxuICAgIH1cclxufSIsImltcG9ydCBQb3B1cCBmcm9tIFwiLi9Qb3B1cC5qc1wiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoRGVsZXRlIGV4dGVuZHMgUG9wdXAge1xyXG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IpIHtcclxuICAgIHN1cGVyKHsgcG9wdXBTZWxlY3RvciB9KTtcclxuICAgIHRoaXMuX2Zvcm1FbCA9IHRoaXMuX3BvcHVwRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19mb3JtXCIpO1xyXG4gIH1cclxuXHJcbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICB0aGlzLl9mb3JtRWwuYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCAoZSkgPT4ge1xyXG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgIHRoaXMuX2hhbmRsZUZvcm1TdWJtaXQoKTtcclxuICAgIH0pO1xyXG4gICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuICB9XHJcblxyXG4gIHNldFN1Ym1pdEFjdGlvbihoYW5kbGVGb3JtU3VibWl0KSB7XHJcbiAgICB0aGlzLl9oYW5kbGVGb3JtU3VibWl0ID0gaGFuZGxlRm9ybVN1Ym1pdDtcclxuICB9XHJcbn1cclxuIiwiY2xhc3MgRm9ybVZhbGlkYXRvciB7XHJcbiAgICBjb25zdHJ1Y3RvciggZm9ybVNlbGVjdG9yLCB2YWxpZGF0aW9uU2V0dGluZ3MgKSB7XHJcbiAgICAgIHRoaXMuX2lucHV0U2VsZWN0b3IgPSB2YWxpZGF0aW9uU2V0dGluZ3MuaW5wdXRTZWxlY3RvcjtcclxuICAgICAgdGhpcy5fc3VibWl0QnV0dG9uU2VsZWN0b3IgPSB2YWxpZGF0aW9uU2V0dGluZ3Muc3VibWl0QnV0dG9uU2VsZWN0b3I7XHJcbiAgICAgIHRoaXMuX2luYWN0aXZlQnV0dG9uQ2xhc3MgPSB2YWxpZGF0aW9uU2V0dGluZ3MuaW5hY3RpdmVCdXR0b25DbGFzcztcclxuICAgICAgdGhpcy5faW5wdXRFcnJvckNsYXNzID0gdmFsaWRhdGlvblNldHRpbmdzLmlucHV0RXJyb3JDbGFzcztcclxuICAgICAgdGhpcy5fZXJyb3JDbGFzcyA9IHZhbGlkYXRpb25TZXR0aW5ncy5lcnJvckNsYXNzO1xyXG4gICAgICB0aGlzLl9mb3JtRWwgPSBmb3JtU2VsZWN0b3I7XHJcbiAgICAgIHRoaXMuX2lucHV0RWxzID0gWy4uLnRoaXMuX2Zvcm1FbC5xdWVyeVNlbGVjdG9yQWxsKHRoaXMuX2lucHV0U2VsZWN0b3IpXTtcclxuICAgICAgdGhpcy5fc3VibWl0QnV0dG9ucyA9IHRoaXMuX2Zvcm1FbC5xdWVyeVNlbGVjdG9yKHRoaXMuX3N1Ym1pdEJ1dHRvblNlbGVjdG9yKTtcclxuICAgIH1cclxuICBcclxuICAgIF9jaGVja0lucHV0VmFsaWRpdHkoaW5wdXRFbCkge1xyXG4gICAgICBpZiAoIWlucHV0RWwudmFsaWRpdHkudmFsaWQpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fc2hvd0lucHV0RXJyb3IoaW5wdXRFbCk7XHJcbiAgICAgIH1cclxuICAgICAgdGhpcy5faGlkZUlucHV0RXJyb3IoaW5wdXRFbCk7XHJcbiAgICB9XHJcbiAgXHJcbiAgICBfc2hvd0lucHV0RXJyb3IoaW5wdXQpIHtcclxuICAgICAgY29uc3QgZXJyb3JNZXNzYWdlRWwgPSB0aGlzLl9mb3JtRWwucXVlcnlTZWxlY3RvcihgIyR7aW5wdXQuaWR9LWVycm9yYCk7XHJcbiAgICAgIGlucHV0LmNsYXNzTGlzdC5hZGQodGhpcy5faW5wdXRFcnJvckNsYXNzKTtcclxuICAgICAgZXJyb3JNZXNzYWdlRWwudGV4dENvbnRlbnQgPSBpbnB1dC52YWxpZGF0aW9uTWVzc2FnZTtcclxuICAgICAgZXJyb3JNZXNzYWdlRWwuY2xhc3NMaXN0LmFkZCh0aGlzLl9lcnJvckNsYXNzKTtcclxuICAgIH1cclxuICBcclxuICAgIF9oaWRlSW5wdXRFcnJvcihpbnB1dCkge1xyXG4gICAgICBjb25zdCBlcnJvck1lc3NhZ2VFbCA9IHRoaXMuX2Zvcm1FbC5xdWVyeVNlbGVjdG9yKGAjJHtpbnB1dC5pZH0tZXJyb3JgKTtcclxuICAgICAgaW5wdXQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9pbnB1dEVycm9yQ2xhc3MpO1xyXG4gICAgICBlcnJvck1lc3NhZ2VFbC50ZXh0Q29udGVudCA9IFwiXCI7XHJcbiAgICAgIGVycm9yTWVzc2FnZUVsLmNsYXNzTGlzdC5yZW1vdmUodGhpcy5fZXJyb3JDbGFzcyk7XHJcbiAgICB9XHJcbiAgXHJcbiAgICBfaGFzSW52YWxpZElucHV0KGlucHV0TGlzdCkge1xyXG4gICAgICByZXR1cm4gIWlucHV0TGlzdC5ldmVyeSgoaW5wdXRFbCkgPT4gaW5wdXRFbC52YWxpZGl0eS52YWxpZCk7XHJcbiAgICB9XHJcbiAgXHJcbiAgICB0b2dnbGVCdXR0b25TdGF0ZSgpIHtcclxuICAgICAgaWYgKHRoaXMuX2hhc0ludmFsaWRJbnB1dCh0aGlzLl9pbnB1dEVscykpIHtcclxuICAgICAgICB0aGlzLl9zdWJtaXRCdXR0b25zLmNsYXNzTGlzdC5hZGQodGhpcy5faW5hY3RpdmVCdXR0b25DbGFzcyk7XHJcbiAgICAgICAgdGhpcy5fc3VibWl0QnV0dG9ucy5kaXNhYmxlZCA9IHRydWU7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcbiAgICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbnMuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcclxuICAgICAgdGhpcy5fc3VibWl0QnV0dG9ucy5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIFxyXG4gICAgX3NldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgICB0aGlzLl9pbnB1dEVscy5mb3JFYWNoKChpbnB1dEVsKSA9PiB7XHJcbiAgICAgICAgaW5wdXRFbC5hZGRFdmVudExpc3RlbmVyKFwiaW5wdXRcIiwgKGUpID0+IHtcclxuICAgICAgICAgIHRoaXMuX2NoZWNrSW5wdXRWYWxpZGl0eShpbnB1dEVsKTtcclxuICAgICAgICAgIHRoaXMudG9nZ2xlQnV0dG9uU3RhdGUoKTtcclxuICAgICAgICB9KTtcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgXHJcbiAgICBlbmFibGVWYWxpZGF0aW9uKCkge1xyXG4gICAgICB0aGlzLl9mb3JtRWwuYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCAoZSkgPT4ge1xyXG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgfSk7XHJcbiAgICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKCk7XHJcbiAgICB9XHJcbiAgfVxyXG4gIGV4cG9ydCBkZWZhdWx0IEZvcm1WYWxpZGF0b3I7XHJcblxyXG4iLCJleHBvcnQgY2xhc3MgVXNlckluZm8ge1xyXG4gICAgY29uc3RydWN0b3IodGl0bGVTZWxlY3RvciwgZGVzY3JpcHRpb25TZWxlY3RvciwgYXZhdGFyU2VsZWN0b3IpIHtcclxuICAgICAgICB0aGlzLl90aXRsZUVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0aXRsZVNlbGVjdG9yKTtcclxuICAgICAgICB0aGlzLl9kZXNjcmlwdGlvbkVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihkZXNjcmlwdGlvblNlbGVjdG9yKTtcclxuICAgICAgICB0aGlzLl9hdmF0YXJFbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYXZhdGFyU2VsZWN0b3IpO1xyXG4gICAgfVxyXG5cclxuICAgIGdldFVzZXJJbmZvKCkge1xyXG4gICAgICAgIGNvbnN0IHVzZXJJbmZvID0ge1xyXG4gICAgICAgICAgICB0aXRsZTogdGhpcy5fdGl0bGVFbC50ZXh0Q29udGVudCxcclxuICAgICAgICAgICAgZGVzY3JpcHRpb246IHRoaXMuX2Rlc2NyaXB0aW9uRWwudGV4dENvbnRlbnQsXHJcbiAgICAgICAgfTtcclxuICAgICAgICByZXR1cm4gdXNlckluZm87XHJcbiAgICB9XHJcblxyXG4gICAgc2V0VXNlckluZm8odGl0bGUsIGRlc2NyaXB0aW9uKSB7XHJcbiAgICAgICAgdGhpcy5fdGl0bGVFbC50ZXh0Q29udGVudCA9IHRpdGxlO1xyXG4gICAgICAgIHRoaXMuX2Rlc2NyaXB0aW9uRWwudGV4dENvbnRlbnQgPSBkZXNjcmlwdGlvbjtcclxuICAgIH1cclxuXHJcbiAgICBzZXRBdmF0YXIoYXZhdGFyKSB7XHJcbiAgICAgICAgdGhpcy5fYXZhdGFyRWwuc3JjID0gYXZhdGFyO1xyXG4gICAgfVxyXG5cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgVXNlckluZm87IiwiY2xhc3MgU2VjdGlvbiB7XHJcbiAgY29uc3RydWN0b3IoeyBpdGVtcywgcmVuZGVyZXIgfSwgY29udGFpbmVyU2VsZWN0b3IpIHtcclxuICAgIHRoaXMuX2l0ZW1zID0gaXRlbXM7XHJcbiAgICB0aGlzLl9yZW5kZXJlciA9IHJlbmRlcmVyO1xyXG4gICAgdGhpcy5fY29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihjb250YWluZXJTZWxlY3Rvcik7XHJcbiAgfVxyXG5cclxuICByZW5kZXJJdGVtcygpIHtcclxuICAgIHRoaXMuX2l0ZW1zLmZvckVhY2goKGl0ZW0pID0+IHtcclxuICAgICAgdGhpcy5fcmVuZGVyZXIoaXRlbSk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGFkZEl0ZW0oZWxlbWVudCkge1xyXG4gICAgdGhpcy5fY29udGFpbmVyLnByZXBlbmQoZWxlbWVudCk7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBTZWN0aW9uOyIsImNsYXNzIENhcmQge1xyXG4gIGNvbnN0cnVjdG9yKFxyXG4gICAgZGF0YSxcclxuICAgIGNhcmRTZWxlY3RvcixcclxuICAgIGhhbmRsZUltYWdlQ2xpY2ssXHJcbiAgICBoYW5kbGVEZWxldGVDbGljayxcclxuICAgIGhhbmRsZUxpa2VDbGlja1xyXG4gICkge1xyXG4gICAgdGhpcy5fbmFtZSA9IGRhdGEubmFtZTtcclxuICAgIHRoaXMuX2xpbmsgPSBkYXRhLmxpbms7XHJcbiAgICB0aGlzLl9pZCA9IGRhdGEuX2lkO1xyXG4gICAgdGhpcy5faXNMaWtlZCA9IGRhdGEuaXNMaWtlZDtcclxuICAgIHRoaXMuX2hhbmRsZUltYWdlQ2xpY2sgPSBoYW5kbGVJbWFnZUNsaWNrO1xyXG4gICAgdGhpcy5faGFuZGxlRGVsZXRlQ2xpY2sgPSBoYW5kbGVEZWxldGVDbGljaztcclxuICAgIHRoaXMuX2hhbmRsZUxpa2VDbGljayA9IGhhbmRsZUxpa2VDbGljaztcclxuXHJcbiAgICB0aGlzLl9jYXJkU2VsZWN0b3IgPSBjYXJkU2VsZWN0b3I7XHJcbiAgfVxyXG5cclxuICBfZ2V0VGVtcGxhdGUoKSB7XHJcbiAgICBjb25zdCBjYXJkRWxlbWVudCA9IGRvY3VtZW50XHJcbiAgICAgIC5xdWVyeVNlbGVjdG9yKHRoaXMuX2NhcmRTZWxlY3RvcilcclxuICAgICAgLmNvbnRlbnQuZmlyc3RFbGVtZW50Q2hpbGQuY2xvbmVOb2RlKHRydWUpO1xyXG5cclxuICAgIHJldHVybiBjYXJkRWxlbWVudDtcclxuICB9XHJcblxyXG4gIGlzTGlrZWQoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5faXNMaWtlZDtcclxuICB9XHJcblxyXG4gIGhhbmRsZUxpa2UgPSAoKSA9PiB7XHJcbiAgICB0aGlzLl9saWtlQnV0dG9uLmNsYXNzTGlzdC50b2dnbGUoXCJjYXJkX19saWtlLWJ1dHRvbl9hY3RpdmVcIik7XHJcbiAgfTtcclxuXHJcbiAgaGFuZGxlRGVsZXRlID0gKCkgPT4ge1xyXG4gICAgdGhpcy5fZWxlbWVudC5yZW1vdmUoKTtcclxuICAgIHRoaXMuX2VsZW1lbnQgPSBudWxsO1xyXG4gIH07XHJcblxyXG4gIHVwZGF0ZUxpa2VWaWV3KCkge1xyXG4gICAgaWYgKHRoaXMuX2lzTGlrZWQpIHtcclxuICAgICAgdGhpcy5fbGlrZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKFwiY2FyZF9fbGlrZS1idXR0b25fYWN0aXZlXCIpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5fbGlrZUJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKFwiY2FyZF9fbGlrZS1idXR0b25fYWN0aXZlXCIpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgX3NldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgdGhpcy5fY2FyZFRyYXNoLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICAgIHRoaXMuX2hhbmRsZURlbGV0ZUNsaWNrKHRoaXMpO1xyXG4gICAgfSk7XHJcbiAgICB0aGlzLl9saWtlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICAgIHRoaXMuX2hhbmRsZUxpa2VDbGljayh0aGlzKTtcclxuICAgIH0pO1xyXG4gICAgdGhpcy5fY2FyZEltYWdlRWwuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgICAgdGhpcy5faGFuZGxlSW1hZ2VDbGljayh7IG5hbWU6IHRoaXMuX25hbWUsIGxpbms6IHRoaXMuX2xpbmsgfSk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGdlbmVyYXRlQ2FyZCgpIHtcclxuICAgIHRoaXMuX2VsZW1lbnQgPSB0aGlzLl9nZXRUZW1wbGF0ZSgpO1xyXG4gICAgdGhpcy5fbGlrZUJ1dHRvbiA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX19saWtlLWJ1dHRvblwiKTtcclxuICAgIHRoaXMuX3JlbW92ZUJ1dHRvbiA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX19idXR0b24tcmVtb3ZlXCIpO1xyXG4gICAgdGhpcy5fY2FyZEltYWdlRWwgPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9faW1hZ2VcIik7XHJcblxyXG4gICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuXHJcbiAgICB0aGlzLl9jYXJkSW1hZ2VFbC5zcmMgPSB0aGlzLl9saW5rO1xyXG4gICAgdGhpcy5fY2FyZEltYWdlRWwuYWx0ID0gYFBob3RvIG9mICR7dGhpcy5fbmFtZX1gO1xyXG4gICAgdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2xhYmVsLXRpdGxlXCIpLnRleHRDb250ZW50ID1cclxuICAgICAgdGhpcy5fbmFtZTtcclxuXHJcbiAgICB0aGlzLnVwZGF0ZUxpa2VWaWV3KCk7XHJcblxyXG4gICAgcmV0dXJuIHRoaXMuX2VsZW1lbnQ7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBDYXJkO1xyXG4iLCJpbXBvcnQgUG9wdXBXaXRoRm9ybSBmcm9tIFwiLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzXCI7XHJcbmltcG9ydCBQb3B1cFdpdGhJbWFnZSBmcm9tIFwiLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZS5qc1wiO1xyXG5pbXBvcnQgUG9wdXBXaXRoRGVsZXRlIGZyb20gXCIuLi9jb21wb25lbnRzL1BvcHVwV2l0aERlbGV0ZS5qc1wiO1xyXG5pbXBvcnQgRm9ybVZhbGlkYXRvciBmcm9tIFwiLi4vY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzXCI7XHJcbmltcG9ydCBVc2VySW5mbyBmcm9tIFwiLi4vY29tcG9uZW50cy9Vc2VySW5mby5qc1wiO1xyXG5pbXBvcnQgU2VjdGlvbiBmcm9tIFwiLi4vY29tcG9uZW50cy9TZWN0aW9uLmpzXCI7XHJcbmltcG9ydCBDYXJkIGZyb20gXCIuLi9jb21wb25lbnRzL0NhcmQuanNcIjtcclxuaW1wb3J0IEFwaSBmcm9tIFwiLi4vY29tcG9uZW50cy9BcGkuanNcIjtcclxuaW1wb3J0IFwiLi9pbmRleC5jc3NcIjtcclxuaW1wb3J0IHsgdmFsaWRhdGlvblNldHRpbmdzLCB2YXJpYWJsZXMgfSBmcm9tIFwiLi4vdXRpbHMvY29uc3RhbnRzLmpzXCI7XHJcblxyXG4vLyBBUElcclxuXHJcbmNvbnN0IGFwaSA9IG5ldyBBcGkoe1xyXG4gIGJhc2VVcmw6IFwiaHR0cHM6Ly9hcm91bmQtYXBpLmVuLnRyaXBsZXRlbi1zZXJ2aWNlcy5jb20vdjFcIixcclxuICBoZWFkZXJzOiB7XHJcbiAgICBhdXRob3JpemF0aW9uOiBcImYwMGRiZTRkLTNiY2YtNDBlMy1hNDZmLTllMWVkODIwNmJkNVwiLFxyXG4gICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXHJcbiAgfSxcclxufSk7XHJcblxyXG4vLyBTRUNUSU9OXHJcblxyXG5sZXQgc2VjdGlvbjtcclxuXHJcbmFwaVxyXG4gIC5nZXRJbml0aWFsQ2FyZHMoKVxyXG4gIC50aGVuKChyZXMpID0+IHtcclxuICAgIHNlY3Rpb24gPSBuZXcgU2VjdGlvbihcclxuICAgICAge1xyXG4gICAgICAgIGl0ZW1zOiByZXMsXHJcbiAgICAgICAgcmVuZGVyZXI6IChjYXJkRGF0YSkgPT4ge1xyXG4gICAgICAgICAgY3JlYXRlQ2FyZChjYXJkRGF0YSk7XHJcbiAgICAgICAgfSxcclxuICAgICAgfSxcclxuICAgICAgXCJjYXJkc19fbGlzdFwiXHJcbiAgICApO1xyXG4gICAgc2VjdGlvbi5yZW5kZXJJdGVtcygpO1xyXG4gICAgY29uc29sZS5sb2cocmVzKTtcclxuICB9KVxyXG4gIC5jYXRjaChjb25zb2xlLmVycm9yKTtcclxuXHJcbmFwaVxyXG4gIC5sb2FkSW5mbygpXHJcbiAgLnRoZW4oKHJlcykgPT4ge1xyXG4gICAgY29uc29sZS5sb2cocmVzKTtcclxuICAgIHVzZXJJbmZvLnNldFVzZXJJbmZvKHJlcy5uYW1lLCByZXMuYWJvdXQpO1xyXG4gICAgdXNlckluZm8uc2V0QXZhdGFyKHJlcy5hdmF0YXIpO1xyXG4gIH0pXHJcbiAgLmNhdGNoKGNvbnNvbGUuZXJyb3IpO1xyXG5cclxuLy8gUE9QVVAgV0lUSCBJTUFHRVxyXG5cclxuY29uc3QgcG9wdXBXaXRoSW1hZ2UgPSBuZXcgUG9wdXBXaXRoSW1hZ2UoXHJcbiAgXCIjbW9kYWwtcHJldmlld1wiKTtcclxucG9wdXBXaXRoSW1hZ2Uuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuXHJcbi8vIFNBVkUgQlVUVE9OIFRFWFQgQ0hBTkdFIEZVTkNUSU9OIEZPUiBGT1JNU1xyXG5cclxuZnVuY3Rpb24gc2V0QnV0dG9uVGV4dChidXR0b24sIHRleHQpIHtcclxuICBidXR0b24udGV4dENvbnRlbnQgPSB0ZXh0O1xyXG59XHJcblxyXG4vLyBDQVJEXHJcblxyXG5mdW5jdGlvbiBoYW5kbGVJbWFnZUNsaWNrKGNhcmREYXRhKSB7XHJcbiAgcG9wdXBXaXRoSW1hZ2Uub3BlbihjYXJkRGF0YSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGNyZWF0ZUNhcmQoY2FyZERhdGEpIHtcclxuICBjb25zdCBjYXJkID0gbmV3IENhcmQoXHJcbiAgICBjYXJkRGF0YSxcclxuICAgIFwiI2NhcmQtdGVtcGxhdGVcIixcclxuICAgIGhhbmRsZUltYWdlQ2xpY2ssXHJcbiAgICBoYW5kbGVEZWxldGVDbGljayxcclxuICAgIGhhbmRsZUxpa2VDbGlja1xyXG4gICk7XHJcbiAgc2VjdGlvbi5hZGRJdGVtKGNhcmQuZ2VuZXJhdGVDYXJkKCkpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBoYW5kbGVBZGRDYXJkU3VibWl0KGlucHV0VmFsdWVzKSB7XHJcbiAgc2V0QnV0dG9uVGV4dCh2YXJpYWJsZXMuYWRkTW9kYWxCdXR0b24sIFwiU2F2aW5nLi4uXCIpO1xyXG4gIGFwaVxyXG4gICAgLmFkZE5ld0NhcmQoaW5wdXRWYWx1ZXMpXHJcbiAgICAudGhlbigocmVzKSA9PiB7XHJcbiAgICAgIGNvbnNvbGUubG9nKHJlcyk7XHJcbiAgICAgIC8vIGNyZWF0ZSBhIG5ldyBjYXJkXHJcbiAgICAgIGNyZWF0ZUNhcmQocmVzKTtcclxuICAgICAgLy8gcmVuZGVyIGl0XHJcbiAgICAgIHZhcmlhYmxlcy5hZGROZXdNb2RhbENhcmQucmVzZXQoKTtcclxuICAgICAgLy8gdG9nZ2xlIGJ1dHRvbiBzdGF0ZVxyXG4gICAgICBhZGRGb3JtVmFsaWRhdG9yLnRvZ2dsZUJ1dHRvblN0YXRlKCk7XHJcbiAgICAgIC8vIGNsb3NlIG1vZGFsXHJcbiAgICAgIGFkZFBvcHVwLmNsb3NlKCk7XHJcbiAgICB9KVxyXG4gICAgLmNhdGNoKGNvbnNvbGUuZXJyb3IpXHJcbiAgICAuZmluYWxseSgoKSA9PiB7XHJcbiAgICAgIHNldEJ1dHRvblRleHQodmFyaWFibGVzLmFkZE1vZGFsQnV0dG9uLCBcIlNhdmVcIik7XHJcbiAgICB9KTtcclxufVxyXG5cclxuLy8gSEFORExFIERFTEVURSBNT0RBTFxyXG5cclxuY29uc3QgZGVsZXRlTW9kYWwgPSBuZXcgUG9wdXBXaXRoRGVsZXRlKFxyXG4gIHZhcmlhYmxlcy5kZWxldGVNb2RhbCk7XHJcbmRlbGV0ZU1vZGFsLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcblxyXG5mdW5jdGlvbiBoYW5kbGVEZWxldGVDbGljayhjYXJkKSB7XHJcbiAgLy8gb3BlbiB0aGUgbW9kYWxcclxuICBkZWxldGVNb2RhbC5vcGVuKCk7XHJcbiAgLy8gc2V0IHRoZSBzdWJtaXQgYWN0aW9uXHJcbiAgZGVsZXRlTW9kYWwuc2V0U3VibWl0QWN0aW9uKCgpID0+IHtcclxuICAgIGFwaVxyXG4gICAgICAuZGVsZXRlQ2FyZChjYXJkLl9pZClcclxuICAgICAgLnRoZW4oKCkgPT4ge1xyXG4gICAgICAgIGRlbGV0ZU1vZGFsLmNsb3NlKCk7XHJcbiAgICAgICAgY2FyZC5oYW5kbGVEZWxldGUoKTtcclxuICAgICAgfSlcclxuICAgICAgLmNhdGNoKGNvbnNvbGUuZXJyb3IpO1xyXG4gIH0pO1xyXG59XHJcblxyXG4vLyBDQVJEIExJS0VcclxuXHJcbmZ1bmN0aW9uIGhhbmRsZUxpa2VDbGljayhjYXJkKSB7XHJcbiAgYXBpXHJcbiAgICAudXBkYXRlTGlrZShjYXJkLl9pZCwgY2FyZC5pc0xpa2VkKCkpXHJcbiAgICAudGhlbigoKSA9PiB7XHJcbiAgICAgIGNhcmQuaGFuZGxlTGlrZSgpO1xyXG4gICAgICBjb25zb2xlLmxvZyhjYXJkKTtcclxuICAgIH0pXHJcbiAgICAuY2F0Y2goY29uc29sZS5lcnJvcik7XHJcbn1cclxuXHJcbi8vIEZPUk0gVkFMSURBVE9SXHJcblxyXG5jb25zdCBhZGRGb3JtVmFsaWRhdG9yID0gbmV3IEZvcm1WYWxpZGF0b3IoXHJcbiAgdmFyaWFibGVzLmFkZE5ld01vZGFsQ2FyZCwgXHJcbiAgdmFsaWRhdGlvblNldHRpbmdzKTtcclxuYWRkRm9ybVZhbGlkYXRvci5lbmFibGVWYWxpZGF0aW9uKCk7XHJcblxyXG5jb25zdCBlZGl0Rm9ybVZhbGlkYXRvciA9IG5ldyBGb3JtVmFsaWRhdG9yKFxyXG4gIHZhcmlhYmxlcy5wcm9maWxlRWRpdEZvcm0sIFxyXG4gIHZhbGlkYXRpb25TZXR0aW5ncyk7XHJcbmVkaXRGb3JtVmFsaWRhdG9yLmVuYWJsZVZhbGlkYXRpb24oKTtcclxuXHJcbmNvbnN0IGF2YXRhckZvcm1WYWxpZGF0b3IgPSBuZXcgRm9ybVZhbGlkYXRvcihcclxuICB2YXJpYWJsZXMuYXZhdGFyTW9kYWwsIFxyXG4gIHZhbGlkYXRpb25TZXR0aW5ncyk7XHJcbmF2YXRhckZvcm1WYWxpZGF0b3IuZW5hYmxlVmFsaWRhdGlvbigpO1xyXG5cclxuLy8gQUREIEZPUk1cclxuXHJcbmNvbnN0IGFkZFBvcHVwID0gbmV3IFBvcHVwV2l0aEZvcm0oXHJcbiAgdmFyaWFibGVzLnByb2ZpbGVBZGRGb3JtLCBcclxuICBoYW5kbGVBZGRDYXJkU3VibWl0KTtcclxuXHJcbmZ1bmN0aW9uIG9wZW5BZGRGb3JtKCkge1xyXG4gIGFkZFBvcHVwLm9wZW4oKTtcclxufVxyXG5cclxuYWRkUG9wdXAuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuXHJcbnZhcmlhYmxlcy5wcm9maWxlQWRkQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXHJcbiAgXCJjbGlja1wiLCAoKSA9PiBvcGVuQWRkRm9ybSgpKTtcclxuXHJcbi8vIEVESVQgRk9STVxyXG5cclxuY29uc3QgZWRpdFBvcHVwID0gbmV3IFBvcHVwV2l0aEZvcm0oXHJcbiAgdmFyaWFibGVzLnByb2ZpbGVFZGl0TW9kYWwsXHJcbiAgaGFuZGxlRWRpdEZvcm1TdWJtaXRcclxuKTtcclxuXHJcbmZ1bmN0aW9uIG9wZW5FZGl0Rm9ybSgpIHtcclxuICBjb25zdCB1c2VyID0gdXNlckluZm8uZ2V0VXNlckluZm8oKTtcclxuICB2YXJpYWJsZXMubmFtZUlucHV0LnZhbHVlID0gdXNlci5uYW1lO1xyXG4gIHZhcmlhYmxlcy5kZXNjcmlwdGlvbklucHV0LnZhbHVlID0gdXNlci5kZXNjcmlwdGlvbjtcclxuICBlZGl0UG9wdXAub3BlbigpO1xyXG59XHJcblxyXG5lZGl0UG9wdXAuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuXHJcbnZhcmlhYmxlcy5wcm9maWxlRWRpdEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gIG9wZW5FZGl0Rm9ybSgpO1xyXG59KTtcclxuXHJcbi8vIEFWQVRBUiBGT1JNXHJcblxyXG5jb25zdCBhdmF0YXJNb2RhbCA9IG5ldyBQb3B1cFdpdGhGb3JtKFxyXG4gIHZhcmlhYmxlcy5hdmF0YXJNb2RhbCxcclxuICBoYW5kbGVBdmF0YXJGb3JtU3VibWl0XHJcbik7XHJcbmF2YXRhck1vZGFsLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcblxyXG5mdW5jdGlvbiBvcGVuQXZhdGFyRm9ybSgpIHtcclxuICBhdmF0YXJNb2RhbC5vcGVuKCk7XHJcbn1cclxuXHJcbnZhcmlhYmxlcy5wcm9maWxlSW1hZ2UuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICBvcGVuQXZhdGFyRm9ybSgpO1xyXG59KTtcclxuXHJcbmZ1bmN0aW9uIGhhbmRsZUF2YXRhckZvcm1TdWJtaXQoaW5wdXRWYWx1ZXMpIHtcclxuICBzZXRCdXR0b25UZXh0KHZhcmlhYmxlcy5hdmF0YXJNb2RhbEJ1dHRvbiwgXCJTYXZpbmcuLi5cIik7XHJcbiAgYXBpXHJcbiAgICAudXBkYXRlQXZhdGFyKGlucHV0VmFsdWVzLmxpbmspXHJcbiAgICAudGhlbigocmVzKSA9PiB7XHJcbiAgICAgIHVzZXJJbmZvLnNldEF2YXRhcihyZXMuYXZhdGFyKTtcclxuICAgICAgY29uc29sZS5sb2cocmVzKTtcclxuICAgICAgYXZhdGFyTW9kYWwuY2xvc2UoKTtcclxuICAgIH0pXHJcbiAgICAuY2F0Y2goY29uc29sZS5lcnJvcilcclxuICAgIC5maW5hbGx5KCgpID0+IHtcclxuICAgICAgc2V0QnV0dG9uVGV4dCh2YXJpYWJsZXMuYXZhdGFyTW9kYWxCdXR0b24sIFwiU2F2ZVwiKTtcclxuICAgIH0pO1xyXG59XHJcblxyXG4vLyBVU0VSIElORk9cclxuXHJcbmNvbnN0IHVzZXJJbmZvID0gbmV3IFVzZXJJbmZvKFxyXG4gIFwiLnByb2ZpbGVfX3RpdGxlXCIsXHJcbiAgXCIucHJvZmlsZV9fZGVzY3JpcHRpb25cIixcclxuICBcIi5wcm9maWxlX19hdmF0YXJcIlxyXG4pO1xyXG5cclxuZnVuY3Rpb24gaGFuZGxlRWRpdEZvcm1TdWJtaXQoaW5wdXRWYWx1ZXMpIHtcclxuICBzZXRCdXR0b25UZXh0KHZhcmlhYmxlcy5lZGl0TW9kYWxCdXR0b24sIFwiU2F2aW5nLi4uXCIpO1xyXG4gIGFwaVxyXG4gICAgLmVkaXRQcm9maWxlKGlucHV0VmFsdWVzLm5hbWUsIGlucHV0VmFsdWVzLmRlc2NyaXB0aW9uKVxyXG4gICAgLnRoZW4oKHJlcykgPT4ge1xyXG4gICAgICB1c2VySW5mby5zZXRVc2VySW5mbyhyZXMubmFtZSwgcmVzLmFib3V0KTtcclxuICAgICAgY29uc29sZS5sb2cocmVzKTtcclxuICAgICAgZWRpdFBvcHVwLmNsb3NlKCk7XHJcbiAgICB9KVxyXG4gICAgLmNhdGNoKGNvbnNvbGUuZXJyb3IpXHJcbiAgICAuZmluYWxseSgoKSA9PiB7XHJcbiAgICAgIHNldEJ1dHRvblRleHQodmFyaWFibGVzLmVkaXRNb2RhbEJ1dHRvbiwgXCJTYXZlXCIpO1xyXG4gICAgfSk7XHJcbn1cclxuXHJcbiIsImNsYXNzIEFwaSB7XHJcbiAgY29uc3RydWN0b3Iob3B0aW9ucykge1xyXG4gICAgLy8gY29uc3RydWN0b3IgYm9keVxyXG4gICAgdGhpcy5faGVhZGVycyA9IG9wdGlvbnMuaGVhZGVycztcclxuICAgIHRoaXMuYmFzZVVybCA9IG9wdGlvbnMuYmFzZVVybDtcclxuICB9XHJcblxyXG4gIF9jaGVja1Jlc3BvbnNlKHJlcykge1xyXG4gICAgaWYgKHJlcy5vaykge1xyXG4gICAgICByZXR1cm4gcmVzLmpzb24oKTtcclxuICAgIH1cclxuICAgIHJldHVybiBQcm9taXNlLnJlamVjdChgRXJyb3IgJHtyZXMuc3RhdHVzfWApO1xyXG4gIH1cclxuXHJcbiAgZ2V0SW5pdGlhbENhcmRzKCkge1xyXG4gICAgcmV0dXJuIGZldGNoKHRoaXMuYmFzZVVybCArIFwiL2NhcmRzXCIsIHtcclxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgIH0pLnRoZW4odGhpcy5fY2hlY2tSZXNwb25zZSk7XHJcbiAgfVxyXG5cclxuICAvLyBvdGhlciBtZXRob2RzIGZvciB3b3JraW5nIHdpdGggdGhlIEFQSVxyXG5cclxuICBsb2FkSW5mbygpIHtcclxuICAgIHJldHVybiBmZXRjaCh0aGlzLmJhc2VVcmwgKyBcIi91c2Vycy9tZVwiLCB7XHJcbiAgICAgIG1ldGhvZDogXCJHRVRcIixcclxuICAgICAgY29ob3J0OiBcImdyb3VwLTQyXCIsXHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICB9KS50aGVuKHRoaXMuX2NoZWNrUmVzcG9uc2UpO1xyXG4gIH1cclxuXHJcbiAgZWRpdFByb2ZpbGUobmFtZSwgYWJvdXQpIHtcclxuICAgIHJldHVybiBmZXRjaCh0aGlzLmJhc2VVcmwgKyBcIi91c2Vycy9tZVwiLCB7XHJcbiAgICAgIG1ldGhvZDogXCJQQVRDSFwiLFxyXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgbmFtZTogbmFtZSxcclxuICAgICAgICBhYm91dDogYWJvdXQsXHJcbiAgICAgIH0pLFxyXG4gICAgfSkudGhlbih0aGlzLl9jaGVja1Jlc3BvbnNlKTtcclxuICB9XHJcblxyXG4gIC8vIHBhc3MgbmFtZSBhbmQgbGluayBhcyBhcmd1bWVudFxyXG4gIGFkZE5ld0NhcmQoZGF0YSkge1xyXG4gICAgcmV0dXJuIGZldGNoKHRoaXMuYmFzZVVybCArIFwiL2NhcmRzXCIsIHtcclxuICAgICAgbWV0aG9kOiBcIlBPU1RcIixcclxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xyXG4gICAgICAgIG5hbWU6IGRhdGEubmFtZSxcclxuICAgICAgICBsaW5rOiBkYXRhLmxpbmssXHJcbiAgICAgIH0pLFxyXG4gICAgfSkudGhlbih0aGlzLl9jaGVja1Jlc3BvbnNlKTtcclxuICB9XHJcblxyXG4gIGRlbGV0ZUNhcmQoY2FyZElkKSB7XHJcbiAgICByZXR1cm4gZmV0Y2godGhpcy5iYXNlVXJsICsgYC9jYXJkcy8ke2NhcmRJZH1gLCB7XHJcbiAgICAgIG1ldGhvZDogXCJERUxFVEVcIixcclxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xyXG4gICAgICAgIF9pZDogY2FyZElkLFxyXG4gICAgICB9KSxcclxuICAgIH0pLnRoZW4odGhpcy5fY2hlY2tSZXNwb25zZSk7XHJcbiAgfVxyXG5cclxuICB1cGRhdGVMaWtlKGNhcmRJZCwgaXNMaWtlZCkge1xyXG4gICAgcmV0dXJuIGZldGNoKHRoaXMuYmFzZVVybCArIGAvY2FyZHMvJHtjYXJkSWR9L2xpa2VzYCwge1xyXG4gICAgICBtZXRob2Q6IGlzTGlrZWQgPyBcIkRFTEVURVwiIDogXCJQVVRcIixcclxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgIH0pLnRoZW4odGhpcy5fY2hlY2tSZXNwb25zZSk7XHJcbiAgfVxyXG5cclxuICB1cGRhdGVBdmF0YXIoYXZhdGFyKSB7XHJcbiAgICByZXR1cm4gZmV0Y2godGhpcy5iYXNlVXJsICsgXCIvdXNlcnMvbWUvYXZhdGFyXCIsIHtcclxuICAgICAgbWV0aG9kOiBcIlBBVENIXCIsXHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICBhdmF0YXI6IGF2YXRhcixcclxuICAgICAgfSksXHJcbiAgICB9KS50aGVuKHRoaXMuX2NoZWNrUmVzcG9uc2UpO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgQXBpOyIsIiAgY29uc3QgaW5pdGlhbENhcmRzID0gW1xyXG4gICAge1xyXG4gICAgICBuYW1lOiBcIllvc2VtaXRlIFZhbGxleVwiLFxyXG4gICAgICBsaW5rOiBcImh0dHBzOi8vcHJhY3RpY3VtLWNvbnRlbnQuczMudXMtd2VzdC0xLmFtYXpvbmF3cy5jb20vc29mdHdhcmUtZW5naW5lZXIvYXJvdW5kLXByb2plY3QveW9zZW1pdGUuanBnXCIsXHJcbiAgICAgIGFsdDogXCJZb3NlbWl0ZSBWYWxsZXlcIixcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgIG5hbWU6IFwiTGFrZSBMb3Vpc2VcIixcclxuICAgICAgbGluazogXCJodHRwczovL3ByYWN0aWN1bS1jb250ZW50LnMzLnVzLXdlc3QtMS5hbWF6b25hd3MuY29tL3NvZnR3YXJlLWVuZ2luZWVyL2Fyb3VuZC1wcm9qZWN0L2xha2UtbG91aXNlLmpwZ1wiLFxyXG4gICAgICBhbHQ6IFwiTGFrZSBMb3Vpc2VcIixcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgIG5hbWU6IFwiQmFsZCBNb3VudGFpbnNcIixcclxuICAgICAgbGluazogXCJodHRwczovL3ByYWN0aWN1bS1jb250ZW50LnMzLnVzLXdlc3QtMS5hbWF6b25hd3MuY29tL3NvZnR3YXJlLWVuZ2luZWVyL2Fyb3VuZC1wcm9qZWN0L2JhbGQtbW91bnRhaW5zLmpwZ1wiLFxyXG4gICAgICBhbHQ6IFwiQmFsZCBNb3VudGFpbnNcIixcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgIG5hbWU6IFwiTGF0ZW1hclwiLFxyXG4gICAgICBsaW5rOiBcImh0dHBzOi8vcHJhY3RpY3VtLWNvbnRlbnQuczMudXMtd2VzdC0xLmFtYXpvbmF3cy5jb20vc29mdHdhcmUtZW5naW5lZXIvYXJvdW5kLXByb2plY3QvbGF0ZW1hci5qcGdcIixcclxuICAgICAgYWx0OiBcIkxhdGVtYXJcIixcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgIG5hbWU6IFwiVmFub2lzZSBOYXRpb25hbCBQYXJrXCIsXHJcbiAgICAgIGxpbms6IFwiaHR0cHM6Ly9wcmFjdGljdW0tY29udGVudC5zMy51cy13ZXN0LTEuYW1hem9uYXdzLmNvbS9zb2Z0d2FyZS1lbmdpbmVlci9hcm91bmQtcHJvamVjdC92YW5vaXNlLmpwZyBcIixcclxuICAgICAgYWx0OiBcIlZhbm9pc2UgTmF0aW9uYWwgUGFya1wiLFxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgbmFtZTogXCJMYWdvIGRpIEJyYWllc1wiLFxyXG4gICAgICBsaW5rOiBcImh0dHBzOi8vcHJhY3RpY3VtLWNvbnRlbnQuczMudXMtd2VzdC0xLmFtYXpvbmF3cy5jb20vc29mdHdhcmUtZW5naW5lZXIvYXJvdW5kLXByb2plY3QvbGFnby5qcGcgIFwiLFxyXG4gICAgICBhbHQ6IFwiTGFnbyBkaSBCcmFpZXNcIixcclxuICAgIH0sXHJcbiAgXTtcclxuXHJcbiAgICBjb25zdCB2YWxpZGF0aW9uU2V0dGluZ3MgPSB7XHJcbiAgICAvLyBmb3JtU2VsZWN0b3I6IFwiLm1vZGFsX19mb3JtXCIsXHJcbiAgICBpbnB1dFNlbGVjdG9yOiBcIi5tb2RhbF9faW5wdXRcIixcclxuICAgIHN1Ym1pdEJ1dHRvblNlbGVjdG9yOiBcIi5tb2RhbF9fYnV0dG9uXCIsXHJcbiAgICBpbmFjdGl2ZUJ1dHRvbkNsYXNzOiBcIm1vZGFsX19idXR0b25fZGlzYWJsZWRcIixcclxuICAgIGlucHV0RXJyb3JDbGFzczogXCJtb2RhbF9faW5wdXRfdHlwZV9lcnJvclwiLFxyXG4gICAgZXJyb3JDbGFzczogXCJtb2RhbF9fZXJyb3JcIlxyXG4gIH07XHJcblxyXG4gIGNvbnN0IHZhcmlhYmxlcyA9IHtcclxuICAgICAgcHJvZmlsZUVkaXRCdXR0b246IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcHJvZmlsZS1lZGl0LWJ1dHRvblwiKSxcclxuICAgICAgcHJvZmlsZUVkaXRNb2RhbDogXCIjcHJvZmlsZS1lZGl0LW1vZGFsXCIsXHJcbiAgICAgIHByb2ZpbGVUaXRsZUlucHV0OiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3Byb2ZpbGUtdGl0bGUtaW5wdXRcIiksXHJcbiAgICAgIHByb2ZpbGVEZXNjcmlwdGlvbklucHV0OiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3Byb2ZpbGUtZGVzY3JpcHRpb24taW5wdXRcIiksXHJcbiAgICAgIHByb2ZpbGVFZGl0Rm9ybTogZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNlZGl0LWNhcmQtZm9ybVwiKSxcclxuICAgICAgcHJvZmlsZUFkZEZvcm06IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjYWRkLWNhcmQtZm9ybVwiKSxcclxuICAgICAgcHJvZmlsZUltYWdlOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2ltYWdlXCIpLFxyXG4gICAgICBhZGROZXdNb2RhbENhcmQ6IFwiI2FkZC1jYXJkLW1vZGFsXCIsXHJcbiAgICAgIGNhcmRMaXN0RWw6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZHNfX2xpc3RcIiksXHJcbiAgICAgIHByb2ZpbGVBZGRCdXR0b246IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fcGx1cy1idXR0b25cIiksXHJcbiAgICAgIGRlbGV0ZU1vZGFsOiBcIiNkZWxldGUtY2FyZC1mb3JtXCIsXHJcbiAgICAgIGF2YXRhcklucHV0OiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2F2YXRhci11cmwtaW5wdXRcIiksXHJcbiAgICAgIGF2YXRhck1vZGFsOiBcIiNhdmF0YXItbW9kYWxcIixcclxuICAgICAgYXZhdGFyTW9kYWxCdXR0b246IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjYXZhdGFyLW1vZGFsLWJ1dHRvblwiKSxcclxuICAgICAgYWRkTW9kYWxCdXR0b246IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2J1dHRvblwiKSxcclxuICAgICAgZWRpdE1vZGFsQnV0dG9uOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2VkaXQtYnV0dG9uXCIpLFxyXG4gICAgfVxyXG5cclxuXHJcbmV4cG9ydCB7aW5pdGlhbENhcmRzLCB2YWxpZGF0aW9uU2V0dGluZ3MsIHZhcmlhYmxlc307XHJcblxyXG4iXSwibmFtZXMiOlsiUG9wdXAiLCJfcmVmIiwiX3RoaXMiLCJwb3B1cFNlbGVjdG9yIiwiX2NsYXNzQ2FsbENoZWNrIiwiZSIsImtleSIsImNsb3NlIiwiY29uc29sZSIsImxvZyIsInRoaXMiLCJfcG9wdXBFbGVtZW50IiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwidmFsdWUiLCJjbGFzc0xpc3QiLCJhZGQiLCJhZGRFdmVudExpc3RlbmVyIiwiX2hhbmRsZUVzY0Nsb3NlIiwicmVtb3ZlIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsIl90aGlzMiIsImV2dCIsInRhcmdldCIsImNvbnRhaW5zIiwiUG9wdXBXaXRoRm9ybSIsIl9Qb3B1cCIsIl9pbmhlcml0cyIsIl9zdXBlciIsImhhbmRsZUZvcm1TdWJtaXQiLCJjYWxsIiwiX2hhbmRsZUZvcm1TdWJtaXQiLCJfcG9wdXBGb3JtIiwiX2lucHV0RWxzIiwicXVlcnlTZWxlY3RvckFsbCIsInJlc2V0IiwiX2dldCIsIl9nZXRQcm90b3R5cGVPZiIsInByb3RvdHlwZSIsImlucHV0VmFsdWVzIiwiZm9yRWFjaCIsImlucHV0RWwiLCJuYW1lIiwicHJldmVudERlZmF1bHQiLCJfZ2V0SW5wdXRWYWx1ZXMiLCJQb3B1cFdpdGhJbWFnZSIsIl9wb3B1cEltYWdlIiwiX3BvcHVwVGl0bGUiLCJsaW5rIiwic3JjIiwiYWx0IiwiY29uY2F0IiwidGV4dENvbnRlbnQiLCJQb3B1cFdpdGhEZWxldGUiLCJfZm9ybUVsIiwiRm9ybVZhbGlkYXRvciIsImZvcm1TZWxlY3RvciIsInZhbGlkYXRpb25TZXR0aW5ncyIsIl9pbnB1dFNlbGVjdG9yIiwiaW5wdXRTZWxlY3RvciIsIl9zdWJtaXRCdXR0b25TZWxlY3RvciIsInN1Ym1pdEJ1dHRvblNlbGVjdG9yIiwiX2luYWN0aXZlQnV0dG9uQ2xhc3MiLCJpbmFjdGl2ZUJ1dHRvbkNsYXNzIiwiX2lucHV0RXJyb3JDbGFzcyIsImlucHV0RXJyb3JDbGFzcyIsIl9lcnJvckNsYXNzIiwiZXJyb3JDbGFzcyIsIl9zdWJtaXRCdXR0b25zIiwidmFsaWRpdHkiLCJ2YWxpZCIsIl9zaG93SW5wdXRFcnJvciIsIl9oaWRlSW5wdXRFcnJvciIsImlucHV0IiwiZXJyb3JNZXNzYWdlRWwiLCJpZCIsInZhbGlkYXRpb25NZXNzYWdlIiwiaW5wdXRMaXN0IiwiZXZlcnkiLCJfaGFzSW52YWxpZElucHV0IiwiZGlzYWJsZWQiLCJfY2hlY2tJbnB1dFZhbGlkaXR5IiwidG9nZ2xlQnV0dG9uU3RhdGUiLCJfc2V0RXZlbnRMaXN0ZW5lcnMiLCJVc2VySW5mbyIsInRpdGxlU2VsZWN0b3IiLCJkZXNjcmlwdGlvblNlbGVjdG9yIiwiYXZhdGFyU2VsZWN0b3IiLCJfdGl0bGVFbCIsIl9kZXNjcmlwdGlvbkVsIiwiX2F2YXRhckVsIiwidGl0bGUiLCJkZXNjcmlwdGlvbiIsImF2YXRhciIsIlNlY3Rpb24iLCJjb250YWluZXJTZWxlY3RvciIsIml0ZW1zIiwicmVuZGVyZXIiLCJfaXRlbXMiLCJfcmVuZGVyZXIiLCJfY29udGFpbmVyIiwiaXRlbSIsImVsZW1lbnQiLCJwcmVwZW5kIiwiQ2FyZCIsImRhdGEiLCJjYXJkU2VsZWN0b3IiLCJoYW5kbGVJbWFnZUNsaWNrIiwiaGFuZGxlRGVsZXRlQ2xpY2siLCJoYW5kbGVMaWtlQ2xpY2siLCJfZGVmaW5lUHJvcGVydHkiLCJfbGlrZUJ1dHRvbiIsInRvZ2dsZSIsIl9lbGVtZW50IiwiX25hbWUiLCJfbGluayIsIl9pZCIsIl9pc0xpa2VkIiwiaXNMaWtlZCIsIl9oYW5kbGVJbWFnZUNsaWNrIiwiX2hhbmRsZURlbGV0ZUNsaWNrIiwiX2hhbmRsZUxpa2VDbGljayIsIl9jYXJkU2VsZWN0b3IiLCJjb250ZW50IiwiZmlyc3RFbGVtZW50Q2hpbGQiLCJjbG9uZU5vZGUiLCJfY2FyZFRyYXNoIiwiX2NhcmRJbWFnZUVsIiwiX2dldFRlbXBsYXRlIiwiX3JlbW92ZUJ1dHRvbiIsInVwZGF0ZUxpa2VWaWV3Iiwic2VjdGlvbiIsIkFwaSIsIm9wdGlvbnMiLCJfaGVhZGVycyIsImhlYWRlcnMiLCJiYXNlVXJsIiwicmVzIiwib2siLCJqc29uIiwiUHJvbWlzZSIsInJlamVjdCIsInN0YXR1cyIsImZldGNoIiwidGhlbiIsIl9jaGVja1Jlc3BvbnNlIiwibWV0aG9kIiwiY29ob3J0IiwiYWJvdXQiLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsImNhcmRJZCIsInZhcmlhYmxlcyIsInByb2ZpbGVFZGl0QnV0dG9uIiwicHJvZmlsZUVkaXRNb2RhbCIsInByb2ZpbGVUaXRsZUlucHV0IiwicHJvZmlsZURlc2NyaXB0aW9uSW5wdXQiLCJwcm9maWxlRWRpdEZvcm0iLCJwcm9maWxlQWRkRm9ybSIsInByb2ZpbGVJbWFnZSIsImFkZE5ld01vZGFsQ2FyZCIsImNhcmRMaXN0RWwiLCJwcm9maWxlQWRkQnV0dG9uIiwiZGVsZXRlTW9kYWwiLCJhdmF0YXJJbnB1dCIsImF2YXRhck1vZGFsIiwiYXZhdGFyTW9kYWxCdXR0b24iLCJhZGRNb2RhbEJ1dHRvbiIsImVkaXRNb2RhbEJ1dHRvbiIsImFwaSIsImF1dGhvcml6YXRpb24iLCJnZXRJbml0aWFsQ2FyZHMiLCJjYXJkRGF0YSIsImNyZWF0ZUNhcmQiLCJyZW5kZXJJdGVtcyIsImNhdGNoIiwiZXJyb3IiLCJsb2FkSW5mbyIsInVzZXJJbmZvIiwic2V0VXNlckluZm8iLCJzZXRBdmF0YXIiLCJwb3B1cFdpdGhJbWFnZSIsInNldEJ1dHRvblRleHQiLCJidXR0b24iLCJ0ZXh0Iiwib3BlbiIsImNhcmQiLCJhZGRJdGVtIiwiZ2VuZXJhdGVDYXJkIiwic2V0RXZlbnRMaXN0ZW5lcnMiLCJzZXRTdWJtaXRBY3Rpb24iLCJkZWxldGVDYXJkIiwiaGFuZGxlRGVsZXRlIiwidXBkYXRlTGlrZSIsImhhbmRsZUxpa2UiLCJhZGRGb3JtVmFsaWRhdG9yIiwiZW5hYmxlVmFsaWRhdGlvbiIsImFkZFBvcHVwIiwiYWRkTmV3Q2FyZCIsImZpbmFsbHkiLCJlZGl0UG9wdXAiLCJlZGl0UHJvZmlsZSIsInVzZXIiLCJnZXRVc2VySW5mbyIsIm5hbWVJbnB1dCIsImRlc2NyaXB0aW9uSW5wdXQiLCJ1cGRhdGVBdmF0YXIiXSwic291cmNlUm9vdCI6IiJ9